<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Rezolve Inside (TM) SDK Documentation</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;swift&quot;,&quot;java&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="swift">IOS</a>
              <a href="#" data-language-name="java">Android</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='http://www.rezolve.com'>Rezolve Homepage</a></li>
            <li><a href='https://github.com/tripit/slate'>Docs powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1><pre class="highlight html tab-html"><code>Note:

Code samples for IOS and Android will appear in this column.

You can switch between IOS and Android by clicking the tabs above.
</code></pre>
<p>The <strong>Rezolve Inside<sup>TM</sup> SDK</strong> is a software development kit that enables mobile app developers to integrate Rezolve’s mobile commerce and engagement capabilities into their new or existing mobile apps.</p>

<p>To learn more about what the Rezolve Inside<sup>TM</sup> SDK can offer your app, <a href="images/RezolveOverview-Platform.pdf">click here for a platform overview PDF</a>.</p>
<h2 id='demo-app'>Demo App</h2>
<p>A Rezolve demo app is available, and is a great way to experience Rezolve&#39;s offerings. A pdf of the screen flow is <a href="images/DemoAppFlowScreens.pdf">available here</a>.</p>

<p>If you would like access to the demo app, email Stephen Meli (stephenmeli@rezolve.com) the following information:</p>

<ol>
<li>Your full name</li>
<li>Your company</li>
<li>What country you are located in</li>
<li>Your contact phone number (and Skype ID if you have one)</li>
<li>Your phone OS (Android or IOS), OS version (if you know it), and phone model</li>
<li>The email address associated with your Android or IOS account (the one associated with the Play Store/App Store)</li>
<li>Your contact email, if it differs from your account email</li>
</ol>
<h2 id='capabilities'>Capabilities</h2>
<p>The Rezolve Inside<sup>TM</sup> SDK is a full-featured application suite. Capabilities that can be integrated into your application include:</p>

<ul>
<li>Enabling Shoppable Ads - <a href="images/RezolveOverview-ShoppableAds.pdf">Shoppable Ads PDF</a></li>
<li>Creating a browsable Mall - <a href="images/RezolveOverview-Mall.pdf">Mall PDF</a></li>
<li>Supporting Pre-pay account Top Up - <a href="images/RezolveOverview-TopUp.pdf">Top Up PDF</a></li>
<li>Consumer management of topup devices</li>
<li>Scanning of Rezolve Encoded visual media</li>
<li>Scanning of Rezolve Encoded audio media</li>
<li>Consumer account creation, consumer profile, and purchase history</li>
<li>Wallet management</li>
</ul>

<p>The Rezolve Inside<sup>TM</sup> SDK and Platform feature a robust and state-of-the-art security model (see <a href="images/RezolveOverview-Security.pdf">see security overview PDF</a>).</p>
<h2 id='intended-audience'>Intended audience</h2>
<p>This document is intended for experienced IOS and Android developer. It is expected that you have built apps before, and know your way around an IDE.</p>
<h2 id='term-definitions'>Term Definitions</h2>
<table><thead>
<tr>
<th>term</th>
<th>definition</th>
</tr>
</thead><tbody>
<tr>
<td>Partner</td>
<td>The Partner is the owner of a mobile application and audience. It is the Partner who wishes to integrate the Rezolve Inside<sup>TM</sup> SDK capabilities with their app.</td>
</tr>
<tr>
<td>Developer</td>
<td>The Developer is the mobile app developer of the Partner.</td>
</tr>
<tr>
<td>Merchant</td>
<td>A merchant runs an ecommerce site that offers products for sale. Merchants also create Shoppable Ads and link them to products. A merchant may also offer device accounts that need Top Up.</td>
</tr>
<tr>
<td>Consumer</td>
<td>The end user of the Partner&#39;s mobile app. The customer who buys merchant products.</td>
</tr>
<tr>
<td>SDK</td>
<td>Refers to the Rezolve Inside<sup>TM</sup> SDK, unless otherwise specified.</td>
</tr>
</tbody></table>
<h2 id='for-more-information'>For more information</h2>
<p>For more information on Rezolve, see http://rezolve.com.</p>
<h1 id='getting-started'>Getting Started</h1><h2 id='get-an-api-key'>Get an API key</h2>
<p>You will need an API key to use the Rezolve Inside<sup>TM</sup> SDK.  Please visit <a href="https://www.rezolve.com/#sectionForm">the contact page</a> and request an API key. We’ll establish some basic information to form a contract of use, and send for your approval. Upon signature, we will provide an API key for you to use.</p>
<h2 id='supported-os-versions'>Supported OS Versions</h2>
<table><thead>
<tr>
<th>OS</th>
<th>Minimum Version</th>
</tr>
</thead><tbody>
<tr>
<td>IOS</td>
<td>IOS 10 and up</td>
</tr>
<tr>
<td>Android</td>
<td>4.2.2 and up</td>
</tr>
</tbody></table>
<h2 id='download-the-rezolve-insidetm-sdk'>Download the Rezolve Inside<sup>TM</sup> SDK</h2>
<p>The SDK for <strong>IOS</strong> can be downloaded here:</p>

<ul>
<li><a href="http://rezolve.com/sdk-releases/rezolve-ios-sdk-1.6.0.zip">rezolve-ios-sdk-1.6.0.zip</a> - contains libraries for both ARM and x86. </li>
</ul>

<p>The SDK for <strong>Android</strong> can be downloaded here: </p>

<ul>
<li><a href="http://rezolve.com/sdk-releases/rezolve-android-sdk-1.6.0-release.aar">rezolve-android-sdk-1.6.0-release.aar</a> - for all platforms</li>
</ul>
<h2 id='set-up-the-sdk-ios'>Set up the SDK - IOS</h2>
<p>The target IDE for IOS instructions is <strong>XCode</strong>. If you use a different IDE you may have to follow a different series of steps, please refer to your IDE documentation to understand how to incorporate third party SDKs into your IDE.</p>

<p>The IOS SDK is distributed as a framework. This makes it easy to embed Rezolve capabilities in your app. The steps are as follows:</p>

<ol>
<li>Open your existing project root directory.<br/><br/></li>
<li>Create a directory called Rezolve.<br/><img src="images/ios-step2.png" style="margin:6px 0; border:1px solid #333;"><br/><br/></li>
<li>Copy all zip content to this new directory.<br/><img src="images/ios-step3.png" style="margin:6px 0; border:1px solid #333;"><br/><br/></li>
<li>Next, go to the app target’s General configuration page. Add the framework target to the Embedded Binaries section by clicking the Add icon,<br/><img src="images/ios-add-framework.png" style="margin:6px 0; border:1px solid #333;"><br/><br/></li>
<li>Click &quot;Add Other&quot;, <br/><img src="images/ios-step5a.png" style="margin:6px 0; border:1px solid #333;"><br/><br/></li>
<li>...and pick the framework file from the Rezolve directory you created in step 2. Do NOT drag in the framework from Finder.<br/><img src="images/ios-step5b.png" style="margin:6px 0; border:1px solid #333;"><br/><br/></li>
</ol>
<h2 id='set-up-the-sdk-android'>Set up the SDK - Android</h2>
<p>The target IDE for Android instructions is <strong>Android Studio</strong>. If you use a different IDE you may have to follow a different series of steps, please refer to your IDE documentation to understand how to incorporate third party SDKs into your IDE.</p>

<p>The Android SDK is distributed as an .aar library. This makes it easy to import Rezolve capabilities into your app. The steps are as follows:</p>

<ol>
<li> In your project, change to the Project view, and add the .aar file you downloaded to the /libs folder. If prompted by Android Studio to select the file association, pick “Archive”. <br/><img src="images/import-1-addtolib.png" style="margin:6px 0;"><br/><img src="images/import-2-lib.png" style="margin:6px 0;"><br/><br/></li></ol>
<pre class="highlight java tab-java"><code><span class="n">flatDir</span> <span class="o">{</span>
    <span class="n">dirs</span> <span class="err">'</span><span class="n">libs</span><span class="err">'</span>
<span class="o">}</span>
</code></pre>
<ol start="2"><li>In the project-level gradle file, specify the libs dir as "flatDir". <br/><img src="images/import-3-addtogradle.png" style="margin:6px 0;"><br/><br/></li></ol>
<pre class="highlight java tab-java"><code><span class="n">compile</span><span class="o">(</span><span class="nl">name:</span><span class="err">'</span><span class="n">rezolve</span><span class="o">-</span><span class="n">sdk</span><span class="o">-</span><span class="mf">1.0</span><span class="o">-</span><span class="n">release</span><span class="err">'</span><span class="o">,</span> <span class="nl">ext:</span> <span class="err">'</span><span class="n">aar</span><span class="err">'</span><span class="o">)</span>
</code></pre>
<ol start="3"><li>Lastly, in the application-level gradle file, add the Rezolve Inside<sup>TM</sup> SDK as a dependency (change filename/version as needed to match your download). If necessary, re-sync the project.<br/><img src="images/import-4-addtodepen.png" style="margin:6px 0;"><br/><br/></li><li>The SDK is ready to use.</li></ol>

          <h1 id='sdk-feature-use'>SDK Feature Use</h1>
<p>This section describes the usage of the SDK to build specific feature-related functionalities.</p>
<h2 id='basic-usage'>Basic Usage</h2><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">UIKit</span>

<span class="c1">// Import the following library:</span>
<span class="kd">import</span> <span class="kt">RezolveSDK</span>

<span class="kd">class</span> <span class="kt">RezolveSDK1ViewController</span><span class="p">:</span> <span class="kt">ViewController</span> <span class="p">{</span>
    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>

        <span class="c1">// initialize SDK</span>
        <span class="c1">// possible values for RezolveEnv enum are .Sandbox, .Production</span>
        <span class="k">let</span> <span class="nv">API_KEY</span><span class="p">:</span> <span class="kt">String</span>  <span class="o">=</span> <span class="s">"1234567890"</span>
        <span class="k">let</span> <span class="nv">ENVIRONMENT</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span>
        <span class="k">let</span> <span class="nv">sdk</span><span class="p">:</span> <span class="kt">RezolveSDK</span> <span class="o">=</span> <span class="kt">RezolveSDK</span><span class="p">(</span><span class="nv">apiKey</span><span class="p">:</span> <span class="kt">API_KEY</span><span class="p">,</span> <span class="nv">env</span><span class="p">:</span> <span class="kt">ENVIRONMENT</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">didReceiveMemoryWarning</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">didReceiveMemoryWarning</span><span class="p">()</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre><pre class="highlight java tab-java"><code><span class="c1">// Import the following classes:</span>
<span class="kn">import</span> <span class="nn">com.rezolve.sdk.RezolveInterface</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.rezolve.sdk.RezolveSDK</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.rezolve.sdk.RezolveSession</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.rezolve.sdk.model.customer.DeviceProfile</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.rezolve.sdk.model.foreign.SignUpRequest</span><span class="o">;</span>

<span class="c1">// To handle server responses you will need to import interfaces or</span>
<span class="c1">// abstract classes from the following packages:</span>
<span class="kn">import</span> <span class="nn">com.rezolve.sdk.core.callbacks.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.rezolve.sdk.core.interfaces.*</span><span class="o">;</span>


<span class="c1">// Rezolve SDK operates on models from com.rezolve.sdk.model subpackages. </span>
<span class="c1">// For example to handle a response from getMerchants query you will need </span>
<span class="c1">// a Merchant model:</span>

<span class="kn">import</span> <span class="nn">com.rezolve.sdk.model.shop.Merchant</span><span class="o">;</span>



<span class="c1">// initialize SDK</span>

<span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"your_api_key"</span><span class="o">;</span>
<span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">ENVIRONMENT</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span><span class="o">;</span>

<span class="n">RezolveSDK</span> <span class="n">sdk</span> <span class="o">=</span> <span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span> <span class="n">ENVIRONMENT</span><span class="o">);</span>



</code></pre><pre class="highlight java tab-java"><code><span class="c1">// Note: the SDK's manifest requests the following permissions:</span>
<span class="c1">// On Android 6.0+, you will have to specifically request the last two. </span>
<span class="c1">// See https://developer.android.com/training/permissions/requesting.html</span>

<span class="o">&lt;</span><span class="n">uses</span><span class="o">-</span><span class="n">permission</span> <span class="nl">android:</span><span class="n">name</span><span class="o">=</span><span class="s">"android.permission.INTERNET"</span> <span class="o">/&gt;</span>
<span class="o">&lt;</span><span class="n">uses</span><span class="o">-</span><span class="n">permission</span> <span class="nl">android:</span><span class="n">name</span><span class="o">=</span><span class="s">"android.permission.ACCESS_WIFI_STATE"</span> <span class="o">/&gt;</span>
<span class="o">&lt;</span><span class="n">uses</span><span class="o">-</span><span class="n">permission</span> <span class="nl">android:</span><span class="n">name</span><span class="o">=</span><span class="s">"android.permission.WRITE_EXTERNAL_STORAGE"</span> <span class="o">/&gt;</span>
<span class="o">&lt;</span><span class="n">uses</span><span class="o">-</span><span class="n">permission</span> <span class="nl">android:</span><span class="n">name</span><span class="o">=</span><span class="s">"android.permission.RECORD_AUDIO"</span> <span class="o">/&gt;</span>
<span class="o">&lt;</span><span class="n">uses</span><span class="o">-</span><span class="n">permission</span> <span class="nl">android:</span><span class="n">name</span><span class="o">=</span><span class="s">"android.permission.CAMERA"</span> <span class="o">/&gt;</span>

</code></pre>
<p>To get started, import the SDK into your code file.</p>

<p>The SDK must be initialized before use. When initializing the SDK, you must specify your <code>API Key</code>, and the <code>server environment</code> you are targeting.</p>

<p>Your <code>API Key</code> is supplied to you when you set up a developer account with Rezolve.</p>

<p>Your <code>server environment</code> is an enum. See values, right.</p>
<h2 id='android-specific-instructions-on-managers'>Android-specific instructions on Managers</h2><pre class="highlight java tab-java"><code>
<span class="c1">//  THE FOLLOWING TWO METHODS ARE EQUIVALENT, but Interface saves effort</span>

<span class="c1">//</span>
<span class="c1">// Using MANAGER, you must handle the response in a WalletCallback:</span>
<span class="c1">//</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyActivity</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="o">{</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="o">...</span>
        <span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span> <span class="n">ENVIRONMENT</span><span class="o">)</span>
        <span class="o">.</span><span class="na">createSession</span><span class="o">(</span><span class="n">entityId</span><span class="o">,</span> <span class="n">partnerId</span><span class="o">,</span> <span class="n">deviceProfile</span><span class="o">,</span> <span class="k">new</span> <span class="n">RezolveInterface</span><span class="o">()</span> <span class="o">{</span>

            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onInitializationSuccess</span><span class="o">(</span><span class="n">RezolveSession</span> <span class="n">rezolveSession</span><span class="o">,</span> <span class="n">String</span> 
            <span class="n">entityId</span><span class="o">,</span> <span class="n">String</span> <span class="n">partnerId</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">rezolveSession</span><span class="o">.</span><span class="na">getWalletManager</span><span class="o">().</span><span class="na">getAll</span><span class="o">(</span><span class="k">new</span> <span class="n">WalletCallback</span><span class="o">()</span> <span class="o">{</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onWalletGetAllSuccess</span><span class="o">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">PaymentCard</span><span class="o">&gt;</span> <span class="n">list</span><span class="o">)</span> <span class="o">{</span>

                    <span class="c1">// handle getAll response here</span>
                        <span class="k">for</span><span class="o">(</span><span class="n">PaymentCard</span> <span class="n">paymentCard</span> <span class="o">:</span> <span class="n">list</span><span class="o">)</span> <span class="o">{</span>
                            <span class="n">String</span> <span class="n">cardId</span> <span class="o">=</span> <span class="n">paymentCard</span><span class="o">.</span><span class="na">getId</span><span class="o">();</span>
                            <span class="n">String</span> <span class="n">expiresOn</span> <span class="o">=</span> <span class="n">paymentCard</span><span class="o">.</span><span class="na">getExpiresOn</span><span class="o">();</span>
                            <span class="c1">// ...etc</span>
                        <span class="o">}</span>
                    <span class="o">}</span>
                <span class="o">});</span>
            <span class="o">}</span>
        <span class="o">});</span>
    <span class="o">}</span>
<span class="o">}</span>


<span class="c1">//</span>
<span class="c1">// Using INTERFACE, you can save some development time</span>
<span class="c1">//</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyActivity</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="kd">implements</span> <span class="n">WalletInterface</span> <span class="o">{</span>
    <span class="o">...</span>
    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span> <span class="n">ENVIRONMENT</span><span class="o">).</span><span class="na">getRezolveSession</span><span class="o">()</span>
        <span class="o">.</span><span class="na">getWalletManager</span><span class="o">().</span><span class="na">getAll</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onWalletGetAllSuccess</span><span class="o">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">PaymentCard</span><span class="o">&gt;</span> <span class="n">list</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// handle getAll response here</span>
        <span class="k">for</span><span class="o">(</span><span class="n">PaymentCard</span> <span class="n">paymentCard</span> <span class="o">:</span> <span class="n">list</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">String</span> <span class="n">cardId</span> <span class="o">=</span> <span class="n">paymentCard</span><span class="o">.</span><span class="na">getId</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">expiresOn</span> <span class="o">=</span> <span class="n">paymentCard</span><span class="o">.</span><span class="na">getExpiresOn</span><span class="o">();</span>
            <span class="c1">// ...etc</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>In the Android version of the Rezolve Inside<sup>TM</sup> SDK, each FeatureManager has an equivalent FeatureInterface.</p>

<p>For example, to use <code>WalletManager</code> methods, you can either do so directly, or implement <code>WalletInterface</code> in your current activity for convenience. See Android code at right for comparison.</p>

<p>The Module Reference section exclusively documents using Feature Interfaces, as this is the preferred method.</p>
<h2 id='automatic-thumbnail-generation'>Automatic thumbnail generation</h2>
<blockquote>
<p>Example JSON for 1 large image, and 4 associated &quot;thumbnail&quot; images</p>
</blockquote>
<pre class="highlight plaintext"><code>      "image": "https:\/\/s3.amazonaws.com\/1\/27\/Image.png",
      "image_thumbs": [
        "https:\/\/s3.amazonaws.com\/1\/27\/Image_thumb_400x550.png",
        "https:\/\/s3.amazonaws.com\/1\/27\/Image_thumb_800x1100.png",
        "https:\/\/s3.amazonaws.com\/1\/27\/Image_thumb_1200x1651.png",
        "https:\/\/s3.amazonaws.com\/1\/27\/Image_thumb_1600x2201.png"
      ],
</code></pre>
<p>When large images are uploaded to the merchant portal, the portal automatically generates a series of smaller images, which are referred to as thumbnails even though some are fairly large. The rules for thumbnail generation are as follows:</p>

<ul>
<li>Generated images respect the aspect ratio of the original image; their height/width ratio will not be distorted</li>
<li>If the uploaded image is: 

<ul>
<li>smaller or equal to 400px maximum dimension (width or height), no resized image is produced.</li>
<li>larger than 400px maximum dimension, it makes a 400px max dimension image. (referred to as the &quot;thumbnail&quot; image)</li>
<li>larger than 800px maximum dimension, it makes a 800px max dimension image, and all smaller sizes.</li>
<li>larger than 1200px maximum dimension, it makes a 1200px max dimension image, and all smaller sizes.</li>
<li>larger than 1600px maximum dimension, it makes a 1600px max dimension image, and all smaller sizes.</li>
</ul></li>
<li>Additionally, the original upload image always returned, even if gigantic. Consider if you need images larger than 1600x1600 in your app.</li>
<li>This applies to all merchant uploaded images that are supplied to the SDK. </li>
</ul>

<p>Each uploaded image will have a corresponding array of thumbnails. If an object can have an array of images, it will have an array of thumbnail arrays.</p>
<h2 id='user-management-introduction'>User Management Introduction</h2>
<p>For the purpose of the SDK, it is assumed the partner has an existing community of consumers, and has a method of authenticating them in the partner app. It is further assumed the partner wishes to introduce their consumers to Rezolve capabilities. Each partner consumer that wishes to utilize Rezolve services will need a Rezolve account.</p>

<p>The Rezolve SDK has no built-in authentication mechansim, but that is not to say there is no security. Instead, Rezolve is utilizing a server-to-server JWT authorization system, conformant with the <strong>https://tools.ietf.org/html/rfc7519</strong> standard. If you are not familar with Jason Web Tokens, the site <strong>https://jwt.io/</strong> provides an excellent primer on the use of JWTs, as well as links to various JWT libraries you can utilize.</p>

<p>Exactly how you implement authentication in your app will depend on what authorization system you use. You may either:</p>

<ul>
<li><p>Utilize an existing authentication server, and adapt it to serve the JWT required by Rezolve. This makes most sense if you already have a community of users with logins.</p></li>
<li><p>Utilize Rezolve User Authentication (RUA), our implementation of a JWT-aware auth system. If you do not have an existing auth system, adopting RUA may save development time, as opposed to implementing a new system from the ground up.</p></li>
</ul>

<p>The primary task in implementing user management is to create the JWT that will allow you to bind a Partner user to a Rezolve profile. Through a server-to-server transaction, you can create a new Rezolve User Profile, and get back an identifying <code>entityId</code> that you should persist in your authentication database, as an addition to your user record. This <code>entityId</code> will then be used by the Rezolve SDK to identify the user to the Rezolve Server. </p>
<h2 id='session-management-introduction'>Session Management Introduction</h2>
<p>Once a Rezolve Profile has been established, and an <code>entityId</code> secured, there is no Login per-se in the Rezolve system. Whether or not the SDK can talk to Rezolve Services depends on supplying a valid JWT to the SDK from your auth system. If the user-specific JWT you supply is valid, you are able to create a session, and access the SDK capabilities. </p>

<p>Expiring a session is as simple as expiring the JWT token. So it is up to the partner&#39;s auth server to either renew the JWT when it expires, or to set an expiration when the partner consumer logs out. </p>

<p>More on User Management and Session Management can be sound in the sections on JWT Authorization and RUA.  Look at whichever section is relevant to your situation.</p>
<h2 id='consumer-profile-management'>Consumer Profile Management</h2>
<p>Once you have established a session, you have access to the consumer&#39;s records. These include:</p>

<ul>
<li>Consumer Profile - Via the <code>ConsumerProfileManager</code>. Name, email, and device profile (phone info) for the consumer</li>
<li>Address Book - Via the <code>AddressbookManager</code>. A collection of postal addresses, to be used for ship-to and bill-to purposes.</li>
<li>Phone Book - Via the <code>PhonebookManager</code>. A collection of phone numbers associated with the profile. </li>
<li>Favorites - Via the <code>FavouriteManager</code>. Reserved for future functionality, &quot;Favorites&quot; are collections of unique devices that can be topped up.  A favorite can represent a mobile phone, a tollway transponder, or other device/account.</li>
<li>Wallet - Via the <code>WalletManager</code>. Wallet lets you store credit card info securely, and lets the consumer maintain the list of cards. There can be multiple cards.</li>
</ul>

<p>There are no specific flows to consider when managing the customer profile and associated records.</p>

<p>AddressbookManager, FavouriteManager, PhonebookManager and WalletManager support the following CRUD operations: <code>create</code>, <code>update</code>, <code>delete</code>, <code>getAll</code>, <code>get</code>.</p>

<p>ProfileManager supports only <code>update</code> and <code>get</code>.</p>

          <h2 id='implementing-jwt-authentication-on-your-authentication-server'>Implementing JWT Authentication on Your Authentication Server</h2>
<p>As of release 1.6.0, the Rezolve SDK no longer includes an authentication system. Resultingly, the <code>AuthenticationManager.register</code> and <code>AuthenticationManager.logout</code>  methods have been deprecated.</p>

<p>Instead, Rezolve is utilizing a server-to-server JWT authentication system, conformant with the <strong>https://tools.ietf.org/html/rfc7519</strong> standard. If you are not familar with Jason Web Tokens, the site <strong>https://jwt.io/</strong> provides an excellent primer on the use of JWTs, as well as links to various JWT libraries you can utilize.</p>

<p>Rezolve expects the primary authentication of users will happen outside the SDK. Thus, exactly how you implement authentication in your app will depend on your existing auth system. In the server-to-server realm, however, there is only one instance in which your authentication server must interact with the Rezolve server. </p>

<p>After that, whether or not the SDK can talk to Rezolve depends on supplying a valid JWT to the SDK from your auth system.</p>

<p>When the Partner creates a new user on their auth server, or wishes to associate an existing user with Rezolve for the first time, the partner must generate the Registration JWT, and then POST it to the <code>/api/v1/authentication/register</code> endpoint. The Rezolve server will validate the JWT, create a new user, create the user&#39;s public/private key pair, and return to you the Rezolve EntityId. </p>

<p>When a user logs in to your auth system, generate a new Login JWT and supply to CreateSession in the SDK. As long as the JWT is valid, the SDK can talk to Rezolve. A method is suggested below for smoothly handling JWT timeouts without interrupting the SDK session. </p>
<h3 id='jwt-flow'>JWT Flow</h3>
<p><img src="images/GenericSWT.png" style="margin:6px 0;"><br/>[ <a href="images/GenericSWT.png" target="_blank">View full size</a> ]</p>
<h3 id='create-the-registration-jwt'>Create the Registration JWT</h3><h4 id='requirements'>Requirements</h4>
<p>You must possess:</p>

<table><thead>
<tr>
<th>field</th>
<th>description</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td>partner_id</td>
<td>The numerical id you are assigned by Rezolve</td>
<td>317</td>
</tr>
<tr>
<td>partner_api_key</td>
<td>The API key you are assigned by Rezolve</td>
<td>a1b2c3d4-e5f6-g7h8-i9j0-a1b2c3d4e5f6</td>
</tr>
<tr>
<td>partner_auth_key</td>
<td>The Auth key you are assigned by Rezolve</td>
<td>qwer+4ty ... JYG6XavJg== (approx 90 characters)</td>
</tr>
</tbody></table>
<h4 id='jwt-header'>JWT Header</h4><pre class="highlight plaintext"><code>{
    "alg": "HS512",
    "typ": "JWT"
}
</code></pre>
<p>Set type as JWT, and algorithm as HMAC using SHA-512.</p>
<h4 id='jwt-payload'>JWT Payload</h4><pre class="highlight plaintext"><code>{
    "rezolve_entity_id": ":NONE:",
    "partner_entity_id": "partner_entity_id",
    "exp": 1520869470
}
</code></pre>
<p>For the <code>rezolve_entity_id</code>, use the value <code>:NONE:</code>.</p>

<p>For the <code>partner_entity_id</code>, set it to the unique identifier for your user record. This may be a numerical id, or an identifying string such as email address.</p>

<p>For <code>exp</code>, set the expiration value to a small number, now() + 30 minutes or less. Expiration should be expressed as a unix timestamp integer. </p>
<h4 id='signature'>Signature</h4><pre class="highlight plaintext"><code>HMACSHA512(
    base64UrlEncode(header) + "." +
    base64UrlEncode(payload),
    ${$partner_auth_key}
)
</code></pre>
<p>Sign the header and payload with the <code>partner_auth_key</code>.</p>
<pre class="highlight plaintext"><code>eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.
eyJyZXpvbHZlX2VudGl0eV9pZCI6IjpOT05FOiIsInBhcnRuZXJfZW50aXR5X2lkIjoiMTIzIiwiZXhwIjoxNTIwODY5NDcwfQ.
5y2e6QpUKcqTNLTv75nO6a6iFPVxrF8YeAH5NTg2ZO9dkub31GEs0N46Hu2IJf1bQ_vC2IOO9Z2N7drmvA_AKg
</code></pre>
<p>The resulting JWT will look something like this (except without linebreaks); the first third is the header, the second third the payload, and the last third the signature: </p>
<h3 id='register-a-new-rezolve-user'>Register a new Rezolve User</h3><pre class="highlight plaintext"><code>POST: https://sandbox-api-tw.rzlvtest.co/api/v1/authentication/register
-H content-type: application/json
-H x-rezolve-partner-apikey: your-api-key
-H authorization: Bearer signed-jwt
-d {
email: user@example.com
}
</code></pre>
<p>After the JWT is created, POST it to the Rezolve registration endpoint. This will create a Rezolve User, generate a public/private keypair for the user, and return to you the corresponding Entity Id. </p>

<p>Example, using Sandbox endpoint: </p>
<pre class="highlight plaintext"><code>{
    "entity_id" : "entity123",
    "partner_id" : "3"
}
</code></pre>
<p>The endpoint will reply with an entity id and the partner id. You should save the Rezolve Entity Id to your authentication database and associate it with the user&#39;s record.</p>
<h3 id='logging-in-a-user'>Logging in a User</h3>
<p>Once a Rezolve User has been registered and an <code>entity_id</code> obtained, you can log in the user. Log them in via your normal method in your auth server. Then create a new Login JWT. Use this JWT when creating the Rezolve Session in the SDK.</p>
<h4 id='jwt-header-2'>JWT Header</h4>
<p>Note the addition of the &quot;auth&quot; line.</p>
<pre class="highlight plaintext"><code>{
    "auth": "v2",
    "alg": "HS512",
    "typ": "JWT"
}
</code></pre><h4 id='jwt-payload-2'>JWT Payload</h4><pre class="highlight plaintext"><code>{
    "rezolve_entity_id": "entity123",
    "partner_entity_id": "partner_entity_id",
    "exp": 1520869470
}
</code></pre>
<p>For the <code>rezolve_entity_id</code>, use the entity_id you obtained during registration.</p>

<p>For the <code>partner_entity_id</code>, set it to the unique identifier for your user record. </p>

<p>For <code>exp</code>, set the expiration value to a small number, now() + 30 minutes or less. Expiration should be expressed as a unix timestamp integer. </p>
<h4 id='signature-2'>Signature</h4><pre class="highlight plaintext"><code>HMACSHA512(
    base64UrlEncode(header) + "." +
    base64UrlEncode(payload),
    ${$partner_auth_key}
)
</code></pre>
<p>Sign the header and payload with the <code>partner_auth_key</code>.</p>
<h4 id='create-the-session'>Create the Session</h4><pre class="highlight swift tab-swift"><code><span class="kt">TODO</span>

</code></pre><pre class="highlight java tab-java"><code><span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"your_api_key"</span><span class="o">;</span>
<span class="n">String</span> <span class="n">ENVIRONMENT</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span><span class="o">;</span>
<span class="n">String</span> <span class="n">accessToken</span> <span class="o">=</span> <span class="s">"abc123.abc123.abc123"</span><span class="o">;</span>  <span class="c1">// JWT token from auth server</span>
<span class="n">String</span> <span class="n">entityId</span> <span class="o">=</span> <span class="s">"123"</span><span class="o">;</span>    <span class="c1">// from auth server</span>
<span class="n">String</span> <span class="n">partnerId</span> <span class="o">=</span> <span class="s">"123"</span><span class="o">;</span>   <span class="c1">// from auth server</span>

<span class="c1">// NEW session requires Login JWT  from auth server (customer auth or RUA)</span>
<span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span> <span class="n">ENVIRONMENT</span><span class="o">).</span><span class="na">createSession</span><span class="o">(</span> <span class="n">accessToken</span><span class="o">,</span> <span class="n">entityId</span><span class="o">,</span> <span class="n">partnerId</span><span class="o">,</span> <span class="k">new</span> <span class="n">RezolveInterface</span><span class="o">()</span> <span class="o">{</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onInitializationSuccess</span><span class="o">(</span><span class="n">RezolveSession</span> <span class="n">rezolveSession</span><span class="o">,</span> <span class="n">String</span> <span class="n">entityId</span><span class="o">,</span> <span class="n">String</span> <span class="n">partnerId</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// use created session to access managers.  Example...</span>
        <span class="n">rezolveSession</span><span class="o">.</span><span class="na">getCustomerProfileManager</span><span class="o">().</span><span class="na">get</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onInitializationFailure</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">// handle error</span>
    <span class="o">}</span>
<span class="o">});</span>
</code></pre><h3 id='handling-jwt-expiration-amp-session-preservation'>Handling JWT Expiration &amp; Session Preservation</h3><pre class="highlight swift tab-swift"><code><span class="kt">TODO</span>
</code></pre><pre class="highlight java tab-java"><code><span class="c1">// handle JWT expiration without ending session</span>
<span class="kd">private</span> <span class="kt">void</span> <span class="nf">attemptToGetAddressBook</span><span class="o">(</span><span class="kd">final</span> <span class="n">RezolveSession</span> <span class="n">session</span><span class="o">,</span> <span class="kd">final</span> <span class="kt">boolean</span> <span class="n">retryOnFail</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">session</span><span class="o">.</span><span class="na">getAddressbookManager</span><span class="o">().</span><span class="na">getAll</span><span class="o">(</span><span class="k">new</span> <span class="n">AddressbookCallback</span><span class="o">()</span> <span class="o">{</span>
        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onAddressbookGetAllSuccess</span><span class="o">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">Address</span><span class="o">&gt;</span> <span class="n">addresses</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">setAddresses</span><span class="o">(</span><span class="n">addresses</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onFailure</span><span class="o">(</span><span class="n">HttpResponse</span> <span class="n">httpResponse</span><span class="o">)</span> <span class="o">{</span>
            <span class="c1">// TODO - create generic example</span>
            <span class="c1">// Show getting a new JWT</span>
            <span class="c1">// Show setting new JWT in Session Header. </span>
            <span class="c1">// Anything else?</span>
        <span class="o">}</span>
    <span class="o">});</span>
<span class="o">}</span>
</code></pre>
<p>The Login JWT you generate is included in the headers of every SDK transmission. Thus, when your consumer logs out, you can expire the JWT, and the app will cease communication with the Rezolve server. To do this, create a new JWT with an expiration stamp in the past, and supply it to the SDK.</p>

<p>However, this also means you are required to handle JWT token expiration/renewal. To do this smoothly without interrupting the user session, Rezolve recommends creating a wrapper around any call that contacts the server. If the server returns an authorization error, you can call your token renewal endpoint and issue a new JWT. </p>

<p>Here is an example, using the getAddressBook method of the AddressBookManager class. Note the use of a boolean to only retry once; this is to prevent continual retries in the event of a purposeful logout.  </p>
<h3 id='http-error-responses'>HTTP Error Responses</h3><h4 id='403'>403</h4><pre class="highlight plaintext"><code>{
    "type": "Authentication"
    "code": "1"
    "message": "Access is denied."
}
</code></pre>
<p>For security reasons, Rezolve masks certain potential issues behind a generic 403 response:
- invalid partner api key
- partner doesn&#39;t have an auth key
- token not found
- invalid token signature
- token is missing required fields
- token belongs to another user</p>
<h4 id='401'>401</h4><pre class="highlight plaintext"><code>{
    "type": "Expired Token"
    "code": "8"
    "message": "Your token has expired, refresh your token and try again."
}
</code></pre>
<p>If you receive this response, call your JWT renewal endpoint. </p>

          <h2 id='implementing-rua'>Implementing RUA</h2>
<p>TODO    </p>

          <h2 id='product-scan-instant-buy-flow'>Product Scan, Instant Buy flow</h2>
<p><img src="images/JWT-shoppable-ad-flow-single-buy.png" style="margin:6px 0;"><br/>[ <a href="images/JWT-shoppable-ad-flow-single-buy.png" target="_blank">View full size</a> ]</p>

<p>The premise of Shoppable Ads is to capture an image scan (usually of an advertisement) using the Scan Manager, resolve it into a product URL, fetch the product info, and enable purchase via saved account information.</p>

<p>In the Instant Buy flow, we purchase the product immediately, without first adding it to the cart.</p>
<h4 id='1-capture-image-and-get-product'>1. Capture image and get product</h4><pre class="highlight swift tab-swift"><code><span class="kd">class</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">UIViewController</span><span class="p">,</span> <span class="kt">ProductDelegate</span> <span class="p">{</span>

    <span class="k">var</span> <span class="nv">session</span><span class="p">:</span> <span class="kt">RezolveSession</span><span class="p">?</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>

        <span class="k">let</span> <span class="nv">sdk</span><span class="p">:</span> <span class="kt">RezolveSDK</span> <span class="o">=</span> <span class="kt">RezolveSDK</span><span class="p">(</span><span class="nv">apiKey</span><span class="p">:</span> <span class="kt">API_KEY</span><span class="p">,</span> <span class="nv">env</span><span class="p">:</span> <span class="kt">SDK_ENV</span><span class="p">)</span>

        <span class="k">let</span> <span class="nv">signUpRequest</span> <span class="o">=</span> <span class="nf">createSingUpRequest</span><span class="p">()</span>

        <span class="n">sdk</span><span class="o">.</span><span class="nf">registerUser</span><span class="p">(</span><span class="nv">request</span><span class="p">:</span> <span class="n">signUpRequest</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="nv">partnerId</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">entityId</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="k">in</span>

            <span class="n">sdk</span><span class="o">.</span><span class="nf">createSession</span><span class="p">(</span><span class="nv">entityId</span><span class="p">:</span> <span class="n">entityId</span><span class="p">,</span> <span class="nv">partnerId</span><span class="p">:</span> <span class="n">partnerId</span><span class="p">,</span> <span class="nv">device</span><span class="p">:</span> <span class="n">signUpRequest</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">session</span><span class="p">:</span> <span class="kt">RezolveSession</span><span class="p">)</span> <span class="k">in</span>

                <span class="k">self</span><span class="o">.</span><span class="n">session</span> <span class="o">=</span> <span class="n">session</span>
                <span class="k">self</span><span class="o">.</span><span class="n">session</span><span class="p">?</span><span class="o">.</span><span class="nf">getScanManager</span><span class="p">()</span><span class="o">.</span><span class="n">productResultDelegate</span> <span class="o">=</span> <span class="k">self</span>
                <span class="k">self</span><span class="o">.</span><span class="n">session</span><span class="p">?</span><span class="o">.</span><span class="nf">getScanManager</span><span class="p">()</span><span class="o">.</span><span class="nf">startVideoScan</span><span class="p">(</span><span class="nv">scanCameraView</span><span class="p">:</span> <span class="k">self</span><span class="o">.</span><span class="n">view</span> <span class="k">as!</span> <span class="kt">ScanCameraView</span><span class="p">)</span>

            <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>
        <span class="p">}</span>
    <span class="p">}</span>


    <span class="kd">func</span> <span class="nf">onError</span><span class="p">(</span><span class="nv">error</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span> <span class="p">{</span>

      <span class="c1">// handle error</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">onStartRecognizeImage</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">Void</span> <span class="p">{</span>

      <span class="c1">// suggestion: show a loading indicator</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">onFinishRecognizeImage</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">Void</span> <span class="p">{</span>

      <span class="c1">// suggestion: alert user with some sound</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">onProductResult</span><span class="p">(</span><span class="nv">product</span><span class="p">:</span> <span class="kt">Product</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span> <span class="p">{</span>

    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">onCategoryResult</span><span class="p">(</span><span class="nv">category</span><span class="p">:</span> <span class="kt">RezolveCategory</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span> <span class="p">{</span>

    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">onCategoryProductsResult</span><span class="p">(</span><span class="nv">category</span><span class="p">:</span> <span class="kt">RezolveCategory</span><span class="p">,</span> <span class="nv">productsPage</span><span class="p">:</span> <span class="kt">PageResult</span><span class="o">&lt;</span><span class="kt">DisplayProduct</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span> <span class="p">{</span>

    <span class="p">}</span>
<span class="p">}</span>

</code></pre><pre class="highlight java tab-java"><code>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ScanActivity</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="kd">implements</span> <span class="n">ScanManagerInterface</span><span class="o">,</span> <span class="n">View</span><span class="o">.</span><span class="na">OnClickListener</span> <span class="o">{</span>


    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>

        <span class="c1">// set scan view</span>
        <span class="n">setContentView</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">scan_activity</span><span class="o">);</span>
        <span class="n">rezolveScanView</span> <span class="o">=</span> <span class="o">(</span><span class="n">RezolveScanView</span><span class="o">)</span><span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">scan_view</span><span class="o">);</span>

        <span class="c1">//get scan manager</span>
        <span class="n">scanManager</span> <span class="o">=</span> <span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span> <span class="n">ENVIRONMENT</span><span class="o">)</span>
          <span class="o">.</span><span class="na">getRezolveSession</span><span class="o">().</span><span class="na">getScanManager</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>

          <span class="c1">//start video scan to acquire image</span>
          <span class="n">scanManager</span><span class="o">.</span><span class="na">startVideoScan</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">rezolveScanView</span><span class="o">);</span>
    <span class="o">}</span>


    <span class="c1">// capture product result</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onProductResult</span><span class="o">(</span><span class="n">Product</span> <span class="n">product</span><span class="o">)</span> <span class="o">{</span>

        <span class="c1">// get product info</span>
        <span class="n">String</span> <span class="n">productId</span> <span class="o">=</span> <span class="n">product</span><span class="o">.</span><span class="na">getId</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">title</span> <span class="o">=</span> <span class="n">product</span><span class="o">.</span><span class="na">getTitle</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">subtitle</span> <span class="o">=</span> <span class="n">product</span><span class="o">.</span><span class="na">getSubtitle</span><span class="o">();</span>

        <span class="c1">// ...etc</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre>
<p>First, initialize <code>scanManager</code>, and enable the scan screen using <code>session.startVideo()</code>, and capture a watermarked image. The scanManager recognizes the encoded product data, and extracts <code>merchantId</code>, <code>catalogId</code>, and <code>productId</code> from the image, automatically calling <code>getProduct</code>. The scanManager returns a <code>product</code> object.</p>
<h4 id='2-create-an-order-and-get-an-order-total'>2. Create an order and get an order total</h4><pre class="highlight swift tab-swift"><code><span class="kd">func</span> <span class="nf">onProductResult</span><span class="p">(</span><span class="nv">product</span><span class="p">:</span> <span class="kt">Product</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span> <span class="p">{</span>

    <span class="n">session</span><span class="o">.</span><span class="n">addressbookManager</span><span class="o">.</span><span class="nf">get</span><span class="p">(</span><span class="nv">id</span><span class="p">:</span> <span class="s">"1"</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="nv">remoteAddress</span><span class="p">:</span> <span class="kt">Address</span><span class="p">)</span> <span class="k">in</span>

      <span class="k">let</span> <span class="nv">checkoutProduct</span> <span class="o">=</span> <span class="nf">createCheckoutProductWithVariant</span><span class="p">(</span><span class="nv">product</span><span class="p">:</span> <span class="n">product</span><span class="p">)</span>

      <span class="n">session</span><span class="o">.</span><span class="n">checkoutManager</span><span class="o">.</span><span class="nf">checkoutProduct</span><span class="p">(</span><span class="nv">merchantId</span><span class="p">:</span> <span class="kt">MERCHANT_ID</span><span class="p">,</span> <span class="nv">checkoutProduct</span><span class="p">:</span> <span class="n">checkoutProduct</span><span class="p">,</span> <span class="nv">address</span><span class="p">:</span> <span class="n">remoteAddress</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">order</span><span class="p">:</span> <span class="kt">CheckoutOrder</span><span class="p">)</span> <span class="k">in</span>


      <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre><pre class="highlight java tab-java"><code>
<span class="nd">@Override</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onProductResult</span><span class="o">(</span><span class="n">Product</span> <span class="n">product</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// get product info</span>
    <span class="n">String</span> <span class="n">product_id</span> <span class="o">=</span> <span class="n">product</span><span class="o">.</span><span class="na">getId</span><span class="o">();</span>
    <span class="n">String</span> <span class="n">title</span> <span class="o">=</span> <span class="n">product</span><span class="o">.</span><span class="na">getTitle</span><span class="o">();</span>
    <span class="n">String</span> <span class="n">subtitle</span> <span class="o">=</span> <span class="n">product</span><span class="o">.</span><span class="na">getSubtitle</span><span class="o">();</span>
    <span class="c1">// ... etc</span>


    <span class="c1">// instant buy example</span>

    <span class="c1">// create a CheckoutProduct object with the product id , and set the quantity</span>
    <span class="n">CheckoutProduct</span> <span class="n">checkoutProduct</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CheckoutProduct</span><span class="o">();</span>
    <span class="n">checkoutProduct</span><span class="o">.</span><span class="na">setId</span><span class="o">(</span><span class="n">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">product_id</span><span class="o">));</span>
    <span class="n">checkoutProduct</span><span class="o">.</span><span class="na">setQty</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>

    <span class="c1">// call the CheckoutProduct method to get and order object and totals</span>
    <span class="n">CheckoutManager</span> <span class="n">checkout</span> <span class="o">=</span> <span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span> <span class="n">ENVIRONMENT</span><span class="o">).</span><span class="na">getRezolveSession</span><span class="o">().</span><span class="na">getCheckoutManager</span><span class="o">();</span>

    <span class="n">String</span> <span class="n">merchantId</span> <span class="o">=</span> <span class="s">"123"</span><span class="o">;</span> <span class="c1">// use real merchant id</span>
    <span class="n">String</span> <span class="n">addressId</span> <span class="o">=</span> <span class="s">"123"</span><span class="o">;</span> <span class="c1">// use real consumer address id</span>

    <span class="n">checkout</span><span class="o">.</span><span class="na">checkoutProduct</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">merchantId</span><span class="o">,</span> <span class="n">checkoutProduct</span><span class="o">,</span> <span class="n">addressId</span><span class="o">,</span> <span class="k">new</span> <span class="n">CheckoutCallback</span><span class="o">()</span> <span class="o">{</span>
        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCheckoutProductSuccess</span><span class="o">(</span><span class="n">Order</span> <span class="n">order</span><span class="o">)</span> <span class="o">{</span>
            <span class="kd">super</span><span class="o">.</span><span class="na">onCheckoutProductSuccess</span><span class="o">(</span><span class="n">order</span><span class="o">);</span>

            <span class="n">String</span> <span class="n">orderId</span> <span class="o">=</span> <span class="n">order</span><span class="o">.</span><span class="na">getOrderId</span><span class="o">();</span>
            <span class="n">List</span><span class="o">&lt;</span><span class="n">PriceBreakdown</span><span class="o">&gt;</span> <span class="n">orderBreakdown</span> <span class="o">=</span> <span class="n">order</span><span class="o">.</span><span class="na">getBreakdowns</span><span class="o">();</span>
            <span class="kt">float</span> <span class="n">orderTotal</span> <span class="o">=</span> <span class="n">order</span><span class="o">.</span><span class="na">getFinalPrice</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">});</span>
<span class="o">}</span>

</code></pre>
<p>Once you have product information, create a CheckoutProduct object. Then call the SDK <code>CheckoutManager.checkoutProduct</code> method to create an order and get totals.  The response order object includes an order id, order total, and price breakdowns.</p>
<h4 id='3-show-payment-card-choices'>3. Show payment card choices</h4><pre class="highlight swift tab-swift"><code>
  <span class="n">mySession</span><span class="p">?</span><span class="o">.</span><span class="n">walletManager</span><span class="o">.</span><span class="nf">getAll</span><span class="p">()</span> <span class="p">{</span> <span class="p">(</span><span class="nv">listOfCards</span><span class="p">:</span> <span class="kt">Array</span><span class="o">&lt;</span><span class="kt">PaymentCard</span><span class="o">&gt;</span><span class="p">)</span> <span class="k">in</span>
      <span class="c1">// handle list of cards here</span>
  <span class="p">}</span>

</code></pre><pre class="highlight java tab-java"><code>
<span class="n">rezolveSession</span><span class="o">.</span><span class="na">getWalletManager</span><span class="o">().</span><span class="na">getAll</span><span class="o">(</span><span class="k">new</span> <span class="n">WalletCallback</span><span class="o">()</span> <span class="o">{</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onWalletGetAllSuccess</span><span class="o">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">PaymentCard</span><span class="o">&gt;</span> <span class="n">list</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// handle getAll response here</span>
    <span class="o">}</span>

<span class="o">});</span>

</code></pre>
<p>Use <code>walletManager.getAll</code> to list the available card choices. If the consumer wishes to buy, they will select a payment card to use, and provide confirmation of ordering intent.</p>

<p>We recommend using a &quot;slide to buy&quot; button to confirm purchase intent, while preserving the maximum ease of use.</p>
<h4 id='4-submit-payment-for-order'>4. Submit payment for order</h4><pre class="highlight swift tab-swift"><code><span class="k">let</span> <span class="nv">PARIS_LOCATION</span> <span class="o">=</span> <span class="kt">RezolveLocation</span><span class="p">(</span><span class="nv">longitude</span><span class="p">:</span> <span class="mf">2.2910793</span><span class="p">,</span> <span class="nv">latitude</span><span class="p">:</span> <span class="mf">48.8736645</span><span class="p">)</span>

<span class="k">let</span> <span class="nv">paymentRequest</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">checkoutManager</span><span class="o">.</span><span class="nf">createPaymentRequest</span><span class="p">(</span><span class="nv">paymentCard</span><span class="p">:</span> <span class="n">remoteCard</span><span class="p">,</span> <span class="nv">cvv</span><span class="p">:</span> <span class="kt">CVV</span><span class="p">)</span>

<span class="n">session</span><span class="o">.</span><span class="n">checkoutManager</span><span class="o">.</span><span class="nf">buyProduct</span><span class="p">(</span><span class="nv">merchantId</span><span class="p">:</span> <span class="kt">MERCHANT_ID</span><span class="p">,</span> <span class="nv">checkoutProduct</span><span class="p">:</span> <span class="n">checkoutProduct</span><span class="p">,</span> <span class="nv">address</span><span class="p">:</span> <span class="n">remoteAddress</span><span class="p">,</span> <span class="nv">paymentRequest</span><span class="p">:</span> <span class="n">paymentRequest</span><span class="p">,</span> <span class="nv">location</span><span class="p">:</span> <span class="kt">PARIS_LOCATION</span><span class="p">,</span> <span class="nv">phone</span><span class="p">:</span> <span class="n">phone</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">order</span><span class="p">:</span> <span class="kt">CheckoutOrder</span><span class="p">)</span> <span class="k">in</span>


<span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>
</code></pre><pre class="highlight java tab-java"><code><span class="c1">// create a paymentRequest object, and then use this with the checkoutProduct object and rezolveLocation object to purchase the item.</span>

<span class="c1">// create paymentRequest object</span>
<span class="n">PaymentCard</span> <span class="n">paymentCard</span> <span class="o">=</span> <span class="k">new</span> <span class="n">PaymentCard</span><span class="o">();</span> <span class="c1">// use consumer's chosen payment card from step 3</span>
<span class="n">String</span> <span class="n">cvv</span> <span class="o">=</span> <span class="s">"123"</span><span class="o">;</span> <span class="c1">// use actual cvv</span>
<span class="n">PaymentRequest</span> <span class="n">paymentRequest</span> <span class="o">=</span> <span class="n">checkout</span><span class="o">.</span><span class="na">createPaymentRequest</span><span class="o">(</span><span class="n">paymentCard</span><span class="o">,</span><span class="n">cvv</span><span class="o">);</span>

<span class="c1">// add consumer's location</span>
<span class="n">RezolveLocation</span> <span class="n">rezolveLocation</span> <span class="o">=</span> <span class="k">new</span> <span class="n">RezolveLocation</span><span class="o">();</span>
<span class="n">rezolveLocation</span><span class="o">.</span><span class="na">setLatitude</span><span class="o">(</span><span class="mf">48.8736645</span><span class="o">);</span>
<span class="n">rezolveLocation</span><span class="o">.</span><span class="na">setLongitude</span><span class="o">(</span><span class="mf">2.2910793</span><span class="o">);</span>

<span class="n">checkout</span><span class="o">.</span><span class="na">buyProduct</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">merchantId</span><span class="o">,</span> <span class="n">checkoutProduct</span><span class="o">,</span> <span class="n">addressId</span><span class="o">,</span> <span class="n">phonebookId</span><span class="o">,</span> <span class="n">rezolveLocation</span><span class="o">,</span> <span class="n">paymentRequest</span><span class="o">,</span> <span class="k">new</span> <span class="n">CheckoutCallback</span><span class="o">()</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onProductOrderPlaced</span><span class="o">(</span><span class="n">String</span> <span class="n">s</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onProductOrderPlaced</span><span class="o">(</span><span class="n">s</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">});</span>
</code></pre>
<p>When the user confirms intent, pass the card choice and the entered CVV value to the <code>createPaymentRequest</code> method. This creates the encrypted <code>paymentRequest</code> object needed for checkout.</p>

<p>Pass the <code>merchantId</code>, <code>phonebookId</code> and <code>addressId</code> strings, the <code>checkoutProduct</code> object, a <code>rezolveLocation</code> object, the <code>paymentRequest</code> object, and an interface or callback to the <code>buyProduct</code> method. The success response will be the <code>order id</code> as a string. Note that this does not mean the order was confirmed, only that the request was successfully received.</p>

<p>When the method returns successfully, it will automatically initiate the signOrderUpdate method.</p>
<h4 id='5-wait-for-signorderupdate-to-return-a-final-order-status'>5. Wait for signOrderUpdate to return a final order status.</h4><pre class="highlight swift tab-swift"><code><span class="n">session</span><span class="o">.</span><span class="n">checkoutManager</span><span class="o">.</span><span class="nf">buyCart</span><span class="p">(</span><span class="nv">merchantId</span><span class="p">:</span> <span class="kt">MERCHANT_ID</span><span class="p">,</span> <span class="nv">cart</span><span class="p">:</span> <span class="n">cartDetails</span><span class="p">,</span> <span class="nv">address</span><span class="p">:</span> <span class="n">remoteAddress</span><span class="p">,</span> <span class="nv">paymentRequest</span><span class="p">:</span> <span class="n">paymentRequest</span><span class="p">,</span> <span class="nv">location</span><span class="p">:</span> <span class="kt">DEFAULT_LOCATIONS</span><span class="p">,</span> <span class="nv">phone</span><span class="p">:</span> <span class="n">phone</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">order</span><span class="p">:</span> <span class="kt">CheckoutOrder</span><span class="p">)</span> <span class="k">in</span>

<span class="n">session</span><span class="o">.</span><span class="n">checkoutManager</span><span class="o">.</span><span class="nf">signOrderUpdate</span><span class="p">(</span><span class="nv">merchantId</span><span class="p">:</span> <span class="kt">MERCHANT_ID</span><span class="p">,</span> <span class="nv">order</span><span class="p">:</span> <span class="n">order</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="n">status</span><span class="p">,</span> <span class="n">transaction</span> <span class="k">in</span>

    <span class="nf">print</span><span class="p">(</span><span class="n">status</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">status</span> <span class="o">==</span> <span class="o">.</span><span class="n">completed</span> <span class="p">{</span>


    <span class="p">}</span>
<span class="p">})</span>

<span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>
</code></pre><pre class="highlight java tab-java"><code><span class="nd">@Override</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onOrderUpdateReceived</span><span class="o">(</span><span class="n">Transaction</span><span class="o">.</span><span class="na">Status</span> <span class="n">status</span><span class="o">,</span> <span class="n">Transaction</span> <span class="n">transaction</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// get properties of status object</span>
    <span class="n">String</span> <span class="n">statusLabel</span> <span class="o">=</span> <span class="n">status</span><span class="o">.</span><span class="na">getLabel</span><span class="o">();</span>   <span class="c1">// will return one of: completed, canceled, or processing</span>

    <span class="c1">// get properties of transaction object</span>
    <span class="n">String</span> <span class="n">transStatus</span> <span class="o">=</span> <span class="n">transaction</span><span class="o">.</span><span class="na">getStatus</span><span class="o">();</span>
    <span class="n">String</span> <span class="n">transOrderId</span> <span class="o">=</span> <span class="n">transaction</span><span class="o">.</span><span class="na">getOrderId</span><span class="o">();</span>
    <span class="n">String</span> <span class="n">transLastUpdated</span> <span class="o">=</span> <span class="n">transaction</span><span class="o">.</span><span class="na">getLastUpdated</span><span class="o">();</span>
<span class="o">}</span>
</code></pre>
<p>SignOrderUpdate starts a socket listener with the order id, and waits for the server to return an order status. The server will return one of three status: 
- completed
- canceled
- processing</p>

<p>If either <code>completed</code> or <code>canceled</code> is returned, the listener stops and the socket closes. If <code>processing</code> is returned, the listener will remain active until the order status is updated to either <code>completed</code> or <code>canceled</code>.</p>

          <h2 id='product-scan-cart-flow'>Product Scan, Cart flow</h2>
<p><img src="images/JWT-shoppable-ad-flow-cart-buy.png" style="margin:6px 0;"><br/>[ <a href="images/JWT-shoppable-ad-flow-cart-buy.png" target="_blank">View full size</a> ]</p>

<p>The premise of Shoppable Ads is to capture an image scan (usually of an advertisement) using the Scan Manager, resolve it into a product URL, fetch the product info, and enable purchase via saved account information.</p>

<p>In the Cart Buy flow, one or more products are added to a cart. Each merchant will have a separate cart, and multiple carts can contain products at a time. For this example we are assuming only one cart is active, but you can check for multiple carts using <code>CheckoutManager.getCarts</code>.</p>
<h4 id='1-capture-image-and-get-product'>1. Capture image and get product</h4><pre class="highlight swift tab-swift"><code><span class="kd">class</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">UIViewController</span><span class="p">,</span> <span class="kt">ProductDelegate</span> <span class="p">{</span>

    <span class="k">var</span> <span class="nv">session</span><span class="p">:</span> <span class="kt">RezolveSession</span><span class="p">?</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>

        <span class="k">let</span> <span class="nv">sdk</span><span class="p">:</span> <span class="kt">RezolveSDK</span> <span class="o">=</span> <span class="kt">RezolveSDK</span><span class="p">(</span><span class="nv">apiKey</span><span class="p">:</span> <span class="kt">API_KEY</span><span class="p">,</span> <span class="nv">env</span><span class="p">:</span> <span class="kt">SDK_ENV</span><span class="p">)</span>

        <span class="k">let</span> <span class="nv">signUpRequest</span> <span class="o">=</span> <span class="nf">createSingUpRequest</span><span class="p">()</span>

        <span class="n">sdk</span><span class="o">.</span><span class="nf">registerUser</span><span class="p">(</span><span class="nv">request</span><span class="p">:</span> <span class="n">signUpRequest</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="nv">partnerId</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">entityId</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="k">in</span>

            <span class="n">sdk</span><span class="o">.</span><span class="nf">createSession</span><span class="p">(</span><span class="nv">entityId</span><span class="p">:</span> <span class="n">entityId</span><span class="p">,</span> <span class="nv">partnerId</span><span class="p">:</span> <span class="n">partnerId</span><span class="p">,</span> <span class="nv">device</span><span class="p">:</span> <span class="n">signUpRequest</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">session</span><span class="p">:</span> <span class="kt">RezolveSession</span><span class="p">)</span> <span class="k">in</span>

                <span class="k">self</span><span class="o">.</span><span class="n">session</span> <span class="o">=</span> <span class="n">session</span>
                <span class="k">self</span><span class="o">.</span><span class="n">session</span><span class="p">?</span><span class="o">.</span><span class="nf">getScanManager</span><span class="p">()</span><span class="o">.</span><span class="n">productResultDelegate</span> <span class="o">=</span> <span class="k">self</span>
                <span class="k">self</span><span class="o">.</span><span class="n">session</span><span class="p">?</span><span class="o">.</span><span class="nf">getScanManager</span><span class="p">()</span><span class="o">.</span><span class="nf">startVideoScan</span><span class="p">(</span><span class="nv">scanCameraView</span><span class="p">:</span> <span class="k">self</span><span class="o">.</span><span class="n">view</span> <span class="k">as!</span> <span class="kt">ScanCameraView</span><span class="p">)</span>

            <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>
        <span class="p">}</span>
    <span class="p">}</span>


    <span class="kd">func</span> <span class="nf">onError</span><span class="p">(</span><span class="nv">error</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span> <span class="p">{</span>

      <span class="c1">// handle error</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">onStartRecognizeImage</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">Void</span> <span class="p">{</span>

      <span class="c1">// suggestion: show a loading indicator</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">onFinishRecognizeImage</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">Void</span> <span class="p">{</span>

      <span class="c1">// suggestion: alert user with some sound</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">onProductResult</span><span class="p">(</span><span class="nv">product</span><span class="p">:</span> <span class="kt">Product</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span> <span class="p">{</span>

    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">onCategoryResult</span><span class="p">(</span><span class="nv">category</span><span class="p">:</span> <span class="kt">RezolveCategory</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span> <span class="p">{</span>

    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">onCategoryProductsResult</span><span class="p">(</span><span class="nv">category</span><span class="p">:</span> <span class="kt">RezolveCategory</span><span class="p">,</span> <span class="nv">productsPage</span><span class="p">:</span> <span class="kt">PageResult</span><span class="o">&lt;</span><span class="kt">DisplayProduct</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span> <span class="p">{</span>

    <span class="p">}</span>
<span class="p">}</span>

</code></pre><pre class="highlight java tab-java"><code>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ScanActivity</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="kd">implements</span> <span class="n">ScanManagerInterface</span><span class="o">,</span> <span class="n">View</span><span class="o">.</span><span class="na">OnClickListener</span> <span class="o">{</span>


    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>

        <span class="c1">// set scan view</span>
        <span class="n">setContentView</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">scan_activity</span><span class="o">);</span>
        <span class="n">rezolveScanView</span> <span class="o">=</span> <span class="o">(</span><span class="n">RezolveScanView</span><span class="o">)</span><span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">scan_view</span><span class="o">);</span>

        <span class="c1">//get scan manager</span>
        <span class="n">scanManager</span> <span class="o">=</span> <span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span> <span class="n">ENVIRONMENT</span><span class="o">)</span>
          <span class="o">.</span><span class="na">getRezolveSession</span><span class="o">().</span><span class="na">getScanManager</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>

          <span class="c1">//start video scan to acquire image</span>
          <span class="n">scanManager</span><span class="o">.</span><span class="na">startVideoScan</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">rezolveScanView</span><span class="o">);</span>
    <span class="o">}</span>


    <span class="c1">// capture product result</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onProductResult</span><span class="o">(</span><span class="n">Product</span> <span class="n">product</span><span class="o">)</span> <span class="o">{</span>

        <span class="c1">// get product info</span>
        <span class="n">String</span> <span class="n">productId</span> <span class="o">=</span> <span class="n">product</span><span class="o">.</span><span class="na">getId</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">title</span> <span class="o">=</span> <span class="n">product</span><span class="o">.</span><span class="na">getTitle</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">subtitle</span> <span class="o">=</span> <span class="n">product</span><span class="o">.</span><span class="na">getSubtitle</span><span class="o">();</span>

        <span class="c1">// ...etc</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre>
<p>First, initialize <code>scanManager</code>, and enable the scan screen using <code>session.startVideo()</code>, and capture a watermarked image. The scanManager recognizes the encoded product data, and extracts <code>merchantId</code>, <code>catalogId</code>, and <code>productId</code> from the image, automatically calling <code>getProduct</code>. The scanManager returns a <code>product</code> object.</p>
<h4 id='2-add-the-product-to-the-cart-and-create-an-order-with-an-order-total'>2. Add the product to the cart, and create an order with an order total</h4><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">UIKit</span>
<span class="kd">import</span> <span class="kt">RezolveSDK</span>

<span class="k">let</span> <span class="nv">MERCHANT_ID</span> <span class="o">=</span> <span class="s">"..."</span>
<span class="k">let</span> <span class="nv">CATEGORY_ID</span> <span class="o">=</span> <span class="kt">Int32</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">PRODUCT_ID</span> <span class="o">=</span> <span class="s">"..."</span>

<span class="kd">class</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>

        <span class="k">let</span> <span class="nv">sdk</span><span class="p">:</span> <span class="kt">RezolveSDK</span> <span class="o">=</span> <span class="kt">RezolveSDK</span><span class="p">(</span><span class="nv">apiKey</span><span class="p">:</span> <span class="kt">API_KEY</span><span class="p">,</span> <span class="nv">env</span><span class="p">:</span> <span class="kt">SDK_ENV</span><span class="p">)</span>

        <span class="k">let</span> <span class="nv">signUpRequest</span> <span class="o">=</span> <span class="nf">createSingUpRequest</span><span class="p">()</span>

        <span class="n">sdk</span><span class="o">.</span><span class="nf">registerUser</span><span class="p">(</span><span class="nv">request</span><span class="p">:</span> <span class="n">signUpRequest</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="nv">partnerId</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">entityId</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="k">in</span>

            <span class="n">sdk</span><span class="o">.</span><span class="nf">createSession</span><span class="p">(</span><span class="nv">entityId</span><span class="p">:</span> <span class="n">entityId</span><span class="p">,</span> <span class="nv">partnerId</span><span class="p">:</span> <span class="n">partnerId</span><span class="p">,</span> <span class="nv">device</span><span class="p">:</span> <span class="n">signUpRequest</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">session</span><span class="p">:</span> <span class="kt">RezolveSession</span><span class="p">)</span> <span class="k">in</span>

              <span class="n">session</span><span class="o">.</span><span class="n">productManager</span><span class="o">.</span><span class="nf">getProduct</span><span class="p">(</span><span class="nv">merchantId</span><span class="p">:</span> <span class="kt">MERCHANT_ID</span><span class="p">,</span> <span class="nv">categoryId</span><span class="p">:</span> <span class="kt">CATEGORY_ID</span><span class="p">,</span> <span class="nv">productId</span><span class="p">:</span> <span class="kt">PRODUCT_ID</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">remoteProduct</span><span class="p">:</span> <span class="kt">Product</span><span class="p">)</span> <span class="k">in</span>

                   <span class="k">let</span> <span class="nv">checkoutProduct</span> <span class="o">=</span> <span class="nf">createCheckoutProductWithVariant</span><span class="p">(</span><span class="nv">product</span><span class="p">:</span> <span class="n">remoteProduct</span><span class="p">)</span>

                   <span class="n">session</span><span class="o">.</span><span class="n">cartManager</span><span class="o">.</span><span class="nf">createCartWithProduct</span><span class="p">(</span><span class="nv">merchantId</span><span class="p">:</span> <span class="kt">MERCHANT_ID</span><span class="p">,</span> <span class="nv">product</span><span class="p">:</span> <span class="n">checkoutProduct</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="n">cartDetails</span> <span class="k">in</span>



                   <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>

               <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>

            <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>
        <span class="p">})</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">createCheckoutProductWithVariant</span><span class="p">(</span><span class="nv">product</span><span class="p">:</span> <span class="kt">Product</span><span class="p">,</span> <span class="nv">qty</span><span class="p">:</span> <span class="kt">Decimal</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">CheckoutProduct</span> <span class="p">{</span>

        <span class="k">let</span> <span class="nv">configurableOptions</span> <span class="o">=</span> <span class="p">(</span><span class="n">product</span><span class="o">.</span><span class="n">optionAvailable</span><span class="o">.</span><span class="n">first</span><span class="p">?</span><span class="o">.</span><span class="n">combination</span><span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="nv">$0</span><span class="o">.</span><span class="nf">configurableOption</span><span class="p">()</span> <span class="p">})</span><span class="o">!</span>

        <span class="k">return</span> <span class="kt">CheckoutProduct</span><span class="p">(</span><span class="nv">id</span><span class="p">:</span> <span class="n">product</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="nv">qty</span><span class="p">:</span> <span class="n">qty</span><span class="p">,</span> <span class="nv">configurableOptions</span><span class="p">:</span> <span class="n">configurableOptions</span><span class="p">,</span> <span class="nv">customOptions</span><span class="p">:</span> <span class="p">[])</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight java tab-java"><code><span class="c1">// add product to cart</span>
<span class="n">checkout</span><span class="o">.</span><span class="na">addProductToCart</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">checkoutProduct</span><span class="o">,</span> <span class="n">merchantId</span><span class="o">,</span> <span class="k">new</span> <span class="n">CheckoutCallback</span><span class="o">()</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onAddProductsToCartSuccess</span><span class="o">(</span><span class="n">CartDetails</span> <span class="n">cartDetails</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onAddProductsToCartSuccess</span><span class="o">(</span><span class="n">cartDetails</span><span class="o">);</span>

        <span class="n">String</span> <span class="n">cartId</span> <span class="o">=</span> <span class="n">cartDetails</span><span class="o">.</span><span class="na">getId</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">merchantId</span> <span class="o">=</span> <span class="s">"123"</span><span class="o">;</span> <span class="c1">//use actual merchant id</span>
        <span class="n">String</span> <span class="n">addressId</span> <span class="o">=</span> <span class="s">"123"</span><span class="o">;</span>  <span class="c1">//use actual address id</span>

        <span class="c1">// immediately call CheckoutCart to get an Order with totals</span>
        <span class="n">checkout</span><span class="o">.</span><span class="na">checkoutCart</span><span class="o">(</span><span class="n">cartId</span><span class="o">,</span> <span class="n">merchantId</span><span class="o">,</span> <span class="n">addressId</span><span class="o">,</span>  <span class="k">new</span> <span class="n">CheckoutCallback</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCheckoutProductSuccess</span><span class="o">(</span><span class="n">Order</span> <span class="n">order</span><span class="o">)</span> <span class="o">{</span>
                <span class="kd">super</span><span class="o">.</span><span class="na">onCheckoutProductSuccess</span><span class="o">(</span><span class="n">order</span><span class="o">);</span>

                <span class="n">String</span> <span class="n">orderId</span> <span class="o">=</span> <span class="n">order</span><span class="o">.</span><span class="na">getOrderId</span><span class="o">();</span>
                <span class="n">List</span><span class="o">&lt;</span><span class="n">PriceBreakdown</span><span class="o">&gt;</span> <span class="n">orderBreakdown</span> <span class="o">=</span> <span class="n">order</span><span class="o">.</span><span class="na">getBreakdowns</span><span class="o">();</span>
                <span class="kt">float</span> <span class="n">orderTotal</span> <span class="o">=</span> <span class="n">order</span><span class="o">.</span><span class="na">getFinalPrice</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">});</span>
    <span class="o">}</span>
<span class="o">});</span>
</code></pre>
<p>Once you have product information, add the product to the cart. Then call the SDK <code>CheckoutManager.checkoutCart</code> method to create an order and get totals.  The response order object includes an order id, order total, and price breakdowns.</p>
<h4 id='3-show-payment-card-choices'>3. Show payment card choices</h4><pre class="highlight swift tab-swift"><code>  <span class="n">mySession</span><span class="p">?</span><span class="o">.</span><span class="n">walletManager</span><span class="o">.</span><span class="nf">getAll</span><span class="p">()</span> <span class="p">{</span> <span class="p">(</span><span class="nv">listOfCards</span><span class="p">:</span> <span class="kt">Array</span><span class="o">&lt;</span><span class="kt">PaymentCard</span><span class="o">&gt;</span><span class="p">)</span> <span class="k">in</span>
      <span class="c1">// handle list of cards here</span>
  <span class="p">}</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">rezolveSession</span><span class="o">.</span><span class="na">getWalletManager</span><span class="o">().</span><span class="na">getAll</span><span class="o">(</span><span class="k">new</span> <span class="n">WalletCallback</span><span class="o">()</span> <span class="o">{</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onWalletGetAllSuccess</span><span class="o">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">PaymentCard</span><span class="o">&gt;</span> <span class="n">list</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// handle getAll response here</span>
    <span class="o">}</span>
<span class="o">});</span>

</code></pre>
<p>Use <code>walletManager.getAll</code> to list the available card choices. If the consumer wishes to buy, they will select a payment card to use, and provide confirmation of ordering intent.</p>

<p>We recommend using a &quot;slide to buy&quot; button to confirm purchase intent, while preserving the maximum ease of use.</p>
<h4 id='4-submit-payment-for-order'>4. Submit payment for order</h4><pre class="highlight swift tab-swift"><code><span class="k">let</span> <span class="nv">PARIS_LOCATION</span> <span class="o">=</span> <span class="kt">RezolveLocation</span><span class="p">(</span><span class="nv">longitude</span><span class="p">:</span> <span class="mf">2.2910793</span><span class="p">,</span> <span class="nv">latitude</span><span class="p">:</span> <span class="mf">48.8736645</span><span class="p">)</span>


<span class="k">let</span> <span class="nv">paymentRequest</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">checkoutManager</span><span class="o">.</span><span class="nf">createPaymentRequest</span><span class="p">(</span><span class="nv">paymentCard</span><span class="p">:</span> <span class="n">remoteCard</span><span class="p">,</span> <span class="nv">cvv</span><span class="p">:</span> <span class="kt">CVV</span><span class="p">)</span>

<span class="n">session</span><span class="o">.</span><span class="n">checkoutManager</span><span class="o">.</span><span class="nf">buyProduct</span><span class="p">(</span><span class="nv">merchantId</span><span class="p">:</span> <span class="kt">MERCHANT_ID</span><span class="p">,</span> <span class="nv">checkoutProduct</span><span class="p">:</span> <span class="n">checkoutProduct</span><span class="p">,</span> <span class="nv">address</span><span class="p">:</span> <span class="n">remoteAddress</span><span class="p">,</span> <span class="nv">paymentRequest</span><span class="p">:</span> <span class="n">paymentRequest</span><span class="p">,</span> <span class="nv">location</span><span class="p">:</span> <span class="kt">PARIS_LOCATION</span><span class="p">,</span> <span class="nv">phone</span><span class="p">:</span> <span class="n">phone</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">order</span><span class="p">:</span> <span class="kt">CheckoutOrder</span><span class="p">)</span> <span class="k">in</span>


<span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>
</code></pre><pre class="highlight java tab-java"><code><span class="c1">// create a paymentRequest object, and then use this with the checkoutProduct object and rezolveLocation object to purchase the item.</span>
<span class="c1">// create paymentRequest object</span>
<span class="n">PaymentCard</span> <span class="n">paymentCard2</span> <span class="o">=</span> <span class="k">new</span> <span class="n">PaymentCard</span><span class="o">();</span> <span class="c1">// use consumer's chosen payment card from step 3</span>
<span class="n">String</span> <span class="n">cvv2</span> <span class="o">=</span> <span class="s">"123"</span><span class="o">;</span> <span class="c1">// use actual cvv</span>
<span class="n">PaymentRequest</span> <span class="n">paymentRequest2</span> <span class="o">=</span> <span class="n">checkout</span><span class="o">.</span><span class="na">createPaymentRequest</span><span class="o">(</span><span class="n">paymentCard</span><span class="o">,</span><span class="n">cvv</span><span class="o">);</span>

<span class="c1">// add consumer's location</span>
<span class="n">RezolveLocation</span> <span class="n">rezolveLocation2</span> <span class="o">=</span> <span class="k">new</span> <span class="n">RezolveLocation</span><span class="o">();</span>
<span class="n">rezolveLocation</span><span class="o">.</span><span class="na">setLatitude</span><span class="o">(</span><span class="mf">48.8736645</span><span class="o">);</span>
<span class="n">rezolveLocation</span><span class="o">.</span><span class="na">setLongitude</span><span class="o">(</span><span class="mf">2.2910793</span><span class="o">);</span>

<span class="c1">// buy the cart</span>
<span class="n">String</span> <span class="n">cartId</span> <span class="o">=</span> <span class="s">"123"</span><span class="o">;</span> <span class="c1">// either buy current cart, or use getCarts to choose a cart</span>
<span class="n">checkout</span><span class="o">.</span><span class="na">buyCart</span><span class="o">(</span><span class="n">merchantId</span><span class="o">,</span> <span class="n">cartId</span><span class="o">,</span> <span class="n">addressId</span><span class="o">,</span> <span class="n">phonebookId</span><span class="o">,</span> <span class="n">rezolveLocation</span><span class="o">,</span> <span class="n">paymentRequest</span><span class="o">,</span>  <span class="k">new</span> <span class="n">CheckoutCallback</span><span class="o">()</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCartOrderPlaced</span><span class="o">(</span><span class="n">String</span> <span class="n">orderId</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCartOrderPlaced</span><span class="o">(</span><span class="n">orderId</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">});</span>
</code></pre>
<p>When the user confirms intent, pass the card choice and the entered CVV value to the <code>createPaymentRequest</code> method. This creates the encrypted <code>paymentRequest</code> object needed for checkout.</p>

<p>Pass the <code>merchantId</code>, <code>phonebookId</code> and <code>addressId</code> strings, the <code>checkoutProduct</code> object, a <code>rezolveLocation</code> object, the <code>paymentRequest</code> object, and an interface or callback to the <code>buyCart</code> method. The success response will be the <code>order id</code> as a string. Note that this does not mean the order was confirmed, only that the request was successfully received.</p>

<p>When the method returns successfully, in Android it will automatically initiate the signOrderUpdate method. In IOS, call signOrderUpdate in the callback.</p>
<h4 id='5-wait-for-signorderupdate-to-return-a-final-order-status'>5. Wait for signOrderUpdate to return a final order status.</h4><pre class="highlight swift tab-swift"><code><span class="n">session</span><span class="o">.</span><span class="n">checkoutManager</span><span class="o">.</span><span class="nf">buyCart</span><span class="p">(</span><span class="nv">merchantId</span><span class="p">:</span> <span class="kt">MERCHANT_ID</span><span class="p">,</span> <span class="nv">cart</span><span class="p">:</span> <span class="n">cartDetails</span><span class="p">,</span> <span class="nv">address</span><span class="p">:</span> <span class="n">remoteAddress</span><span class="p">,</span> <span class="nv">paymentRequest</span><span class="p">:</span> <span class="n">paymentRequest</span><span class="p">,</span> <span class="nv">location</span><span class="p">:</span> <span class="kt">DEFAULT_LOCATIONS</span><span class="p">,</span> <span class="nv">phone</span><span class="p">:</span> <span class="n">phone</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">order</span><span class="p">:</span> <span class="kt">CheckoutOrder</span><span class="p">)</span> <span class="k">in</span>

<span class="n">session</span><span class="o">.</span><span class="n">checkoutManager</span><span class="o">.</span><span class="nf">signOrderUpdate</span><span class="p">(</span><span class="nv">merchantId</span><span class="p">:</span> <span class="kt">MERCHANT_ID</span><span class="p">,</span> <span class="nv">order</span><span class="p">:</span> <span class="n">order</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="n">status</span><span class="p">,</span> <span class="n">transaction</span> <span class="k">in</span>

    <span class="nf">print</span><span class="p">(</span><span class="n">status</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">status</span> <span class="o">==</span> <span class="o">.</span><span class="n">completed</span> <span class="p">{</span>


    <span class="p">}</span>
<span class="p">})</span>

<span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>
</code></pre><pre class="highlight java tab-java"><code><span class="nd">@Override</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onOrderUpdateReceived</span><span class="o">(</span><span class="n">Transaction</span><span class="o">.</span><span class="na">Status</span> <span class="n">status</span><span class="o">,</span> <span class="n">Transaction</span> <span class="n">transaction</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// get properties of status object</span>
    <span class="n">String</span> <span class="n">statusLabel</span> <span class="o">=</span> <span class="n">status</span><span class="o">.</span><span class="na">getLabel</span><span class="o">();</span>   <span class="c1">// will return one of: completed, canceled, or processing</span>

    <span class="c1">// get properties of transaction object</span>
    <span class="n">String</span> <span class="n">transStatus</span> <span class="o">=</span> <span class="n">transaction</span><span class="o">.</span><span class="na">getStatus</span><span class="o">();</span>
    <span class="n">String</span> <span class="n">transOrderId</span> <span class="o">=</span> <span class="n">transaction</span><span class="o">.</span><span class="na">getOrderId</span><span class="o">();</span>
    <span class="n">String</span> <span class="n">transLastUpdated</span> <span class="o">=</span> <span class="n">transaction</span><span class="o">.</span><span class="na">getLastUpdated</span><span class="o">();</span>
<span class="o">}</span>
</code></pre>
<p>SignOrderUpdate starts a socket listener with the order id, and waits for the server to return an order status. The server will return one of three status: 
- completed
- canceled
- processing</p>

<p>If either <code>completed</code> or <code>canceled</code> is returned, the listener stops and the socket closes. If <code>processing</code> is returned, the listener will remain active until the order status is updated to either <code>completed</code> or <code>canceled</code>.</p>

          <h2 id='category-scan-flow'>Category Scan flow</h2>
<p><img src="images/JWT-shoppable-ad-flow-category-scan.png" style="margin:6px 0;"><br/>[ <a href="images/JWT-shoppable-ad-flow-category-scan.png" target="_blank">View full size</a> ]</p>

<p>Shoppable Ads can do more than link to a single product, it can link to a category of products in your Rezolve Commerce Engine. Scanning an ad that contains a category link will bring up a list of subcategories and products in that category.</p>

<p>Once a product has been selected, purchasing follows one of the previous examples of Instant Buy Flow or Cart Buy Flow (minus the scan step).</p>
<h4 id='1-scan-a-category-shoppable-ad-get-a-getcatalog-response'>1. Scan a category shoppable ad,  get a getCatalog response</h4><pre class="highlight swift tab-swift"><code><span class="kd">class</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">UIViewController</span><span class="p">,</span> <span class="kt">ProductDelegate</span> <span class="p">{</span>

    <span class="k">var</span> <span class="nv">session</span><span class="p">:</span> <span class="kt">RezolveSession</span><span class="p">?</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>

        <span class="k">let</span> <span class="nv">sdk</span><span class="p">:</span> <span class="kt">RezolveSDK</span> <span class="o">=</span> <span class="kt">RezolveSDK</span><span class="p">(</span><span class="nv">apiKey</span><span class="p">:</span> <span class="kt">API_KEY</span><span class="p">,</span> <span class="nv">env</span><span class="p">:</span> <span class="kt">SDK_ENV</span><span class="p">)</span>

        <span class="k">let</span> <span class="nv">signUpRequest</span> <span class="o">=</span> <span class="nf">createSingUpRequest</span><span class="p">()</span>

        <span class="n">sdk</span><span class="o">.</span><span class="nf">registerUser</span><span class="p">(</span><span class="nv">request</span><span class="p">:</span> <span class="n">signUpRequest</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="nv">partnerId</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">entityId</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="k">in</span>

            <span class="n">sdk</span><span class="o">.</span><span class="nf">createSession</span><span class="p">(</span><span class="nv">entityId</span><span class="p">:</span> <span class="n">entityId</span><span class="p">,</span> <span class="nv">partnerId</span><span class="p">:</span> <span class="n">partnerId</span><span class="p">,</span> <span class="nv">device</span><span class="p">:</span> <span class="n">signUpRequest</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">session</span><span class="p">:</span> <span class="kt">RezolveSession</span><span class="p">)</span> <span class="k">in</span>

                <span class="k">self</span><span class="o">.</span><span class="n">session</span> <span class="o">=</span> <span class="n">session</span>
                <span class="k">self</span><span class="o">.</span><span class="n">session</span><span class="p">?</span><span class="o">.</span><span class="nf">getScanManager</span><span class="p">()</span><span class="o">.</span><span class="n">productResultDelegate</span> <span class="o">=</span> <span class="k">self</span>
                <span class="k">self</span><span class="o">.</span><span class="n">session</span><span class="p">?</span><span class="o">.</span><span class="nf">getScanManager</span><span class="p">()</span><span class="o">.</span><span class="nf">startVideoScan</span><span class="p">(</span><span class="nv">scanCameraView</span><span class="p">:</span> <span class="k">self</span><span class="o">.</span><span class="n">view</span> <span class="k">as!</span> <span class="kt">ScanCameraView</span><span class="p">)</span>

            <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>
        <span class="p">}</span>
    <span class="p">}</span>


    <span class="kd">func</span> <span class="nf">onError</span><span class="p">(</span><span class="nv">error</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span> <span class="p">{</span>

      <span class="c1">// handle error</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">onStartRecognizeImage</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">Void</span> <span class="p">{</span>

      <span class="c1">// suggestion: show a loading indicator</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">onFinishRecognizeImage</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">Void</span> <span class="p">{</span>

      <span class="c1">// suggestion: alert user with some sound</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">onProductResult</span><span class="p">(</span><span class="nv">product</span><span class="p">:</span> <span class="kt">Product</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span> <span class="p">{</span>

    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">onCategoryResult</span><span class="p">(</span><span class="nv">category</span><span class="p">:</span> <span class="kt">RezolveCategory</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span> <span class="p">{</span>

    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">onCategoryProductsResult</span><span class="p">(</span><span class="nv">category</span><span class="p">:</span> <span class="kt">RezolveCategory</span><span class="p">,</span> <span class="nv">productsPage</span><span class="p">:</span> <span class="kt">PageResult</span><span class="o">&lt;</span><span class="kt">DisplayProduct</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span> <span class="p">{</span>

    <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight java tab-java"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">ScanActivity</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="kd">implements</span> <span class="n">ScanManagerInterface</span><span class="o">,</span> <span class="n">View</span><span class="o">.</span><span class="na">OnClickListener</span> <span class="o">{</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>

        <span class="c1">// set scan view</span>
        <span class="n">setContentView</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">scan_activity</span><span class="o">);</span>
        <span class="n">rezolveScanView</span> <span class="o">=</span> <span class="o">(</span><span class="n">RezolveScanView</span><span class="o">)</span><span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">scan_view</span><span class="o">);</span>

        <span class="c1">//get scan manager</span>
        <span class="n">scanManager</span> <span class="o">=</span> <span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span> <span class="n">ENVIRONMENT</span><span class="o">)</span>
          <span class="o">.</span><span class="na">getRezolveSession</span><span class="o">().</span><span class="na">getScanManager</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>

          <span class="c1">//start video scan to acquire image</span>
          <span class="n">scanManager</span><span class="o">.</span><span class="na">startVideoScan</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">rezolveScanView</span><span class="o">);</span>
    <span class="o">}</span>


    <span class="c1">// if scan media contains a category link, onCategoryResult fires and</span>
    <span class="c1">// returns a Category object</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCategoryResult</span><span class="o">(</span><span class="n">Category</span> <span class="n">category</span><span class="o">,</span> <span class="n">String</span> <span class="n">s</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">String</span> <span class="n">categoryId</span> <span class="o">=</span> <span class="n">category</span><span class="o">.</span><span class="na">getId</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">categoryParentId</span> <span class="o">=</span> <span class="n">category</span><span class="o">.</span><span class="na">getParentId</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">categoryName</span> <span class="o">=</span> <span class="n">category</span><span class="o">.</span><span class="na">getName</span><span class="o">();</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">categoryImageThumbs</span> <span class="o">=</span> <span class="n">category</span><span class="o">.</span><span class="na">getImageThumbs</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">categoryImage</span> <span class="o">=</span> <span class="n">category</span><span class="o">.</span><span class="na">getImage</span><span class="o">();</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">Category</span><span class="o">&gt;</span> <span class="n">categoryChildren</span> <span class="o">=</span> <span class="n">category</span><span class="o">.</span><span class="na">getCategories</span><span class="o">();</span>
        <span class="n">Boolean</span> <span class="n">hasCategories</span> <span class="o">=</span> <span class="n">category</span><span class="o">.</span><span class="na">hasCategories</span><span class="o">();</span>
        <span class="n">Boolean</span> <span class="n">hasProduct</span> <span class="o">=</span> <span class="n">category</span><span class="o">.</span><span class="na">hasProducts</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre>
<p>First, initialize <code>scanManager</code>, and enable the scan screen using <code>session.startVideo()</code>, and capture a watermarked image. The scanManager returns a <code>Category</code> object, which is then parsed to determine its contents.</p>
<h3 id='2-if-boolean-hascategories-is-true-extract-subcategories-using-getcategories'>2. If boolean hasCategories is true, extract subcategories using getCategories</h3><pre class="highlight swift tab-swift"><code><span class="kd">func</span> <span class="nf">onCategoryResult</span><span class="p">(</span><span class="nv">category</span><span class="p">:</span> <span class="kt">RezolveCategory</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span> <span class="p">{</span>

  <span class="n">session</span><span class="o">.</span><span class="n">productManager</span><span class="o">.</span><span class="nf">getCategories</span><span class="p">(</span><span class="nv">merchantId</span><span class="p">:</span> <span class="kt">MERCHANT_ID</span><span class="p">,</span> <span class="nv">categoryId</span><span class="p">:</span> <span class="n">category</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="n">category</span> <span class="k">in</span>


  <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span>

      <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="c1">// handle error</span>
  <span class="p">})</span>
<span class="p">}</span>
</code></pre><pre class="highlight java tab-java"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Products</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="kd">implements</span> <span class="n">ProductInterface</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"your_api_key"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">ENVIRONMENT</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>

        <span class="n">ProductManager</span> <span class="n">myProductManager</span> <span class="o">=</span> <span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span>
        <span class="n">ENVIRONMENT</span><span class="o">).</span><span class="na">getRezolveSession</span><span class="o">().</span><span class="na">getProductManager</span><span class="o">();</span>


        <span class="n">myProductManager</span><span class="o">.</span><span class="na">getCategories</span><span class="o">(</span><span class="n">merchantId</span><span class="o">,</span><span class="k">this</span><span class="o">);</span>

    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onGetCategoriesSuccess</span><span class="o">(</span><span class="n">Category</span> <span class="n">category</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">String</span> <span class="n">category_id</span> <span class="o">=</span> <span class="n">category</span><span class="o">.</span><span class="na">getId</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">parentId</span> <span class="o">=</span> <span class="n">category</span><span class="o">.</span><span class="na">getParentId</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">name</span> <span class="o">=</span> <span class="n">category</span><span class="o">.</span><span class="na">getName</span><span class="o">();</span>
        <span class="n">Boolean</span> <span class="n">hasCategories</span> <span class="o">=</span> <span class="n">category</span><span class="o">.</span><span class="na">hasCategories</span><span class="o">();</span>
        <span class="n">Boolean</span> <span class="n">hasProduct</span> <span class="o">=</span> <span class="n">category</span><span class="o">.</span><span class="na">hasProducts</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">image</span> <span class="o">=</span> <span class="n">category</span><span class="o">.</span><span class="na">getImage</span><span class="o">();</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">imageThumbs</span> <span class="o">=</span> <span class="n">category</span><span class="o">.</span><span class="na">getImageThumbs</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">catparentId</span> <span class="o">=</span> <span class="n">category</span><span class="o">.</span><span class="na">getParentId</span><span class="o">();</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">Category</span><span class="o">&gt;</span> <span class="n">children</span> <span class="o">=</span> <span class="n">category</span><span class="o">.</span><span class="na">getCategories</span><span class="o">();</span>

        <span class="k">for</span> <span class="o">(</span><span class="n">Category</span> <span class="n">subcategory</span> <span class="o">:</span> <span class="n">children</span><span class="o">){</span>
            <span class="n">subcategory</span><span class="o">.</span><span class="na">getId</span><span class="o">();</span>
            <span class="c1">// ... etc</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre>
<p>By looking at the Boolean <code>hasCategories</code>, we can tell if the category contains any subcategories. If so, we can use <code>ProductManager.getCategories</code> to fetch them.</p>
<h3 id='3-if-boolean-hasproducts-is-true-get-product-info-oncategoryproductsresult'>3. If boolean hasProducts is true, get product info (onCategoryProductsResult)</h3><pre class="highlight swift tab-swift"><code><span class="kd">func</span> <span class="nf">onCategoryResult</span><span class="p">(</span><span class="nv">category</span><span class="p">:</span> <span class="kt">RezolveCategory</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span> <span class="p">{</span>

  <span class="k">let</span> <span class="nv">pageNavigation</span><span class="p">:</span> <span class="kt">PageNavigation</span> <span class="o">=</span> <span class="kt">PageNavigation</span><span class="p">(</span><span class="nv">count</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="nv">pageIndex</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nv">sortBy</span><span class="p">:</span> <span class="kc">nil</span><span class="p">,</span> <span class="nv">sort</span><span class="p">:</span> <span class="kt">PageNavigationSort</span><span class="o">.</span><span class="kt">ASC</span><span class="p">)</span>

  <span class="n">session</span><span class="o">.</span><span class="n">productManager</span><span class="o">.</span><span class="nf">getProducts</span><span class="p">(</span><span class="nv">merchantId</span><span class="p">:</span> <span class="kt">MERCHANT_ID</span><span class="p">,</span> <span class="nv">categoryId</span><span class="p">:</span> <span class="n">category</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="nv">pageNavigation</span><span class="p">:</span> <span class="n">pageNavigation</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">pageResult</span><span class="p">:</span> <span class="kt">PageResult</span><span class="o">&lt;</span><span class="kt">DisplayProduct</span><span class="o">&gt;</span><span class="p">)</span> <span class="k">in</span>

  <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>
<span class="p">}}</span>
</code></pre><pre class="highlight java tab-java"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Products</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="kd">implements</span> <span class="n">ProductInterface</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"your_api_key"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">ENVIRONMENT</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>

        <span class="n">ProductManager</span> <span class="n">myProductManager</span> <span class="o">=</span> <span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span>
        <span class="n">ENVIRONMENT</span><span class="o">).</span><span class="na">getRezolveSession</span><span class="o">().</span><span class="na">getProductManager</span><span class="o">();</span>

        <span class="c1">// get products</span>
        <span class="n">myProductManager</span><span class="o">.</span><span class="na">getProducts</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">merchantId3</span><span class="o">,</span> <span class="n">categoryId</span><span class="o">,</span> <span class="n">count</span><span class="o">,</span> <span class="n">page</span><span class="o">,</span> 
        <span class="n">sort_by_field</span><span class="o">,</span> <span class="n">sort_direction</span><span class="o">,</span> <span class="k">this</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onGetProductsSuccess</span><span class="o">(</span><span class="n">PageResult</span><span class="o">&lt;</span><span class="n">DisplayProduct</span><span class="o">&gt;</span> <span class="n">pageResult</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">Integer</span> <span class="n">count</span> <span class="o">=</span> <span class="n">pageResult</span><span class="o">.</span><span class="na">getCount</span><span class="o">();</span>
        <span class="n">Integer</span> <span class="n">total</span> <span class="o">=</span> <span class="n">pageResult</span><span class="o">.</span><span class="na">getTotal</span><span class="o">();</span>
        <span class="n">Link</span><span class="o">[]</span> <span class="n">links</span> <span class="o">=</span> <span class="n">pageResult</span><span class="o">.</span><span class="na">getLinks</span><span class="o">();</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">DisplayProduct</span><span class="o">&gt;</span> <span class="n">displayProducts</span> <span class="o">=</span> <span class="n">pageResult</span><span class="o">.</span><span class="na">getProducts</span><span class="o">();</span>

        <span class="k">for</span> <span class="o">(</span><span class="n">Link</span> <span class="nl">link:</span> <span class="n">links</span><span class="o">){</span>
            <span class="n">Integer</span> <span class="n">linkcount</span> <span class="o">=</span> <span class="n">link</span><span class="o">.</span><span class="na">getCount</span><span class="o">();</span>
            <span class="n">Integer</span> <span class="n">page</span> <span class="o">=</span> <span class="n">link</span><span class="o">.</span><span class="na">getPage</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">sort</span> <span class="o">=</span> <span class="n">link</span><span class="o">.</span><span class="na">getSort</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">sortBy</span> <span class="o">=</span> <span class="n">link</span><span class="o">.</span><span class="na">getSortBy</span><span class="o">();</span>
        <span class="o">}</span>

        <span class="k">for</span> <span class="o">(</span><span class="n">DisplayProduct</span> <span class="n">displayProduct</span> <span class="o">:</span> <span class="n">displayProducts</span><span class="o">){</span>
            <span class="n">String</span> <span class="n">id</span> <span class="o">=</span> <span class="n">displayProduct</span><span class="o">.</span><span class="na">getId</span><span class="o">();</span>
            <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">imageThumbs</span> <span class="o">=</span> <span class="n">displayProduct</span><span class="o">.</span><span class="na">getImageThumbs</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">image</span> <span class="o">=</span> <span class="n">displayProduct</span><span class="o">.</span><span class="na">getImage</span><span class="o">();</span>
            <span class="kt">float</span> <span class="n">price</span> <span class="o">=</span> <span class="n">displayProduct</span><span class="o">.</span><span class="na">getPrice</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">name</span> <span class="o">=</span> <span class="n">displayProduct</span><span class="o">.</span><span class="na">getName</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">categoryId</span> <span class="o">=</span> <span class="n">displayProduct</span><span class="o">.</span><span class="na">getCategoryId</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>Similarly, we can check the Boolean &quot;hasProducts&quot; to determine if the category has products. If it does, we can fetch them using <code>ProductManager.getProducts</code>.</p>
<h3 id='4-repeat-for-navigation-until-ready-to-purchase'>4. Repeat for navigation until ready to purchase</h3>
<p>Repeat steps 2 &amp; 3 above as the consumer browses through categories. Once the consumer selects a product and is ready to purchase, the process is the same as in the Instant Buy or Cart Buy flows. </p>

          <h2 id='mall-flow'>Mall flow</h2>
<p><img src="images/JWT-mall-flow.png" style="margin:6px 0;"><br/>[ <a href="images/JWT-mall-flow.png" target="_blank">View full size</a> ]</p>

<p>Mall is the only method for finding products that does not require an ad scan. A consumer enters the mall by clicking on a &quot;Mall&quot; navigation option within the mobile app. The Mall showcases active merchants in an attractive layout that is condusive to casual browsing and subsequent purchasing. </p>

<p>Once a merchant is selected, the consumer shifts into category/product browse mode. Once a product has been selected, purchasing follows one of the previous examples of Instant Buy Flow or Cart Buy Flow (minus the scan step).</p>
<h4 id='1-get-list-of-merchants-in-the-mall'>1. Get List of Merchants in the mall</h4><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">UIKit</span>
<span class="kd">import</span> <span class="kt">RezolveSDK</span>

<span class="kd">class</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>

        <span class="k">let</span> <span class="nv">sdk</span><span class="p">:</span> <span class="kt">RezolveSDK</span> <span class="o">=</span> <span class="kt">RezolveSDK</span><span class="p">(</span><span class="nv">apiKey</span><span class="p">:</span> <span class="kt">API_KEY</span><span class="p">,</span> <span class="nv">env</span><span class="p">:</span> <span class="kt">SDK_ENV</span><span class="p">)</span>

        <span class="k">let</span> <span class="nv">signUpRequest</span> <span class="o">=</span> <span class="nf">createSingUpRequest</span><span class="p">()</span>

        <span class="n">sdk</span><span class="o">.</span><span class="nf">registerUser</span><span class="p">(</span><span class="nv">request</span><span class="p">:</span> <span class="n">signUpRequest</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="nv">partnerId</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">entityId</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="k">in</span>

            <span class="n">sdk</span><span class="o">.</span><span class="nf">createSession</span><span class="p">(</span><span class="nv">entityId</span><span class="p">:</span> <span class="n">entityId</span><span class="p">,</span> <span class="nv">partnerId</span><span class="p">:</span> <span class="n">partnerId</span><span class="p">,</span> <span class="nv">device</span><span class="p">:</span> <span class="n">signUpRequest</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">session</span><span class="p">:</span> <span class="kt">RezolveSession</span><span class="p">)</span> <span class="k">in</span>

              <span class="n">session</span><span class="o">.</span><span class="n">productManager</span><span class="o">.</span><span class="nf">getMerchants</span><span class="p">(</span><span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">listOfMerchant</span><span class="p">:</span> <span class="kt">Array</span><span class="o">&lt;</span><span class="kt">Merchant</span><span class="o">&gt;</span><span class="p">)</span> <span class="k">in</span>


              <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>

            <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>
        <span class="p">})</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight java tab-java"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Products</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="kd">implements</span> <span class="n">ProductInterface</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"your_api_key"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">ENVIRONMENT</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>

        <span class="n">ProductManager</span> <span class="n">myProductManager</span> <span class="o">=</span> <span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span>
        <span class="n">ENVIRONMENT</span><span class="o">).</span><span class="na">getRezolveSession</span><span class="o">().</span><span class="na">getProductManager</span><span class="o">();</span>

        <span class="c1">// get merchants</span>
        <span class="c1">// get merchants</span>
        <span class="n">myProductManager</span><span class="o">.</span><span class="na">getMerchants</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="k">new</span> <span class="n">ProductCallback</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onGetMerchantsSuccess</span><span class="o">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">Merchant</span><span class="o">&gt;</span> <span class="n">list</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">for</span><span class="o">(</span><span class="n">Merchant</span> <span class="n">merchant</span> <span class="o">:</span> <span class="n">list</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">String</span> <span class="n">merchant_id</span> <span class="o">=</span> <span class="n">merchant</span><span class="o">.</span><span class="na">getId</span><span class="o">();</span>
                    <span class="n">String</span> <span class="n">name</span> <span class="o">=</span> <span class="n">merchant</span><span class="o">.</span><span class="na">getName</span><span class="o">();</span>
                    <span class="n">String</span> <span class="n">tagline</span> <span class="o">=</span> <span class="n">merchant</span><span class="o">.</span><span class="na">getTagline</span><span class="o">();</span>
                    <span class="n">String</span> <span class="n">banner</span> <span class="o">=</span> <span class="n">merchant</span><span class="o">.</span><span class="na">getBanner</span><span class="o">();</span>
                    <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">bannerThumb</span> <span class="o">=</span> <span class="n">merchant</span><span class="o">.</span><span class="na">getBannerThumbs</span><span class="o">();</span>
                    <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">logoThumbs</span> <span class="o">=</span> <span class="n">merchant</span><span class="o">.</span><span class="na">getLogoThumbs</span><span class="o">();</span>
                <span class="o">}</span>
            <span class="o">}</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onFailure</span><span class="o">(</span><span class="n">HttpResponse</span> <span class="n">httpResponse</span><span class="o">)</span> <span class="o">{</span>
                <span class="c1">//handle error</span>
            <span class="o">}</span>
        <span class="o">});</span>
    <span class="o">}</span>


    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onGetMerchantsSuccess</span><span class="o">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">Merchant</span><span class="o">&gt;</span> <span class="n">list</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// list merchants</span>
        <span class="k">for</span><span class="o">(</span><span class="n">Merchant</span> <span class="n">merchant</span> <span class="o">:</span> <span class="n">list</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">String</span> <span class="n">merchant_id</span> <span class="o">=</span> <span class="n">merchant</span><span class="o">.</span><span class="na">getId</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">name</span> <span class="o">=</span> <span class="n">merchant</span><span class="o">.</span><span class="na">getName</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">tagline</span> <span class="o">=</span> <span class="n">merchant</span><span class="o">.</span><span class="na">getTagline</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">banner</span> <span class="o">=</span> <span class="n">merchant</span><span class="o">.</span><span class="na">getBanner</span><span class="o">();</span>
            <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">bannerThumb</span> <span class="o">=</span> <span class="n">merchant</span><span class="o">.</span><span class="na">getBannerThumbs</span><span class="o">();</span>
            <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">logoThumbs</span> <span class="o">=</span> <span class="n">merchant</span><span class="o">.</span><span class="na">getLogoThumbs</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onFailure</span><span class="o">(</span><span class="n">HttpResponse</span> <span class="n">httpResponse</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// handle error</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>First, initialize <code>productManager</code>, and call <code>GetMerchants</code>, providing an implementation of ProductCallback as a parameter. This will return an array of Merchant objects. Parse each merchant object to get the <code>id</code>, <code>name</code>, <code>tagline</code>, <code>banner</code>, <code>bannerThumbs</code>, and <code>logoThumbs</code>.</p>
<h3 id='2-get-list-of-first-level-categories-for-the-selected-merchant'>2. Get list of first-level Categories for the selected Merchant</h3><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">UIKit</span>
<span class="kd">import</span> <span class="kt">RezolveSDK</span>

<span class="kd">class</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>

        <span class="k">let</span> <span class="nv">sdk</span><span class="p">:</span> <span class="kt">RezolveSDK</span> <span class="o">=</span> <span class="kt">RezolveSDK</span><span class="p">(</span><span class="nv">apiKey</span><span class="p">:</span> <span class="kt">API_KEY</span><span class="p">,</span> <span class="nv">env</span><span class="p">:</span> <span class="kt">SDK_ENV</span><span class="p">)</span>

        <span class="k">let</span> <span class="nv">signUpRequest</span> <span class="o">=</span> <span class="nf">createSingUpRequest</span><span class="p">()</span>

        <span class="n">sdk</span><span class="o">.</span><span class="nf">registerUser</span><span class="p">(</span><span class="nv">request</span><span class="p">:</span> <span class="n">signUpRequest</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="nv">partnerId</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">entityId</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="k">in</span>

            <span class="n">sdk</span><span class="o">.</span><span class="nf">createSession</span><span class="p">(</span><span class="nv">entityId</span><span class="p">:</span> <span class="n">entityId</span><span class="p">,</span> <span class="nv">partnerId</span><span class="p">:</span> <span class="n">partnerId</span><span class="p">,</span> <span class="nv">device</span><span class="p">:</span> <span class="n">signUpRequest</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">session</span><span class="p">:</span> <span class="kt">RezolveSession</span><span class="p">)</span> <span class="k">in</span>

              <span class="n">session</span><span class="o">.</span><span class="n">productManager</span><span class="o">.</span><span class="nf">getMerchants</span><span class="p">(</span><span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">listOfMerchant</span><span class="p">:</span> <span class="kt">Array</span><span class="o">&lt;</span><span class="kt">Merchant</span><span class="o">&gt;</span><span class="p">)</span> <span class="k">in</span>

                  <span class="k">var</span> <span class="nv">merchant</span> <span class="o">=</span> <span class="n">listOfMerchant</span><span class="o">.</span><span class="n">first</span><span class="o">!</span>

                  <span class="n">session</span><span class="o">.</span><span class="n">productManager</span><span class="o">.</span><span class="nf">getCategories</span><span class="p">(</span><span class="nv">merchantId</span><span class="p">:</span> <span class="n">merchant</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="nv">categoryId</span><span class="p">:</span> <span class="kc">nil</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="n">category</span> <span class="k">in</span>


                  <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>

              <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>

            <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>
        <span class="p">})</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TODO</span>

</code></pre>
<p>By looking at the Boolean <code>hasCategories</code>, we can tell if the category contains any subcategories. If so, we can use <code>ProductManager.getCategories</code> to fetch them.</p>
<h3 id='3-if-boolean-hasproducts-is-true-get-product-info-oncategoryproductsresult'>3. If boolean hasProducts is true, get product info (onCategoryProductsResult)</h3><pre class="highlight swift tab-swift"><code><span class="kd">func</span> <span class="nf">onCategoryResult</span><span class="p">(</span><span class="nv">category</span><span class="p">:</span> <span class="kt">RezolveCategory</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span> <span class="p">{</span>

  <span class="k">let</span> <span class="nv">pageNavigation</span><span class="p">:</span> <span class="kt">PageNavigation</span> <span class="o">=</span> <span class="kt">PageNavigation</span><span class="p">(</span><span class="nv">count</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="nv">pageIndex</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nv">sortBy</span><span class="p">:</span> <span class="kc">nil</span><span class="p">,</span> <span class="nv">sort</span><span class="p">:</span> <span class="kt">PageNavigationSort</span><span class="o">.</span><span class="kt">ASC</span><span class="p">)</span>

  <span class="n">session</span><span class="o">.</span><span class="n">productManager</span><span class="o">.</span><span class="nf">getProducts</span><span class="p">(</span><span class="nv">merchantId</span><span class="p">:</span> <span class="kt">MERCHANT_ID</span><span class="p">,</span> <span class="nv">categoryId</span><span class="p">:</span> <span class="n">category</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="nv">pageNavigation</span><span class="p">:</span> <span class="n">pageNavigation</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">pageResult</span><span class="p">:</span> <span class="kt">PageResult</span><span class="o">&lt;</span><span class="kt">DisplayProduct</span><span class="o">&gt;</span><span class="p">)</span> <span class="k">in</span>

  <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>
<span class="p">}}</span>
</code></pre><pre class="highlight java tab-java"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Products</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="kd">implements</span> <span class="n">ProductInterface</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"your_api_key"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">ENVIRONMENT</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>

        <span class="n">ProductManager</span> <span class="n">myProductManager</span> <span class="o">=</span> <span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span>
        <span class="n">ENVIRONMENT</span><span class="o">).</span><span class="na">getRezolveSession</span><span class="o">().</span><span class="na">getProductManager</span><span class="o">();</span>

        <span class="c1">// get products</span>
        <span class="n">myProductManager</span><span class="o">.</span><span class="na">getProducts</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">merchantId3</span><span class="o">,</span> <span class="n">categoryId</span><span class="o">,</span> <span class="n">count</span><span class="o">,</span> <span class="n">page</span><span class="o">,</span> 
        <span class="n">sort_by_field</span><span class="o">,</span> <span class="n">sort_direction</span><span class="o">,</span> <span class="k">this</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onGetProductsSuccess</span><span class="o">(</span><span class="n">PageResult</span><span class="o">&lt;</span><span class="n">DisplayProduct</span><span class="o">&gt;</span> <span class="n">pageResult</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">Integer</span> <span class="n">count</span> <span class="o">=</span> <span class="n">pageResult</span><span class="o">.</span><span class="na">getCount</span><span class="o">();</span>
        <span class="n">Integer</span> <span class="n">total</span> <span class="o">=</span> <span class="n">pageResult</span><span class="o">.</span><span class="na">getTotal</span><span class="o">();</span>
        <span class="n">Link</span><span class="o">[]</span> <span class="n">links</span> <span class="o">=</span> <span class="n">pageResult</span><span class="o">.</span><span class="na">getLinks</span><span class="o">();</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">DisplayProduct</span><span class="o">&gt;</span> <span class="n">displayProducts</span> <span class="o">=</span> <span class="n">pageResult</span><span class="o">.</span><span class="na">getProducts</span><span class="o">();</span>

        <span class="k">for</span> <span class="o">(</span><span class="n">Link</span> <span class="nl">link:</span> <span class="n">links</span><span class="o">){</span>
            <span class="n">Integer</span> <span class="n">linkcount</span> <span class="o">=</span> <span class="n">link</span><span class="o">.</span><span class="na">getCount</span><span class="o">();</span>
            <span class="n">Integer</span> <span class="n">page</span> <span class="o">=</span> <span class="n">link</span><span class="o">.</span><span class="na">getPage</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">sort</span> <span class="o">=</span> <span class="n">link</span><span class="o">.</span><span class="na">getSort</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">sortBy</span> <span class="o">=</span> <span class="n">link</span><span class="o">.</span><span class="na">getSortBy</span><span class="o">();</span>
        <span class="o">}</span>

        <span class="k">for</span> <span class="o">(</span><span class="n">DisplayProduct</span> <span class="n">displayProduct</span> <span class="o">:</span> <span class="n">displayProducts</span><span class="o">){</span>
            <span class="n">String</span> <span class="n">id</span> <span class="o">=</span> <span class="n">displayProduct</span><span class="o">.</span><span class="na">getId</span><span class="o">();</span>
            <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">imageThumbs</span> <span class="o">=</span> <span class="n">displayProduct</span><span class="o">.</span><span class="na">getImageThumbs</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">image</span> <span class="o">=</span> <span class="n">displayProduct</span><span class="o">.</span><span class="na">getImage</span><span class="o">();</span>
            <span class="kt">float</span> <span class="n">price</span> <span class="o">=</span> <span class="n">displayProduct</span><span class="o">.</span><span class="na">getPrice</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">name</span> <span class="o">=</span> <span class="n">displayProduct</span><span class="o">.</span><span class="na">getName</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">categoryId</span> <span class="o">=</span> <span class="n">displayProduct</span><span class="o">.</span><span class="na">getCategoryId</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>Similarly, we can check the Boolean &quot;hasProducts&quot; to determine if the category has products. If it does, we can fetch them using <code>ProductManager.getProducts</code>.</p>
<h3 id='4-repeat-for-navigation-until-ready-to-purchase'>4. Repeat for navigation until ready to purchase</h3>
<p>Repeat steps 2 &amp; 3 above as the consumer browses through categories. Once the consumer selects a product and is ready to purchase, the process is the same as in the Instant Buy or Cart Buy flows. </p>

          <h1 id='error-handling'>Error Handling</h1><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"errors"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"&lt;error_type&gt;"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"code"</span><span class="p">:</span><span class="s2">"&lt;error_code&gt;"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"message"</span><span class="p">:</span><span class="s2">"&lt;error_message&gt;"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>All SDK methods use a uniform error format, as shown at the right. Possible values are:</p>

<table><thead>
<tr>
<th>Type</th>
<th>Error Code</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>Authentication</td>
<td>1</td>
<td>Access is denied.</td>
</tr>
<tr>
<td>Registration</td>
<td>2</td>
<td>Registration failed.</td>
</tr>
<tr>
<td>Bad Request</td>
<td>3</td>
<td>Missing required parameters in request body. Required: ((required_parameters))</td>
</tr>
<tr>
<td>Not Found</td>
<td>4</td>
<td>Requested resource not found</td>
</tr>
<tr>
<td>Bad Request</td>
<td>5</td>
<td>Incorrect or malformed parameters</td>
</tr>
<tr>
<td>Bad Request</td>
<td>6</td>
<td>((system message))</td>
</tr>
<tr>
<td>Service Unavailable</td>
<td>7</td>
<td>Our apologies for the temporary inconvenience. The requested URL generated 503 Service Unavailable error due to overloading or maintenance of the server.</td>
</tr>
</tbody></table>

          <h1 id='module-reference-docs'>Module Reference Docs</h1>
          <h2 id='module-addressbookmanager'>Module: AddressbookManager</h2>
<p>The AddressbookManager is an aggregate of Session.</p>

<p>This module provides CRUD functions for consumer addresses. The consumer may add one or more addresses to their account.</p>

<p>While none of the address fields are REQUIRED by the SDK, because the requirements vary from customer to customer, the Rezolve Commerce Engine by default expects: </p>

<ul>
<li>Address 1</li>
<li>City</li>
<li>State</li>
<li>Zip</li>
<li>Country</li>
</ul>
<h3 id='method-addressbookmanager-create'>Method: addressbookManager.create</h3><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">UIKit</span>
<span class="kd">import</span> <span class="kt">RezolveSDK</span>

<span class="kd">class</span> <span class="kt">AddressBookViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="k">let</span> <span class="nv">API_KEY</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">"your_api_key"</span>
    <span class="k">let</span> <span class="nv">ENVIRONMENT</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span>

    <span class="k">var</span> <span class="nv">mySession</span><span class="p">:</span> <span class="kt">RezolveSession</span><span class="p">?</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>

        <span class="c1">//self.mySession = ... // initialize session</span>

        <span class="k">let</span> <span class="nv">address</span><span class="p">:</span> <span class="kt">Address</span> <span class="o">=</span> <span class="kt">Address</span><span class="p">()</span>

        <span class="n">address</span><span class="o">.</span><span class="n">city</span> <span class="o">=</span> <span class="s">"London"</span>
        <span class="n">address</span><span class="o">.</span><span class="n">country</span> <span class="o">=</span> <span class="s">"UK"</span>
        <span class="n">address</span><span class="o">.</span><span class="n">line1</span> <span class="o">=</span> <span class="s">"St..."</span>
        <span class="n">address</span><span class="o">.</span><span class="n">line2</span> <span class="o">=</span> <span class="s">"111"</span>
        <span class="n">address</span><span class="o">.</span><span class="n">shortName</span> <span class="o">=</span> <span class="s">"House"</span>
        <span class="n">address</span><span class="o">.</span><span class="n">zip</span> <span class="o">=</span> <span class="s">"000999"</span>
        <span class="n">address</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="s">"State"</span>

        <span class="k">self</span><span class="o">.</span><span class="n">mySession</span><span class="p">?</span><span class="o">.</span><span class="n">addressbookManager</span><span class="o">.</span><span class="nf">create</span><span class="p">(</span>
            <span class="nv">address</span><span class="p">:</span> <span class="n">address</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="nv">remoteAddress</span><span class="p">:</span> <span class="kt">Address</span><span class="p">)</span> <span class="k">in</span>

                <span class="k">let</span> <span class="nv">addressId</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="n">address</span><span class="o">.</span><span class="n">id</span>
        <span class="p">}</span>


        <span class="k">self</span><span class="o">.</span><span class="n">mySession</span><span class="p">?</span><span class="o">.</span><span class="n">addressbookManager</span><span class="o">.</span><span class="nf">get</span><span class="p">(</span><span class="nv">id</span><span class="p">:</span> <span class="s">"123"</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="nv">remoteAddress</span><span class="p">:</span> <span class="kt">Address</span><span class="p">)</span> <span class="k">in</span>

            <span class="k">let</span> <span class="nv">addressId</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="n">remoteAddress</span><span class="o">.</span><span class="n">id</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight java tab-java"><code><span class="c1">// create address using addressBookInterface</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">addressBook</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="kd">implements</span> <span class="n">AddressbookInterface</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"your_api_key"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">ENVIRONMENT</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>

        <span class="n">AddressbookManager</span> <span class="n">myAddressManager</span> <span class="o">=</span> <span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span>
        <span class="n">ENVIRONMENT</span><span class="o">).</span><span class="na">getRezolveSession</span><span class="o">().</span><span class="na">getAddressbookManager</span><span class="o">();</span>

        <span class="c1">// create a new address</span>
        <span class="n">Address</span> <span class="n">address</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Address</span><span class="o">();</span>
        <span class="n">address</span><span class="o">.</span><span class="na">setShortName</span><span class="o">(</span><span class="s">"Home"</span><span class="o">);</span>
        <span class="n">address</span><span class="o">.</span><span class="na">setCity</span><span class="o">(</span><span class="s">"Boston"</span><span class="o">);</span>
        <span class="n">address</span><span class="o">.</span><span class="na">setCountry</span><span class="o">(</span><span class="s">"US"</span><span class="o">);</span>
        <span class="n">address</span><span class="o">.</span><span class="na">setLine1</span><span class="o">(</span><span class="s">"123 Some Street"</span><span class="o">);</span>
        <span class="n">address</span><span class="o">.</span><span class="na">setLine2</span><span class="o">(</span><span class="s">""</span><span class="o">);</span>
        <span class="n">address</span><span class="o">.</span><span class="na">setState</span><span class="o">(</span><span class="s">"MA"</span><span class="o">);</span>
        <span class="n">address</span><span class="o">.</span><span class="na">setZip</span><span class="o">(</span><span class="s">"02110"</span><span class="o">);</span>
        <span class="n">myAddressManager</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">address</span><span class="o">,</span><span class="k">this</span><span class="o">);</span>

    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onAddressbookCreateSuccess</span><span class="o">(</span><span class="n">Address</span> <span class="n">address</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// show create success update message</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>Method signature: <code>session.addressbookService.create( address, [callback or interface] )</code></p>

<p>You must pass in a valid <code>address</code> object with the <code>id</code> field blank.</p>

<p>The method returns the created <code>address</code> object with <code>id</code> upon success.</p>
<h4 id='address-object'>address Object</h4>
<table><thead>
<tr>
<th>field</th>
<th>format</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>auto-assigned string</td>
<td>123abc</td>
</tr>
<tr>
<td>short_name</td>
<td>string</td>
<td>My house</td>
</tr>
<tr>
<td>line1</td>
<td>string</td>
<td>Theodore Lowe</td>
</tr>
<tr>
<td>line2</td>
<td>string</td>
<td>Ap #867-859 Sit Rd.</td>
</tr>
<tr>
<td>city</td>
<td>string</td>
<td>New York</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>NY</td>
</tr>
<tr>
<td>zip</td>
<td>string</td>
<td>39531</td>
</tr>
<tr>
<td>country</td>
<td>string</td>
<td>USA</td>
</tr>
</tbody></table>
<h3 id='method-addressbookmanager-update'>Method: addressbookManager.update</h3><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">UIKit</span>
<span class="kd">import</span> <span class="kt">RezolveSDK</span>

<span class="kd">class</span> <span class="kt">AddressBookViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="k">let</span> <span class="nv">API_KEY</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">"your_api_key"</span>
    <span class="k">let</span> <span class="nv">ENVIRONMENT</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span>

    <span class="k">var</span> <span class="nv">mySession</span><span class="p">:</span> <span class="kt">RezolveSession</span><span class="p">?</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>

        <span class="k">self</span><span class="o">.</span><span class="n">mySession</span> <span class="o">=</span> <span class="o">...</span> <span class="c1">// initialize session</span>

        <span class="k">self</span><span class="o">.</span><span class="n">mySession</span><span class="p">?</span><span class="o">.</span><span class="n">addressbookManager</span><span class="o">.</span><span class="nf">get</span><span class="p">(</span><span class="nv">id</span><span class="p">:</span> <span class="s">"123"</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="nv">remoteAddress</span><span class="p">:</span> <span class="kt">Address</span><span class="p">)</span> <span class="k">in</span>

           <span class="n">remoteAddress</span><span class="o">.</span><span class="n">shortName</span> <span class="o">=</span> <span class="s">"My Company"</span>

           <span class="k">self</span><span class="o">.</span><span class="n">mySession</span><span class="p">?</span><span class="o">.</span><span class="n">addressbookManager</span><span class="o">.</span><span class="nf">update</span><span class="p">(</span><span class="nv">address</span><span class="p">:</span> <span class="n">remoteAddress</span><span class="p">)</span> <span class="p">{</span> 
            <span class="p">(</span><span class="nv">remoteAddress2</span><span class="p">:</span> <span class="kt">Address</span><span class="p">)</span> <span class="k">in</span>

               <span class="k">let</span> <span class="nv">addressId</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="n">remoteAddress2</span><span class="o">.</span><span class="n">id</span>
           <span class="p">}</span>
       <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight java tab-java"><code><span class="c1">// update address using addressBookInterface</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">addressBook</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="kd">implements</span> <span class="n">AddressbookInterface</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"your_api_key"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">ENVIRONMENT</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>

        <span class="n">AddressbookManager</span> <span class="n">myAddressManager</span> <span class="o">=</span> <span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span> 
        <span class="n">ENVIRONMENT</span><span class="o">).</span><span class="na">getRezolveSession</span><span class="o">().</span><span class="na">getAddressbookManager</span><span class="o">();</span>

        <span class="c1">// update an address</span>
        <span class="n">Address</span> <span class="n">address</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Address</span><span class="o">();</span>
        <span class="n">address</span><span class="o">.</span><span class="na">setShortName</span><span class="o">(</span><span class="s">"Home"</span><span class="o">);</span>
        <span class="n">address</span><span class="o">.</span><span class="na">setCity</span><span class="o">(</span><span class="s">"Boston"</span><span class="o">);</span>
        <span class="n">address</span><span class="o">.</span><span class="na">setCountry</span><span class="o">(</span><span class="s">"US"</span><span class="o">);</span>
        <span class="n">address</span><span class="o">.</span><span class="na">setLine1</span><span class="o">(</span><span class="s">"123 Some Street"</span><span class="o">);</span>
        <span class="n">address</span><span class="o">.</span><span class="na">setLine2</span><span class="o">(</span><span class="s">""</span><span class="o">);</span>
        <span class="n">address</span><span class="o">.</span><span class="na">setState</span><span class="o">(</span><span class="s">"MA"</span><span class="o">);</span>
        <span class="n">address</span><span class="o">.</span><span class="na">setZip</span><span class="o">(</span><span class="s">"02110"</span><span class="o">);</span>
        <span class="n">myAddressManager</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">address</span><span class="o">,</span><span class="k">this</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onAddressbookUpdateSuccess</span><span class="o">(</span><span class="n">Address</span> <span class="n">address</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// show update success message</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>Method signature: <code>session.addressbookManager.update( address, [callback or interface] )</code></p>

<p>You must pass in a valid <code>address</code> object with <code>id</code> populated.</p>

<p>The method returns the updated <code>address</code> object upon success.</p>
<h3 id='method-addressbookmanager-delete'>Method: addressbookManager.delete</h3><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">UIKit</span>
<span class="kd">import</span> <span class="kt">RezolveSDK</span>

<span class="kd">class</span> <span class="kt">AddressBookViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="k">let</span> <span class="nv">API_KEY</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">"your_api_key"</span>
    <span class="k">let</span> <span class="nv">ENVIRONMENT</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span>

    <span class="k">var</span> <span class="nv">mySession</span><span class="p">:</span> <span class="kt">RezolveSession</span><span class="p">?</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>

        <span class="k">self</span><span class="o">.</span><span class="n">mySession</span> <span class="o">=</span> <span class="o">...</span> <span class="c1">// initialize session</span>

        <span class="k">self</span><span class="o">.</span><span class="n">mySession</span><span class="p">?</span><span class="o">.</span><span class="n">addressbookManager</span><span class="o">.</span><span class="nf">get</span><span class="p">(</span><span class="nv">id</span><span class="p">:</span> <span class="s">"123"</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="nv">remoteAddress</span><span class="p">:</span> <span class="kt">Address</span><span class="p">)</span> <span class="k">in</span>


          <span class="k">self</span><span class="o">.</span><span class="n">mySession</span><span class="p">?</span><span class="o">.</span><span class="n">addressbookManager</span><span class="o">.</span><span class="nf">delete</span><span class="p">(</span><span class="nv">address</span><span class="p">:</span> <span class="n">remoteAddress</span><span class="p">)</span> <span class="p">{</span> <span class="p">()</span> <span class="k">in</span>

              <span class="c1">//handle callback</span>
          <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight java tab-java"><code><span class="c1">// delete address using AddressbookInterface</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">addressBook</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="kd">implements</span> <span class="n">AddressbookInterface</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"your_api_key"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">ENVIRONMENT</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>

        <span class="n">AddressbookManager</span> <span class="n">myAddressManager</span> <span class="o">=</span> <span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span> 
        <span class="n">ENVIRONMENT</span><span class="o">).</span><span class="na">getRezolveSession</span><span class="o">().</span><span class="na">getAddressbookManager</span><span class="o">();</span>

        <span class="c1">// delete an address</span>
        <span class="n">Address</span> <span class="n">address</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Address</span><span class="o">();</span>
        <span class="n">address</span><span class="o">.</span><span class="na">setShortName</span><span class="o">(</span><span class="s">"Home"</span><span class="o">);</span>
        <span class="n">address</span><span class="o">.</span><span class="na">setCity</span><span class="o">(</span><span class="s">"Boston"</span><span class="o">);</span>
        <span class="n">address</span><span class="o">.</span><span class="na">setCountry</span><span class="o">(</span><span class="s">"US"</span><span class="o">);</span>
        <span class="n">address</span><span class="o">.</span><span class="na">setLine1</span><span class="o">(</span><span class="s">"123 Some Street"</span><span class="o">);</span>
        <span class="n">address</span><span class="o">.</span><span class="na">setLine2</span><span class="o">(</span><span class="s">""</span><span class="o">);</span>
        <span class="n">address</span><span class="o">.</span><span class="na">setState</span><span class="o">(</span><span class="s">"MA"</span><span class="o">);</span>
        <span class="n">address</span><span class="o">.</span><span class="na">setZip</span><span class="o">(</span><span class="s">"02110"</span><span class="o">);</span>
        <span class="n">myAddressManager</span><span class="o">.</span><span class="na">delete</span><span class="o">(</span><span class="n">address</span><span class="o">,</span><span class="k">this</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onAddressbookDeleteSuccess</span><span class="o">(</span><span class="n">HttpResponse</span> <span class="n">httpResponse</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// show delete update message</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>Method signature: <code>session.addressbookManager.delete( address, [callback or interface] )</code></p>

<p>You must pass in the <code>address</code> object to delete.</p>
<h3 id='method-addressbookmanager-get'>Method: addressbookManager.get</h3><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">UIKit</span>
<span class="kd">import</span> <span class="kt">RezolveSDK</span>

<span class="kd">class</span> <span class="kt">AddressBookViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="k">let</span> <span class="nv">API_KEY</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">"your_api_key"</span>
    <span class="k">let</span> <span class="nv">ENVIRONMENT</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span>

    <span class="k">var</span> <span class="nv">mySession</span><span class="p">:</span> <span class="kt">RezolveSession</span><span class="p">?</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>

        <span class="k">self</span><span class="o">.</span><span class="n">mySession</span> <span class="o">=</span> <span class="o">...</span> <span class="c1">// initialize session</span>

        <span class="k">self</span><span class="o">.</span><span class="n">mySession</span><span class="p">?</span><span class="o">.</span><span class="n">addressbookManager</span><span class="o">.</span><span class="nf">get</span><span class="p">(</span><span class="nv">id</span><span class="p">:</span> <span class="s">"123"</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="nv">remoteAddress</span><span class="p">:</span> <span class="kt">Address</span><span class="p">)</span> <span class="k">in</span>

            <span class="k">let</span> <span class="nv">addressId</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="n">remoteAddress</span><span class="o">.</span><span class="n">id</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight java tab-java"><code><span class="c1">// get address using AddressbookInterface</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">addressBook</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="kd">implements</span> <span class="n">AddressbookInterface</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"your_api_key"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">ENVIRONMENT</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>

        <span class="n">AddressbookManager</span> <span class="n">myAddressManager</span> <span class="o">=</span> <span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span> 
        <span class="n">ENVIRONMENT</span><span class="o">).</span><span class="na">getRezolveSession</span><span class="o">().</span><span class="na">getAddressbookManager</span><span class="o">();</span>

        <span class="c1">// get a single address</span>
        <span class="n">String</span> <span class="n">address_id</span> <span class="o">=</span> <span class="s">"123"</span><span class="o">;</span>
        <span class="n">myAddressManager</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">address_id</span><span class="o">,</span><span class="k">this</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onAddressbookGetSuccess</span><span class="o">(</span><span class="n">Address</span> <span class="n">address</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// get address info</span>
        <span class="n">String</span> <span class="n">id</span> <span class="o">=</span> <span class="n">address</span><span class="o">.</span><span class="na">getId</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">shortName</span> <span class="o">=</span> <span class="n">address</span><span class="o">.</span><span class="na">getShortName</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">city</span> <span class="o">=</span> <span class="n">address</span><span class="o">.</span><span class="na">getCity</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">country</span> <span class="o">=</span> <span class="n">address</span><span class="o">.</span><span class="na">getCountry</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">line1</span> <span class="o">=</span> <span class="n">address</span><span class="o">.</span><span class="na">getLine1</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">line2</span> <span class="o">=</span> <span class="n">address</span><span class="o">.</span><span class="na">getLine2</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">state</span> <span class="o">=</span> <span class="n">address</span><span class="o">.</span><span class="na">getState</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">zip</span> <span class="o">=</span> <span class="n">address</span><span class="o">.</span><span class="na">getZip</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>Method signature: <code>session.addressbookManager.get( id, [callback or interface] )</code></p>

<p>You must pass in the <code>id</code> of the <code>address</code> to get.</p>

<p>The method returns an <code>address</code> object.</p>
<h3 id='method-addressbookmanager-getall'>Method: addressbookManager.getAll</h3><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">UIKit</span>
<span class="kd">import</span> <span class="kt">RezolveSDK</span>

<span class="kd">class</span> <span class="kt">AddressBookViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="k">let</span> <span class="nv">API_KEY</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">"your_api_key"</span>
    <span class="k">let</span> <span class="nv">ENVIRONMENT</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span>

    <span class="k">var</span> <span class="nv">mySession</span><span class="p">:</span> <span class="kt">RezolveSession</span><span class="p">?</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>

        <span class="k">self</span><span class="o">.</span><span class="n">mySession</span> <span class="o">=</span> <span class="o">...</span> <span class="c1">// initialize session</span>

        <span class="k">self</span><span class="o">.</span><span class="n">mySession</span><span class="p">?</span><span class="o">.</span><span class="n">addressbookManager</span><span class="o">.</span><span class="nf">getAll</span><span class="p">()</span> <span class="p">{</span> <span class="p">(</span><span class="nv">listOfAddress</span><span class="p">:</span> <span class="kt">Array</span><span class="o">&lt;</span><span class="kt">Address</span><span class="o">&gt;</span><span class="p">)</span> <span class="k">in</span>

           <span class="c1">//handle the result</span>
       <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight java tab-java"><code><span class="c1">// get all addresses using AddressbookInterface</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">addressBook</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="kd">implements</span> <span class="n">AddressbookInterface</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"your_api_key"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">ENVIRONMENT</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>

        <span class="n">AddressbookManager</span> <span class="n">myAddressManager</span> <span class="o">=</span> <span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span> 
        <span class="n">ENVIRONMENT</span><span class="o">).</span><span class="na">getRezolveSession</span><span class="o">().</span><span class="na">getAddressbookManager</span><span class="o">();</span>

        <span class="c1">// list all addresses</span>
        <span class="n">myAddressManager</span><span class="o">.</span><span class="na">getAll</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onAddressbookGetAllSuccess</span><span class="o">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">Address</span><span class="o">&gt;</span> <span class="n">list</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// get address list info</span>
        <span class="k">for</span><span class="o">(</span><span class="n">Address</span> <span class="n">address</span> <span class="o">:</span> <span class="n">list</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">String</span> <span class="n">id</span> <span class="o">=</span> <span class="n">address</span><span class="o">.</span><span class="na">getId</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">shortName</span> <span class="o">=</span> <span class="n">address</span><span class="o">.</span><span class="na">getShortName</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">city</span> <span class="o">=</span> <span class="n">address</span><span class="o">.</span><span class="na">getCity</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">country</span> <span class="o">=</span> <span class="n">address</span><span class="o">.</span><span class="na">getCountry</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">line1</span> <span class="o">=</span> <span class="n">address</span><span class="o">.</span><span class="na">getLine1</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">line2</span> <span class="o">=</span> <span class="n">address</span><span class="o">.</span><span class="na">getLine2</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">state</span> <span class="o">=</span> <span class="n">address</span><span class="o">.</span><span class="na">getState</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">zip</span> <span class="o">=</span> <span class="n">address</span><span class="o">.</span><span class="na">getZip</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>Method signature: <code>session.addressbookManager.getAll( [callback or interface] )</code></p>

<p>The method returns an array of <code>address</code> objects.</p>

          <h2 id='module-authenticationmanager'>Module: AuthenticationManager</h2>
<p>Authentication services are an aggregate of SDK.</p>

<p>This module handles consumer user creation and authentication.</p>

<aside class="warning">
Note that several methods in this class are now deprecated.
</aside>
<h3 id='method-register-deprecated'>Method: Register (deprecated)</h3><pre class="highlight swift tab-swift"><code>  <span class="k">let</span> <span class="nv">deviceProfile</span><span class="p">:</span> <span class="kt">DeviceProfile</span> <span class="o">=</span> <span class="kt">DeviceProfile</span><span class="p">(</span>
      <span class="nv">deviceId</span><span class="p">:</span> <span class="s">"123"</span><span class="p">,</span>
      <span class="nv">make</span><span class="p">:</span> <span class="s">"Apple"</span><span class="p">,</span>
      <span class="nv">osType</span><span class="p">:</span> <span class="s">"iOS"</span><span class="p">,</span>
      <span class="nv">osVersion</span><span class="p">:</span> <span class="s">"10"</span><span class="p">,</span>
      <span class="nv">locale</span><span class="p">:</span> <span class="s">"Europe/London"</span>
  <span class="p">)</span>

  <span class="k">let</span> <span class="nv">signUpRequest</span><span class="p">:</span> <span class="kt">SignUpRequest</span> <span class="o">=</span> <span class="kt">SignUpRequest</span><span class="p">(</span>
      <span class="nv">email</span><span class="p">:</span> <span class="s">"johndoe@domain.com"</span><span class="p">,</span>
      <span class="nv">firtName</span><span class="p">:</span> <span class="s">"John"</span><span class="p">,</span>
      <span class="nv">lastName</span><span class="p">:</span> <span class="s">"Doe"</span><span class="p">,</span>
      <span class="nv">name</span><span class="p">:</span> <span class="s">"John Doe"</span><span class="p">,</span>
      <span class="nv">device</span><span class="p">:</span> <span class="n">deviceProfile</span>
  <span class="p">)</span>


  <span class="n">sdk</span><span class="o">.</span><span class="nf">registerUser</span><span class="p">(</span><span class="nv">request</span><span class="p">:</span> <span class="n">signUpRequest</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="nv">partnerId</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">entityId</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="k">in</span>
      <span class="k">self</span><span class="o">.</span><span class="n">entityId</span> <span class="o">=</span> <span class="n">entityId</span><span class="p">;</span>
      <span class="k">self</span><span class="o">.</span><span class="n">partnerId</span> <span class="o">=</span> <span class="n">partnerId</span>

      <span class="n">sdk</span><span class="o">.</span><span class="nf">createSession</span><span class="p">(</span>
          <span class="nv">entityId</span><span class="p">:</span> <span class="k">self</span><span class="o">.</span><span class="n">entityId</span><span class="o">!</span><span class="p">,</span>
          <span class="nv">partnerId</span><span class="p">:</span> <span class="k">self</span><span class="o">.</span><span class="n">partnerId</span><span class="o">!</span><span class="p">,</span>
          <span class="nv">device</span><span class="p">:</span> <span class="n">deviceProfile</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="nv">session</span><span class="p">:</span> <span class="kt">RezolveSession</span><span class="p">)</span> <span class="k">in</span>

              <span class="k">self</span><span class="o">.</span><span class="n">mySession</span> <span class="o">=</span> <span class="n">session</span>
      <span class="p">}</span>
  <span class="p">}</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">DeviceProfile</span> <span class="n">deviceProfile</span> <span class="o">=</span> <span class="k">new</span> <span class="n">DeviceProfile</span><span class="o">(</span><span class="n">deviceId</span><span class="o">,</span> <span class="n">deviceManufacturer</span><span class="o">,</span> <span class="n">locale</span><span class="o">);</span>
<span class="n">SignUpRequest</span> <span class="n">signUpRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SignUpRequest</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
    <span class="o">.</span><span class="na">email</span><span class="o">(</span><span class="s">"john.doe@domain.com"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">firstName</span><span class="o">(</span><span class="s">"John"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">lastName</span><span class="o">(</span><span class="s">"Doe"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">name</span><span class="o">(</span><span class="s">"JDoe"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">device</span><span class="o">(</span><span class="n">deviceProfile</span><span class="o">)</span>
    <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span> <span class="n">ENVIRONMENT</span><span class="o">).</span><span class="na">registerUser</span><span class="o">(</span>
<span class="n">signUpRequest</span><span class="o">,</span> <span class="k">new</span> <span class="n">RezolveInterface</span><span class="o">()</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onInitializationSuccess</span><span class="o">(</span><span class="n">RezolveSession</span> <span class="n">rezolveSession</span><span class="o">,</span> <span class="n">String</span> <span class="n">partnerId</span><span class="o">,</span> 
     <span class="n">String</span> <span class="n">entityId</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// persist the entity_id and partner_id values here</span>
        <span class="o">...</span>

        <span class="c1">// set session for convenience</span>
        <span class="n">mySession</span> <span class="o">=</span> <span class="n">rezolveSession</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onInitializationFailure</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">// handle failure here</span>
    <span class="o">}</span>
<span class="o">});</span>

</code></pre>
<p>Method signature: <code>sdk.register( SignUpRequest, [callback or interface] )</code></p>

<p>You must pass in a valid <code>signUpRequest</code> object.</p>

<p>The method returns a <code>signUpResponse</code> object.</p>
<h4 id='signuprequest-object'>signUpRequest Object</h4>
<table><thead>
<tr>
<th>field</th>
<th>format</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>string</td>
<td>user@domain.com</td>
</tr>
<tr>
<td>first_name</td>
<td>string</td>
<td>John</td>
</tr>
<tr>
<td>last_name</td>
<td>string</td>
<td>Doe</td>
</tr>
<tr>
<td>deviceProfile</td>
<td>object</td>
<td>&nbsp;</td>
</tr>
</tbody></table>
<h4 id='deviceprofile-object'>deviceProfile Object</h4>
<table><thead>
<tr>
<th>field</th>
<th>format</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>auto-assigned string</td>
<td>123abc</td>
</tr>
<tr>
<td>device_id</td>
<td>string</td>
<td>bd17391f9561</td>
</tr>
<tr>
<td>make</td>
<td>string</td>
<td>apple</td>
</tr>
<tr>
<td>os_type</td>
<td>string</td>
<td>iOS</td>
</tr>
<tr>
<td>os_version</td>
<td>string</td>
<td>10.3</td>
</tr>
<tr>
<td>locale</td>
<td>locale as a combination of ISO 639-1 language code and ISO 3166-1 country code</td>
<td>en_GB</td>
</tr>
</tbody></table>
<h4 id='signupresponse-object'>signUpResponse Object</h4>
<aside class="warning">
Note, the values in the SignUpResponse should be persisted at least for the life of the install. Persisting on the partner server is recommended, as this allows for Rezolve account reassociation after an uninstall/reinstall.
</aside>

<table><thead>
<tr>
<th>field</th>
<th>format</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td>partner_id</td>
<td>string</td>
<td>rezolve</td>
</tr>
<tr>
<td>entity_id</td>
<td>string</td>
<td>9310c880695c</td>
</tr>
</tbody></table>
<h3 id='method-create-session-v2-with-jwt'>Method: Create Session (v2, with JWT)</h3><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">UIKit</span>
<span class="kd">import</span> <span class="kt">RezolveSDK</span>


<span class="kd">class</span> <span class="kt">SandboxViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="kd">private</span> <span class="k">var</span> <span class="nv">API_KEY</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">"your_api_key"</span>
    <span class="kd">private</span> <span class="k">var</span> <span class="nv">API_ENVIRONMENT</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span>
    <span class="kd">private</span> <span class="k">var</span> <span class="nv">accessToken</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">"abc123.abc123.abc123"</span>
    <span class="kd">private</span> <span class="k">var</span> <span class="nv">entityId</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">"123"</span>
    <span class="kd">private</span> <span class="k">var</span> <span class="nv">partnerId</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">"123"</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>

        <span class="k">var</span> <span class="nv">sdk</span> <span class="o">=</span> <span class="kt">RezolveSDK</span><span class="p">(</span>
            <span class="nv">apiKey</span><span class="p">:</span> <span class="kt">API_KEY</span><span class="p">,</span>
            <span class="nv">env</span><span class="p">:</span> <span class="kt">API_ENVIRONMENT</span>
        <span class="p">)</span>

        <span class="n">sdk</span><span class="o">.</span><span class="nf">createSession</span><span class="p">(</span><span class="nv">accessToken</span><span class="p">:</span> <span class="n">accessToken</span><span class="p">,</span> <span class="nv">entityId</span><span class="p">:</span> <span class="n">entityId</span><span class="p">,</span> <span class="nv">partnerId</span><span class="p">:</span> <span class="n">partnerId</span><span class="p">)</span> <span class="p">{</span> <span class="n">session</span>

            <span class="c1">// your rezolve SDK logic here</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"your_api_key"</span><span class="o">;</span>
<span class="n">String</span> <span class="n">ENVIRONMENT</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span><span class="o">;</span>
<span class="n">String</span> <span class="n">accessToken</span> <span class="o">=</span> <span class="s">"abc123.abc123.abc123"</span><span class="o">;</span>  <span class="c1">// JWT token from auth server</span>
<span class="n">String</span> <span class="n">entityId</span> <span class="o">=</span> <span class="s">"123"</span><span class="o">;</span>    <span class="c1">// from auth server</span>
<span class="n">String</span> <span class="n">partnerId</span> <span class="o">=</span> <span class="s">"123"</span><span class="o">;</span>   <span class="c1">// from auth server</span>

<span class="c1">// NEW session requires Login JWT  from auth server (customer auth or RUA)</span>
<span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span> <span class="n">ENVIRONMENT</span><span class="o">).</span><span class="na">createSession</span><span class="o">(</span> <span class="n">accessToken</span><span class="o">,</span> <span class="n">entityId</span><span class="o">,</span> <span class="n">partnerId</span><span class="o">,</span> <span class="k">new</span> <span class="n">RezolveInterface</span><span class="o">()</span> <span class="o">{</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onInitializationSuccess</span><span class="o">(</span><span class="n">RezolveSession</span> <span class="n">rezolveSession</span><span class="o">,</span> <span class="n">String</span> <span class="n">entityId</span><span class="o">,</span> <span class="n">String</span> <span class="n">partnerId</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// use created session to access managers.  Example...</span>
        <span class="n">rezolveSession</span><span class="o">.</span><span class="na">getCustomerProfileManager</span><span class="o">().</span><span class="na">get</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onInitializationFailure</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">// handle error</span>
    <span class="o">}</span>
<span class="o">});</span>
</code></pre>
<p>Method signature: <code>sdk.createSession( accessToken, entityId, partnerId, [callback or interface] )</code></p>

<p><code>accessToken</code> is a Jason Web Token as a string, returned from the auth server (customer auth server, or RUA)</p>

<p><code>entityId</code> is a string, returned from the auth server (customer auth server, or RUA)</p>

<p><code>partnerId</code> is a string, returned from the auth server (customer auth server, or RUA)</p>

<p>The method returns a <code>rezolveSession</code> object.  A valid <code>rezolveSession</code> gives you access to the rest of the SDK methods;  .getAddressbookManager(), .getAuthenticationManager(), .getCheckoutManager(), etc. </p>
<h3 id='method-create-session-v1-deprecated'>Method: Create Session (v1, deprecated)</h3><pre class="highlight swift tab-swift"><code><span class="k">let</span> <span class="nv">deviceProfile</span><span class="p">:</span> <span class="kt">DeviceProfile</span> <span class="o">=</span> <span class="kt">DeviceProfile</span><span class="p">(</span>
  <span class="nv">deviceId</span><span class="p">:</span> <span class="s">"123"</span><span class="p">,</span>
  <span class="nv">make</span><span class="p">:</span> <span class="s">"Apple"</span><span class="p">,</span>
  <span class="nv">osType</span><span class="p">:</span> <span class="s">"iOS"</span><span class="p">,</span>
  <span class="nv">osVersion</span><span class="p">:</span> <span class="s">"10"</span><span class="p">,</span>
  <span class="nv">locale</span><span class="p">:</span> <span class="s">"Europe/London"</span>
<span class="p">)</span>

<span class="n">sdk</span><span class="o">.</span><span class="nf">createSession</span><span class="p">(</span>
  <span class="nv">entityId</span><span class="p">:</span> <span class="k">self</span><span class="o">.</span><span class="n">entityId</span><span class="o">!</span><span class="p">,</span>
  <span class="nv">partnerId</span><span class="p">:</span> <span class="k">self</span><span class="o">.</span><span class="n">partnerId</span><span class="o">!</span><span class="p">,</span>
  <span class="nv">device</span><span class="p">:</span> <span class="n">deviceProfile</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="nv">session</span><span class="p">:</span> <span class="kt">RezolveSession</span><span class="p">)</span> <span class="k">in</span>
      <span class="k">self</span><span class="o">.</span><span class="n">mySession</span> <span class="o">=</span> <span class="n">session</span>
<span class="p">}</span>

</code></pre><pre class="highlight java tab-java"><code><span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span> <span class="n">ENVIRONMENT</span><span class="o">).</span><span class="na">createSession</span><span class="o">(</span><span class="n">entityId</span><span class="o">,</span> 
<span class="n">partnerId</span><span class="o">,</span> <span class="n">deviceProfile</span><span class="o">,</span> <span class="k">new</span> <span class="n">RezolveInterface</span><span class="o">()</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onInitializationSuccess</span><span class="o">(</span><span class="n">RezolveSession</span> <span class="n">rezolveSession</span><span class="o">,</span> <span class="n">String</span> <span class="n">s</span><span class="o">,</span> 
    <span class="n">String</span> <span class="n">s1</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">mySession</span> <span class="o">=</span> <span class="n">rezolveSession</span><span class="o">;</span>
        <span class="c1">// use created session to access managers</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onInitializationFailure</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">// handle failed initialization</span>
    <span class="o">}</span>
<span class="o">});</span>
</code></pre>
<p>Method signature: <code>sdk.createSession( entityId, partnerId, DeviceProfile, [callback or interface] )</code></p>

<p><code>entity_id</code> is a string, returned from <code>sdk.register</code></p>

<p><code>partner_id</code> is a string, returned from <code>sdk.register</code></p>

<p><code>deviceProfile</code> is an object (see definition above)</p>

<p>The method returns a <code>rezolveSession</code> object.</p>
<h4 id='rezolvesession-object'>rezolveSession Object</h4>
<table><thead>
<tr>
<th>field</th>
<th>format</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td>partner_id</td>
<td>string</td>
<td>rezolve</td>
</tr>
<tr>
<td>entity_id</td>
<td>string</td>
<td>9310c880695c</td>
</tr>
<tr>
<td>deviceProfile</td>
<td>object</td>
<td></td>
</tr>
</tbody></table>
<h3 id='method-logout-deprecated'>Method: Logout (deprecated)</h3>
<p>This method is no longer needed. </p>

<p>With v2 auth (JWT-based), when your consumer logs out, you expire the JWT at the auth server, and this prevents the SDK from talking to the Rezolve servers.</p>
<pre class="highlight swift tab-swift"><code><span class="c1">// When session ends you should inform the sdk by calling</span>
<span class="n">session</span><span class="o">.</span><span class="n">authenticationManager</span><span class="o">.</span><span class="nf">logout</span><span class="p">();</span>
</code></pre><pre class="highlight java tab-java"><code><span class="c1">// When session ends you should inform the sdk by calling</span>
<span class="n">rezolveSession</span><span class="o">.</span><span class="na">getAuthenticationManager</span><span class="o">().</span><span class="na">logout</span><span class="o">(</span><span class="n">entityId</span><span class="o">);</span>
</code></pre>
<p>Method signature: <code>sdk.logout( entityId )</code></p>

<p><code>entity_id</code> is a string, returned from <code>sdk.register</code>.</p>

          <h2 id='module-checkoutmanager'>Module: CheckoutManager</h2>
<p>Checkout is an aggregate of Session.</p>

<p>The checkout module handles the shopping cart, and creates, modifies, and completes orders with payment.</p>
<h3 id='method-addproducttocart'>Method: addProductToCart</h3><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">UIKit</span>
<span class="kd">import</span> <span class="kt">RezolveSDK</span>

<span class="k">let</span> <span class="nv">MERCHANT_ID</span> <span class="o">=</span> <span class="s">"..."</span>
<span class="k">let</span> <span class="nv">CATEGORY_ID</span> <span class="o">=</span> <span class="kt">Int32</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">PRODUCT_ID</span> <span class="o">=</span> <span class="s">"..."</span>

<span class="kd">class</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>

        <span class="k">let</span> <span class="nv">sdk</span><span class="p">:</span> <span class="kt">RezolveSDK</span> <span class="o">=</span> <span class="kt">RezolveSDK</span><span class="p">(</span><span class="nv">apiKey</span><span class="p">:</span> <span class="kt">API_KEY</span><span class="p">,</span> <span class="nv">env</span><span class="p">:</span> <span class="kt">SDK_ENV</span><span class="p">)</span>

        <span class="k">let</span> <span class="nv">signUpRequest</span> <span class="o">=</span> <span class="nf">createSingUpRequest</span><span class="p">()</span>

        <span class="n">sdk</span><span class="o">.</span><span class="nf">registerUser</span><span class="p">(</span><span class="nv">request</span><span class="p">:</span> <span class="n">signUpRequest</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="nv">partnerId</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">entityId</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="k">in</span>

            <span class="n">sdk</span><span class="o">.</span><span class="nf">createSession</span><span class="p">(</span><span class="nv">entityId</span><span class="p">:</span> <span class="n">entityId</span><span class="p">,</span> <span class="nv">partnerId</span><span class="p">:</span> <span class="n">partnerId</span><span class="p">,</span> <span class="nv">device</span><span class="p">:</span> <span class="n">signUpRequest</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">session</span><span class="p">:</span> <span class="kt">RezolveSession</span><span class="p">)</span> <span class="k">in</span>

              <span class="n">session</span><span class="o">.</span><span class="n">productManager</span><span class="o">.</span><span class="nf">getProduct</span><span class="p">(</span><span class="nv">merchantId</span><span class="p">:</span> <span class="kt">MERCHANT_ID</span><span class="p">,</span> <span class="nv">categoryId</span><span class="p">:</span> <span class="kt">CATEGORY_ID</span><span class="p">,</span> <span class="nv">productId</span><span class="p">:</span> <span class="kt">PRODUCT_ID</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">remoteProduct</span><span class="p">:</span> <span class="kt">Product</span><span class="p">)</span> <span class="k">in</span>

                   <span class="k">let</span> <span class="nv">checkoutProduct</span> <span class="o">=</span> <span class="nf">createCheckoutProductWithVariant</span><span class="p">(</span><span class="nv">product</span><span class="p">:</span> <span class="n">remoteProduct</span><span class="p">)</span>

                   <span class="n">session</span><span class="o">.</span><span class="n">cartManager</span><span class="o">.</span><span class="nf">createCartWithProduct</span><span class="p">(</span><span class="nv">merchantId</span><span class="p">:</span> <span class="kt">MERCHANT_ID</span><span class="p">,</span> <span class="nv">product</span><span class="p">:</span> <span class="n">checkoutProduct</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="n">cartDetails</span> <span class="k">in</span>



                   <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>

               <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>

            <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>
        <span class="p">})</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">createCheckoutProductWithVariant</span><span class="p">(</span><span class="nv">product</span><span class="p">:</span> <span class="kt">Product</span><span class="p">,</span> <span class="nv">qty</span><span class="p">:</span> <span class="kt">Decimal</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">CheckoutProduct</span> <span class="p">{</span>

        <span class="k">let</span> <span class="nv">configurableOptions</span> <span class="o">=</span> <span class="p">(</span><span class="n">product</span><span class="o">.</span><span class="n">optionAvailable</span><span class="o">.</span><span class="n">first</span><span class="p">?</span><span class="o">.</span><span class="n">combination</span><span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="nv">$0</span><span class="o">.</span><span class="nf">configurableOption</span><span class="p">()</span> <span class="p">})</span><span class="o">!</span>

        <span class="k">return</span> <span class="kt">CheckoutProduct</span><span class="p">(</span><span class="nv">id</span><span class="p">:</span> <span class="n">product</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="nv">qty</span><span class="p">:</span> <span class="n">qty</span><span class="p">,</span> <span class="nv">configurableOptions</span><span class="p">:</span> <span class="n">configurableOptions</span><span class="p">,</span> <span class="nv">customOptions</span><span class="p">:</span> <span class="p">[])</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight java tab-java"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Checkout</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="kd">implements</span> <span class="n">CheckoutInterface</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"your_api_key"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">ENVIRONMENT</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span><span class="o">;</span>

    <span class="n">String</span> <span class="n">merchantId</span><span class="o">;</span>
    <span class="n">RezolveLocation</span> <span class="n">rezolveLocation</span><span class="o">;</span>
    <span class="n">CheckoutInterface</span> <span class="n">checkoutInterface</span><span class="o">;</span>
    <span class="n">CheckoutProduct</span> <span class="n">checkoutProduct</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
        <span class="n">CheckoutManager</span> <span class="n">myCheckoutManager</span> <span class="o">=</span> <span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span>
        <span class="n">ENVIRONMENT</span><span class="o">).</span><span class="na">getRezolveSession</span><span class="o">().</span><span class="na">getCheckoutManager</span><span class="o">();</span>


        <span class="c1">// add product to cart</span>
        <span class="n">myCheckoutManager</span><span class="o">.</span><span class="na">addProductToCart</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">checkoutProduct</span><span class="o">,</span> <span class="n">merchantId</span><span class="o">,</span> <span class="n">checkoutInterface</span><span class="o">);</span>
    <span class="o">}</span>


    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onAddProductsToCartSuccess</span><span class="o">(</span><span class="n">CartDetails</span> <span class="n">cartDetails</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// get properties of cartDetails object</span>
        <span class="n">String</span> <span class="n">cartDateCreated</span> <span class="o">=</span> <span class="n">cartDetails</span><span class="o">.</span><span class="na">getDateCreated</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">cartDateUpdated</span> <span class="o">=</span> <span class="n">cartDetails</span><span class="o">.</span><span class="na">getDateUpdated</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">cartId</span> <span class="o">=</span> <span class="n">cartDetails</span><span class="o">.</span><span class="na">getId</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">cartMerchantId</span> <span class="o">=</span> <span class="n">cartDetails</span><span class="o">.</span><span class="na">getMerchantId</span><span class="o">();</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">CheckoutProduct</span><span class="o">&gt;</span> <span class="n">cartProducts</span> <span class="o">=</span> <span class="n">cartDetails</span><span class="o">.</span><span class="na">getProducts</span><span class="o">();</span>

        <span class="c1">// get properties of cartProducts array</span>
        <span class="k">for</span><span class="o">(</span><span class="n">CheckoutProduct</span> <span class="nl">checkoutProduct:</span><span class="n">cartProducts</span><span class="o">){</span>
            <span class="kt">int</span> <span class="n">checkoutProductId</span> <span class="o">=</span> <span class="n">checkoutProduct</span><span class="o">.</span><span class="na">getId</span><span class="o">();</span>
            <span class="n">List</span><span class="o">&lt;</span><span class="n">ConfigurableOption</span><span class="o">&gt;</span> <span class="n">configurableOptions</span> <span class="o">=</span> <span class="n">checkoutProduct</span><span class="o">.</span><span class="na">getConfigurableOptions</span><span class="o">();</span>
            <span class="kt">float</span> <span class="n">checkoutProductQty</span> <span class="o">=</span> <span class="n">checkoutProduct</span><span class="o">.</span><span class="na">getQty</span><span class="o">();</span>

            <span class="c1">// get properties of configurableOptions array</span>
            <span class="k">for</span><span class="o">(</span><span class="n">ConfigurableOption</span> <span class="nl">configurableOption:</span><span class="n">configurableOptions</span><span class="o">){</span>
                <span class="n">String</span> <span class="n">configurableOptionCode</span> <span class="o">=</span> <span class="n">configurableOption</span><span class="o">.</span><span class="na">getCode</span><span class="o">();</span>
                <span class="kt">int</span> <span class="n">configurableOptionValue</span> <span class="o">=</span> <span class="n">configurableOption</span><span class="o">.</span><span class="na">getValue</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>


    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onFailure</span><span class="o">(</span><span class="n">HttpResponse</span> <span class="n">httpResponse</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// handle error</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>AddProductToCart adds a product to the cart for a particular merchant.</p>

<p>IOS Method signature: <code>session.CheckoutManager.addProductToCart( CheckoutProduct, String TODO, [callback or interface] )</code></p>

<p>Android Method signature: <code>session.CheckoutManager.addProductToCart( Context, CheckoutProduct, String TODO, [callback or interface] )</code></p>

<p>You must pass in a <code>CheckoutProduct</code> object, the merchantId as a string, and a <code>CheckoutInterface</code> object (or callback).</p>

<p>The method returns an <code>CartDetails</code> object.</p>
<h4 id='checkoutproduct-object'>CheckoutProduct object</h4>
<table><thead>
<tr>
<th>field</th>
<th>format</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td>checkoutProductId</td>
<td>int</td>
<td>123</td>
</tr>
<tr>
<td>checkoutProductQty</td>
<td>float</td>
<td>1</td>
</tr>
<tr>
<td>configurableOptions</td>
<td>array of configurableOption objects</td>
<td>@nbsp;</td>
</tr>
</tbody></table>
<h4 id='configurableoption-object'>ConfigurableOption object</h4>
<table><thead>
<tr>
<th>field</th>
<th>format</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td>configurableOptionCode</td>
<td>string</td>
<td>Logo</td>
</tr>
<tr>
<td>configurableOptionValue</td>
<td>int</td>
<td>123</td>
</tr>
</tbody></table>
<h4 id='cartdetails-object'>CartDetails object</h4>
<table><thead>
<tr>
<th>field</th>
<th>format</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td>cartDateCreated</td>
<td>date string in format YYYY-MM-DD</td>
<td>2017-12-25</td>
</tr>
<tr>
<td>cartDateUpdated</td>
<td>date string in format YYYY-MM-DD</td>
<td>2017-12-25</td>
</tr>
<tr>
<td>cartId</td>
<td>string</td>
<td>abc123</td>
</tr>
<tr>
<td>cartMerchantId</td>
<td>string</td>
<td>abc123</td>
</tr>
<tr>
<td>cartProducts</td>
<td>array of CheckoutProduct objects</td>
<td>&nbsp;</td>
</tr>
</tbody></table>
<h3 id='method-buycart'>Method: buyCart</h3><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">UIKit</span>
<span class="kd">import</span> <span class="kt">RezolveSDK</span>

<span class="k">let</span> <span class="nv">MERCHANT_ID</span> <span class="o">=</span> <span class="s">"..."</span>
<span class="k">let</span> <span class="nv">CATEGORY_ID</span> <span class="o">=</span> <span class="kt">Int32</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">PRODUCT_ID</span> <span class="o">=</span> <span class="s">"..."</span>

<span class="kd">class</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>

        <span class="k">let</span> <span class="nv">sdk</span><span class="p">:</span> <span class="kt">RezolveSDK</span> <span class="o">=</span> <span class="kt">RezolveSDK</span><span class="p">(</span><span class="nv">apiKey</span><span class="p">:</span> <span class="kt">API_KEY</span><span class="p">,</span> <span class="nv">env</span><span class="p">:</span> <span class="kt">SDK_ENV</span><span class="p">)</span>

        <span class="k">let</span> <span class="nv">signUpRequest</span> <span class="o">=</span> <span class="nf">createSingUpRequest</span><span class="p">()</span>

        <span class="n">sdk</span><span class="o">.</span><span class="nf">registerUser</span><span class="p">(</span><span class="nv">request</span><span class="p">:</span> <span class="n">signUpRequest</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="nv">partnerId</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">entityId</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="k">in</span>

            <span class="n">sdk</span><span class="o">.</span><span class="nf">createSession</span><span class="p">(</span><span class="nv">entityId</span><span class="p">:</span> <span class="n">entityId</span><span class="p">,</span> <span class="nv">partnerId</span><span class="p">:</span> <span class="n">partnerId</span><span class="p">,</span> <span class="nv">device</span><span class="p">:</span> <span class="n">signUpRequest</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">session</span><span class="p">:</span> <span class="kt">RezolveSession</span><span class="p">)</span> <span class="k">in</span>

              <span class="k">let</span> <span class="nv">address</span><span class="p">:</span> <span class="kt">Address</span> <span class="o">=</span> <span class="nf">createAddress</span><span class="p">()</span>

              <span class="n">session</span><span class="o">.</span><span class="n">addressbookManager</span><span class="o">.</span><span class="nf">create</span><span class="p">(</span><span class="nv">address</span><span class="p">:</span> <span class="n">address</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="nv">remoteAddress</span><span class="p">:</span> <span class="kt">Address</span><span class="p">)</span> <span class="k">in</span>

                  <span class="k">let</span> <span class="nv">card</span><span class="p">:</span> <span class="kt">PaymentCard</span> <span class="o">=</span> <span class="nf">createPaymentCard</span><span class="p">(</span><span class="nv">addressId</span><span class="p">:</span> <span class="n">remoteAddress</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>

                  <span class="n">session</span><span class="o">.</span><span class="n">walletManager</span><span class="o">.</span><span class="nf">create</span><span class="p">(</span><span class="nv">paymentCard</span><span class="p">:</span> <span class="n">card</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">remoteCard</span><span class="p">:</span> <span class="kt">PaymentCard</span><span class="p">)</span> <span class="k">in</span>

                      <span class="k">let</span> <span class="nv">checkoutProduct</span> <span class="o">=</span> <span class="nf">createCheckoutProductWithVariant</span><span class="p">(</span><span class="nv">product</span><span class="p">:</span> <span class="n">remoteProduct</span><span class="p">)</span>
                      <span class="k">let</span> <span class="nv">paymentRequest</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">checkoutManager</span><span class="o">.</span><span class="nf">createPaymentRequest</span><span class="p">(</span><span class="nv">paymentCard</span><span class="p">:</span> <span class="n">remoteCard</span><span class="p">,</span> <span class="nv">cvv</span><span class="p">:</span> <span class="kt">CVV</span><span class="p">)</span>

                      <span class="n">session</span><span class="o">.</span><span class="n">cartManager</span><span class="o">.</span><span class="nf">createCartWithProduct</span><span class="p">(</span><span class="nv">merchantId</span><span class="p">:</span> <span class="kt">MERCHANT_ID</span><span class="p">,</span> <span class="nv">product</span><span class="p">:</span> <span class="n">checkoutProduct</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="n">cartDetails</span> <span class="k">in</span>

                          <span class="n">session</span><span class="o">.</span><span class="n">checkoutManager</span><span class="o">.</span><span class="nf">buyCart</span><span class="p">(</span><span class="nv">merchantId</span><span class="p">:</span> <span class="kt">MERCHANT_ID</span><span class="p">,</span> <span class="nv">cart</span><span class="p">:</span> <span class="n">cartDetails</span><span class="p">,</span> <span class="nv">address</span><span class="p">:</span> <span class="n">remoteAddress</span><span class="p">,</span> <span class="nv">paymentRequest</span><span class="p">:</span> <span class="n">paymentRequest</span><span class="p">,</span> <span class="nv">location</span><span class="p">:</span> <span class="kt">DEFAULT_LOCATIONS</span><span class="p">,</span> <span class="nv">phone</span><span class="p">:</span> <span class="n">phone</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">order</span><span class="p">:</span> <span class="kt">CheckoutOrder</span><span class="p">)</span> <span class="k">in</span>


                          <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>

                      <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>
                  <span class="p">})</span>
              <span class="p">}</span>

            <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>
        <span class="p">})</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">createCheckoutProductWithVariant</span><span class="p">(</span><span class="nv">product</span><span class="p">:</span> <span class="kt">Product</span><span class="p">,</span> <span class="nv">qty</span><span class="p">:</span> <span class="kt">Decimal</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">CheckoutProduct</span> <span class="p">{</span>

        <span class="k">let</span> <span class="nv">configurableOptions</span> <span class="o">=</span> <span class="p">(</span><span class="n">product</span><span class="o">.</span><span class="n">optionAvailable</span><span class="o">.</span><span class="n">first</span><span class="p">?</span><span class="o">.</span><span class="n">combination</span><span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="nv">$0</span><span class="o">.</span><span class="nf">configurableOption</span><span class="p">()</span> <span class="p">})</span><span class="o">!</span>

        <span class="k">return</span> <span class="kt">CheckoutProduct</span><span class="p">(</span><span class="nv">id</span><span class="p">:</span> <span class="n">product</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="nv">qty</span><span class="p">:</span> <span class="n">qty</span><span class="p">,</span> <span class="nv">configurableOptions</span><span class="p">:</span> <span class="n">configurableOptions</span><span class="p">,</span> <span class="nv">customOptions</span><span class="p">:</span> <span class="p">[])</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight java tab-java"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Checkout</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="kd">implements</span> <span class="n">CheckoutInterface</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"your_api_key"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">ENVIRONMENT</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span><span class="o">;</span>

    <span class="n">String</span> <span class="n">addressId</span><span class="o">;</span>
    <span class="n">String</span> <span class="n">cartId</span><span class="o">;</span>
    <span class="n">String</span> <span class="n">merchantId</span><span class="o">;</span>
    <span class="n">RezolveLocation</span> <span class="n">rezolveLocation</span><span class="o">;</span>
    <span class="n">PaymentRequest</span> <span class="n">paymentRequest</span><span class="o">;</span>
    <span class="n">CheckoutInterface</span> <span class="n">checkoutInterface</span><span class="o">;</span>
    <span class="n">String</span> <span class="n">phonebookId</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
        <span class="n">CheckoutManager</span> <span class="n">myCheckoutManager</span> <span class="o">=</span> <span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span>
        <span class="n">ENVIRONMENT</span><span class="o">).</span><span class="na">getRezolveSession</span><span class="o">().</span><span class="na">getCheckoutManager</span><span class="o">();</span>


        <span class="c1">// buy cart; returns an order id</span>
        <span class="n">myCheckoutManager</span><span class="o">.</span><span class="na">buyCart</span><span class="o">(</span><span class="n">merchantId</span><span class="o">,</span> <span class="n">cartId</span><span class="o">,</span> <span class="n">addressId</span><span class="o">,</span> <span class="n">phonebookId</span><span class="o">,</span>
        <span class="n">rezolveLocation</span><span class="o">,</span> <span class="n">paymentRequest</span><span class="o">,</span> <span class="n">checkoutInterface</span><span class="o">);</span>

    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCartOrderPlaced</span><span class="o">(</span><span class="n">String</span> <span class="n">s</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">String</span> <span class="n">orderId</span> <span class="o">=</span> <span class="n">s</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onFailure</span><span class="o">(</span><span class="n">HttpResponse</span> <span class="n">httpResponse</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// handle error</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>BuyCart sends payment information to the backend to purchase the contents of a cart. </p>

<p>If this method returns successfully, it will automatically call <code>signOrderUpdate</code> and start listening on a socket for the server to return an order status. </p>

<p>Method signature: <code>session.CheckoutManager.buyCart( MerchantId, CartId, AddressId, 
        RezolveLocation, PaymentRequest, [callback or interface] )</code></p>

<p>You must pass in strings MerchantId, CartId, AddressId, a RezolveLocation object, a PaymentRequest object, and a CheckoutInterface (or callback).</p>

<p>The method returns an <code>OrderId</code> string.</p>
<h4 id='rezolvelocation-object'>RezolveLocation object</h4>
<table><thead>
<tr>
<th>field</th>
<th>format</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td>latitude</td>
<td>double</td>
<td>38.9072</td>
</tr>
<tr>
<td>longitude</td>
<td>double</td>
<td>-77.0369</td>
</tr>
</tbody></table>
<h4 id='paymentrequest-object'>PaymentRequest object</h4>
<table><thead>
<tr>
<th>field</th>
<th>format</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td>PaymentCard</td>
<td>object</td>
<td>(see <a href="#module-walletmanager">WalletManager</a>)</td>
</tr>
<tr>
<td>CVV</td>
<td>string</td>
<td>345</td>
</tr>
</tbody></table>
<h3 id='method-buyproduct'>Method: buyProduct</h3><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">UIKit</span>
<span class="kd">import</span> <span class="kt">RezolveSDK</span>

<span class="k">let</span> <span class="nv">MERCHANT_ID</span> <span class="o">=</span> <span class="s">"..."</span>
<span class="k">let</span> <span class="nv">CATEGORY_ID</span> <span class="o">=</span> <span class="kt">Int32</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">PRODUCT_ID</span> <span class="o">=</span> <span class="s">"..."</span>

<span class="kd">class</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>

        <span class="k">let</span> <span class="nv">sdk</span><span class="p">:</span> <span class="kt">RezolveSDK</span> <span class="o">=</span> <span class="kt">RezolveSDK</span><span class="p">(</span><span class="nv">apiKey</span><span class="p">:</span> <span class="kt">API_KEY</span><span class="p">,</span> <span class="nv">env</span><span class="p">:</span> <span class="kt">SDK_ENV</span><span class="p">)</span>

        <span class="k">let</span> <span class="nv">signUpRequest</span> <span class="o">=</span> <span class="nf">createSingUpRequest</span><span class="p">()</span>

        <span class="n">sdk</span><span class="o">.</span><span class="nf">registerUser</span><span class="p">(</span><span class="nv">request</span><span class="p">:</span> <span class="n">signUpRequest</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="nv">partnerId</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">entityId</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="k">in</span>

            <span class="n">sdk</span><span class="o">.</span><span class="nf">createSession</span><span class="p">(</span><span class="nv">entityId</span><span class="p">:</span> <span class="n">entityId</span><span class="p">,</span> <span class="nv">partnerId</span><span class="p">:</span> <span class="n">partnerId</span><span class="p">,</span> <span class="nv">device</span><span class="p">:</span> <span class="n">signUpRequest</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">session</span><span class="p">:</span> <span class="kt">RezolveSession</span><span class="p">)</span> <span class="k">in</span>

                <span class="k">let</span> <span class="nv">address</span><span class="p">:</span> <span class="kt">Address</span> <span class="o">=</span> <span class="nf">createAddress</span><span class="p">()</span>

                <span class="n">session</span><span class="o">.</span><span class="n">addressbookManager</span><span class="o">.</span><span class="nf">create</span><span class="p">(</span><span class="nv">address</span><span class="p">:</span> <span class="n">address</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="nv">remoteAddress</span><span class="p">:</span> <span class="kt">Address</span><span class="p">)</span> <span class="k">in</span>

                    <span class="k">let</span> <span class="nv">card</span><span class="p">:</span> <span class="kt">PaymentCard</span> <span class="o">=</span> <span class="nf">createPaymentCard</span><span class="p">(</span><span class="nv">addressId</span><span class="p">:</span> <span class="n">remoteAddress</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>

                    <span class="n">session</span><span class="o">.</span><span class="n">walletManager</span><span class="o">.</span><span class="nf">create</span><span class="p">(</span><span class="nv">paymentCard</span><span class="p">:</span> <span class="n">card</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">remoteCard</span><span class="p">:</span> <span class="kt">PaymentCard</span><span class="p">)</span> <span class="k">in</span>

                        <span class="k">let</span> <span class="nv">checkoutProduct</span> <span class="o">=</span> <span class="nf">createCheckoutProductWithVariant</span><span class="p">(</span><span class="nv">product</span><span class="p">:</span> <span class="n">remoteProduct</span><span class="p">)</span>
                        <span class="k">let</span> <span class="nv">paymentRequest</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">checkoutManager</span><span class="o">.</span><span class="nf">createPaymentRequest</span><span class="p">(</span><span class="nv">paymentCard</span><span class="p">:</span> <span class="n">remoteCard</span><span class="p">,</span> <span class="nv">cvv</span><span class="p">:</span> <span class="kt">CVV</span><span class="p">)</span>

                        <span class="n">session</span><span class="o">.</span><span class="n">checkoutManager</span><span class="o">.</span><span class="nf">buyProduct</span><span class="p">(</span><span class="nv">merchantId</span><span class="p">:</span> <span class="kt">MERCHANT_ID</span><span class="p">,</span> <span class="nv">checkoutProduct</span><span class="p">:</span> <span class="n">checkoutProduct</span><span class="p">,</span> <span class="nv">address</span><span class="p">:</span> <span class="n">remoteAddress</span><span class="p">,</span> <span class="nv">paymentRequest</span><span class="p">:</span> <span class="n">paymentRequest</span><span class="p">,</span> <span class="nv">location</span><span class="p">:</span> <span class="kt">DEFAULT_LOCATIONS</span><span class="p">,</span> <span class="nv">phone</span><span class="p">:</span> <span class="n">phone</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">order</span><span class="p">:</span> <span class="kt">CheckoutOrder</span><span class="p">)</span> <span class="k">in</span>



                        <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>
                    <span class="p">})</span>
                <span class="p">}</span>

            <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>
        <span class="p">})</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">createCheckoutProductWithVariant</span><span class="p">(</span><span class="nv">product</span><span class="p">:</span> <span class="kt">Product</span><span class="p">,</span> <span class="nv">qty</span><span class="p">:</span> <span class="kt">Decimal</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">CheckoutProduct</span> <span class="p">{</span>

        <span class="k">let</span> <span class="nv">configurableOptions</span> <span class="o">=</span> <span class="p">(</span><span class="n">product</span><span class="o">.</span><span class="n">optionAvailable</span><span class="o">.</span><span class="n">first</span><span class="p">?</span><span class="o">.</span><span class="n">combination</span><span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="nv">$0</span><span class="o">.</span><span class="nf">configurableOption</span><span class="p">()</span> <span class="p">})</span><span class="o">!</span>

        <span class="k">return</span> <span class="kt">CheckoutProduct</span><span class="p">(</span><span class="nv">id</span><span class="p">:</span> <span class="n">product</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="nv">qty</span><span class="p">:</span> <span class="n">qty</span><span class="p">,</span> <span class="nv">configurableOptions</span><span class="p">:</span> <span class="n">configurableOptions</span><span class="p">,</span> <span class="nv">customOptions</span><span class="p">:</span> <span class="p">[])</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight java tab-java"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Checkout</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="kd">implements</span> <span class="n">CheckoutInterface</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"your_api_key"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">ENVIRONMENT</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span><span class="o">;</span>

    <span class="n">String</span> <span class="n">addressId</span><span class="o">;</span>
    <span class="n">String</span> <span class="n">merchantId</span><span class="o">;</span>
    <span class="n">RezolveLocation</span> <span class="n">rezolveLocation</span><span class="o">;</span>
    <span class="n">PaymentRequest</span> <span class="n">paymentRequest</span><span class="o">;</span>
    <span class="n">CheckoutInterface</span> <span class="n">checkoutInterface</span><span class="o">;</span>
    <span class="n">CheckoutProduct</span> <span class="n">checkoutProduct</span><span class="o">;</span>
    <span class="n">String</span> <span class="n">phonebookId</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
        <span class="n">CheckoutManager</span> <span class="n">myCheckoutManager</span> <span class="o">=</span> <span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span>
        <span class="n">ENVIRONMENT</span><span class="o">).</span><span class="na">getRezolveSession</span><span class="o">().</span><span class="na">getCheckoutManager</span><span class="o">();</span>

        <span class="c1">// buy product directly, bypassing cart; returns an order id</span>
        <span class="n">myCheckoutManager</span><span class="o">.</span><span class="na">buyProduct</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">merchantId</span><span class="o">,</span> <span class="n">checkoutProduct</span><span class="o">,</span> <span class="n">addressId</span><span class="o">,</span> <span class="n">phonebookId</span><span class="o">,</span>
        <span class="n">rezolveLocation</span><span class="o">,</span> <span class="n">paymentRequest</span><span class="o">,</span> <span class="n">checkoutInterface</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onProductOrderPlaced</span><span class="o">(</span><span class="n">String</span> <span class="n">s</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">String</span> <span class="n">orderId</span> <span class="o">=</span> <span class="n">s</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onFailure</span><span class="o">(</span><span class="n">HttpResponse</span> <span class="n">httpResponse</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// handle error</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre>
<p>BuyProduct purchases a product directly, bypassing the cart.</p>

<p>If this method returns successfully, it will automatically call <code>signOrderUpdate</code> and start listening on a socket for the server to return an order status.</p>

<p>IOS Method signature: <code>session.buyProduct( MerchantId, CheckoutProduct, AddressId, 
        RezolveLocation, PaymentRequest, [callback or interface] )</code></p>

<p>Android Method signature: <code>session.buyProduct( Context, MerchantId, CheckoutProduct, AddressId, 
        RezolveLocation, PaymentRequest, [callback or interface] )</code></p>

<p>You must pass in MerchantId and AddressId as strings, a CheckoutProduct Object, a RezolveLocation object, a PaymentRequest object, and a CheckoutInterface (or callback). </p>

<p>The method returns an <code>OrderId</code> string.</p>
<h3 id='method-checkoutcart'>Method: checkoutCart</h3><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">UIKit</span>
<span class="kd">import</span> <span class="kt">RezolveSDK</span>

<span class="k">let</span> <span class="nv">MERCHANT_ID</span> <span class="o">=</span> <span class="s">"..."</span>
<span class="k">let</span> <span class="nv">CATEGORY_ID</span> <span class="o">=</span> <span class="kt">Int32</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">PRODUCT_ID</span> <span class="o">=</span> <span class="s">"..."</span>

<span class="kd">class</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>

        <span class="k">let</span> <span class="nv">sdk</span><span class="p">:</span> <span class="kt">RezolveSDK</span> <span class="o">=</span> <span class="kt">RezolveSDK</span><span class="p">(</span><span class="nv">apiKey</span><span class="p">:</span> <span class="kt">API_KEY</span><span class="p">,</span> <span class="nv">env</span><span class="p">:</span> <span class="kt">SDK_ENV</span><span class="p">)</span>

        <span class="k">let</span> <span class="nv">signUpRequest</span> <span class="o">=</span> <span class="nf">createSingUpRequest</span><span class="p">()</span>

        <span class="n">sdk</span><span class="o">.</span><span class="nf">registerUser</span><span class="p">(</span><span class="nv">request</span><span class="p">:</span> <span class="n">signUpRequest</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="nv">partnerId</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">entityId</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="k">in</span>

            <span class="n">sdk</span><span class="o">.</span><span class="nf">createSession</span><span class="p">(</span><span class="nv">entityId</span><span class="p">:</span> <span class="n">entityId</span><span class="p">,</span> <span class="nv">partnerId</span><span class="p">:</span> <span class="n">partnerId</span><span class="p">,</span> <span class="nv">device</span><span class="p">:</span> <span class="n">signUpRequest</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">session</span><span class="p">:</span> <span class="kt">RezolveSession</span><span class="p">)</span> <span class="k">in</span>

                <span class="k">let</span> <span class="nv">address</span><span class="p">:</span> <span class="kt">Address</span> <span class="o">=</span> <span class="nf">createAddress</span><span class="p">()</span>

                <span class="n">session</span><span class="o">.</span><span class="n">addressbookManager</span><span class="o">.</span><span class="nf">create</span><span class="p">(</span><span class="nv">address</span><span class="p">:</span> <span class="n">address</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="nv">remoteAddress</span><span class="p">:</span> <span class="kt">Address</span><span class="p">)</span> <span class="k">in</span>

                    <span class="k">let</span> <span class="nv">card</span><span class="p">:</span> <span class="kt">PaymentCard</span> <span class="o">=</span> <span class="nf">createPaymentCard</span><span class="p">(</span><span class="nv">addressId</span><span class="p">:</span> <span class="n">remoteAddress</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>

                    <span class="n">session</span><span class="o">.</span><span class="n">walletManager</span><span class="o">.</span><span class="nf">create</span><span class="p">(</span><span class="nv">paymentCard</span><span class="p">:</span> <span class="n">card</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">remoteCard</span><span class="p">:</span> <span class="kt">PaymentCard</span><span class="p">)</span> <span class="k">in</span>

                        <span class="k">let</span> <span class="nv">checkoutProduct</span> <span class="o">=</span> <span class="nf">createCheckoutProductWithVariant</span><span class="p">(</span><span class="nv">product</span><span class="p">:</span> <span class="n">remoteProduct</span><span class="p">)</span>

                        <span class="n">session</span><span class="o">.</span><span class="n">cartManager</span><span class="o">.</span><span class="nf">createCartWithProduct</span><span class="p">(</span><span class="nv">merchantId</span><span class="p">:</span> <span class="kt">MERCHANT_ID</span><span class="p">,</span> <span class="nv">product</span><span class="p">:</span> <span class="n">checkoutProduct</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="n">cartDetails</span> <span class="k">in</span>

                            <span class="n">session</span><span class="o">.</span><span class="n">checkoutManager</span><span class="o">.</span><span class="nf">checkoutCart</span><span class="p">(</span><span class="nv">cart</span><span class="p">:</span> <span class="n">cartDetails</span><span class="p">,</span> <span class="nv">address</span><span class="p">:</span> <span class="n">remoteAddress</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="n">order</span> <span class="k">in</span>


                            <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>

                        <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>

                    <span class="p">},</span> <span class="nv">validationErrorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>
                <span class="p">}</span>

            <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>
        <span class="p">})</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">createCheckoutProductWithVariant</span><span class="p">(</span><span class="nv">product</span><span class="p">:</span> <span class="kt">Product</span><span class="p">,</span> <span class="nv">qty</span><span class="p">:</span> <span class="kt">Decimal</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">CheckoutProduct</span> <span class="p">{</span>

        <span class="k">let</span> <span class="nv">configurableOptions</span> <span class="o">=</span> <span class="p">(</span><span class="n">product</span><span class="o">.</span><span class="n">optionAvailable</span><span class="o">.</span><span class="n">first</span><span class="p">?</span><span class="o">.</span><span class="n">combination</span><span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="nv">$0</span><span class="o">.</span><span class="nf">configurableOption</span><span class="p">()</span> <span class="p">})</span><span class="o">!</span>

        <span class="k">return</span> <span class="kt">CheckoutProduct</span><span class="p">(</span><span class="nv">id</span><span class="p">:</span> <span class="n">product</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="nv">qty</span><span class="p">:</span> <span class="n">qty</span><span class="p">,</span> <span class="nv">configurableOptions</span><span class="p">:</span> <span class="n">configurableOptions</span><span class="p">,</span> <span class="nv">customOptions</span><span class="p">:</span> <span class="p">[])</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight java tab-java"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Checkout</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="kd">implements</span> <span class="n">CheckoutInterface</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"your_api_key"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">ENVIRONMENT</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span><span class="o">;</span>

    <span class="n">String</span> <span class="n">addressId</span><span class="o">;</span>
    <span class="n">String</span> <span class="n">cartId</span><span class="o">;</span>
    <span class="n">String</span> <span class="n">merchantId</span><span class="o">;</span>
    <span class="n">CheckoutInterface</span> <span class="n">checkoutInterface</span><span class="o">;</span>


    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
        <span class="n">CheckoutManager</span> <span class="n">myCheckoutManager</span> <span class="o">=</span> <span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span>
        <span class="n">ENVIRONMENT</span><span class="o">).</span><span class="na">getRezolveSession</span><span class="o">().</span><span class="na">getCheckoutManager</span><span class="o">();</span>

        <span class="c1">// checkout cart: returns an Order object with price breakdown</span>
        <span class="n">myCheckoutManager</span><span class="o">.</span><span class="na">checkoutCart</span><span class="o">(</span><span class="n">cartId</span><span class="o">,</span><span class="n">merchantId</span><span class="o">,</span> <span class="n">addressId</span><span class="o">,</span> <span class="n">checkoutInterface</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCheckoutCartSuccess</span><span class="o">(</span><span class="n">Order</span> <span class="n">order</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// get properties of order array</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">PriceBreakdown</span><span class="o">&gt;</span> <span class="n">breakdowns</span> <span class="o">=</span> <span class="n">order</span><span class="o">.</span><span class="na">getBreakdowns</span><span class="o">();</span>
        <span class="kt">float</span> <span class="n">finalPrice</span> <span class="o">=</span> <span class="n">order</span><span class="o">.</span><span class="na">getFinalPrice</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">orderId</span> <span class="o">=</span> <span class="n">order</span><span class="o">.</span><span class="na">getOrderId</span><span class="o">();</span>

        <span class="c1">// get properties of PriceBreakdown array</span>
        <span class="k">for</span> <span class="o">(</span><span class="n">PriceBreakdown</span> <span class="n">priceBreakdown</span> <span class="o">:</span> <span class="n">breakdowns</span><span class="o">)</span> <span class="o">{</span>
            <span class="kt">float</span> <span class="n">breakdownAmount</span> <span class="o">=</span> <span class="n">priceBreakdown</span><span class="o">.</span><span class="na">getAmount</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">breakdownType</span> <span class="o">=</span> <span class="n">priceBreakdown</span><span class="o">.</span><span class="na">getType</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onFailure</span><span class="o">(</span><span class="n">HttpResponse</span> <span class="n">httpResponse</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// handle error</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre>
<p>CheckoutCart requests updated pricing, including shipping and tax, based on the contents of the cart.</p>

<p>Method signature: <code>session.CheckoutManager.checkoutCart( CartId, MerchantId, AddressId, [callback or interface] )</code></p>

<p>You must pass in CartId, MerchantId, and AddressId as strings, and a CheckoutInterface (or callback).</p>

<p>The method returns an <code>Order</code> object with PriceBreakdown information.</p>
<h4 id='order-object'>Order object</h4>
<table><thead>
<tr>
<th>field</th>
<th>format</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td>breakdowns</td>
<td>array of PriceBreakdown objects</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>finalPrice</td>
<td>float</td>
<td>19.95</td>
</tr>
<tr>
<td>orderId</td>
<td>string</td>
<td>abc123</td>
</tr>
</tbody></table>
<h4 id='pricebreakdown-object'>PriceBreakdown object</h4>
<table><thead>
<tr>
<th>field</th>
<th>format</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td>breakdownAmount</td>
<td>float</td>
<td>14.95</td>
</tr>
<tr>
<td>breakdownType</td>
<td>string enum, one of (MAIN, UNIT, SHIPPING, OPTION_VARIANT, TAX, or DISCOUNT)</td>
<td>TAX</td>
</tr>
</tbody></table>
<h3 id='method-checkoutproduct'>Method: checkoutProduct</h3><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">UIKit</span>
<span class="kd">import</span> <span class="kt">RezolveSDK</span>

<span class="k">let</span> <span class="nv">MERCHANT_ID</span> <span class="o">=</span> <span class="s">"..."</span>
<span class="k">let</span> <span class="nv">CATEGORY_ID</span> <span class="o">=</span> <span class="kt">Int32</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">PRODUCT_ID</span> <span class="o">=</span> <span class="s">"..."</span>

<span class="kd">class</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>

        <span class="k">let</span> <span class="nv">sdk</span><span class="p">:</span> <span class="kt">RezolveSDK</span> <span class="o">=</span> <span class="kt">RezolveSDK</span><span class="p">(</span><span class="nv">apiKey</span><span class="p">:</span> <span class="kt">API_KEY</span><span class="p">,</span> <span class="nv">env</span><span class="p">:</span> <span class="kt">SDK_ENV</span><span class="p">)</span>

        <span class="k">let</span> <span class="nv">signUpRequest</span> <span class="o">=</span> <span class="nf">createSingUpRequest</span><span class="p">()</span>

        <span class="n">sdk</span><span class="o">.</span><span class="nf">registerUser</span><span class="p">(</span><span class="nv">request</span><span class="p">:</span> <span class="n">signUpRequest</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="nv">partnerId</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">entityId</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="k">in</span>

            <span class="n">sdk</span><span class="o">.</span><span class="nf">createSession</span><span class="p">(</span><span class="nv">entityId</span><span class="p">:</span> <span class="n">entityId</span><span class="p">,</span> <span class="nv">partnerId</span><span class="p">:</span> <span class="n">partnerId</span><span class="p">,</span> <span class="nv">device</span><span class="p">:</span> <span class="n">signUpRequest</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">session</span><span class="p">:</span> <span class="kt">RezolveSession</span><span class="p">)</span> <span class="k">in</span>

                <span class="k">let</span> <span class="nv">address</span><span class="p">:</span> <span class="kt">Address</span> <span class="o">=</span> <span class="nf">createAddress</span><span class="p">()</span>

                <span class="n">session</span><span class="o">.</span><span class="n">addressbookManager</span><span class="o">.</span><span class="nf">create</span><span class="p">(</span><span class="nv">address</span><span class="p">:</span> <span class="n">address</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="nv">remoteAddress</span><span class="p">:</span> <span class="kt">Address</span><span class="p">)</span> <span class="k">in</span>

                    <span class="k">let</span> <span class="nv">card</span><span class="p">:</span> <span class="kt">PaymentCard</span> <span class="o">=</span> <span class="nf">createPaymentCard</span><span class="p">(</span><span class="nv">addressId</span><span class="p">:</span> <span class="n">remoteAddress</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>

                    <span class="n">session</span><span class="o">.</span><span class="n">walletManager</span><span class="o">.</span><span class="nf">create</span><span class="p">(</span><span class="nv">paymentCard</span><span class="p">:</span> <span class="n">card</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">remoteCard</span><span class="p">:</span> <span class="kt">PaymentCard</span><span class="p">)</span> <span class="k">in</span>

                        <span class="k">let</span> <span class="nv">checkoutProduct</span> <span class="o">=</span> <span class="nf">createCheckoutProductWithVariant</span><span class="p">(</span><span class="nv">product</span><span class="p">:</span> <span class="n">remoteProduct</span><span class="p">)</span>

                        <span class="n">session</span><span class="o">.</span><span class="n">checkoutManager</span><span class="o">.</span><span class="nf">checkoutProduct</span><span class="p">(</span><span class="nv">merchantId</span><span class="p">:</span> <span class="kt">MERCHANT_ID</span><span class="p">,</span> <span class="nv">checkoutProduct</span><span class="p">:</span> <span class="n">checkoutProduct</span><span class="p">,</span> <span class="nv">address</span><span class="p">:</span> <span class="n">remoteAddress</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">order</span><span class="p">:</span> <span class="kt">CheckoutOrder</span><span class="p">)</span> <span class="k">in</span>


                        <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>

                    <span class="p">},</span> <span class="nv">validationErrorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>
                <span class="p">}</span>

            <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>
        <span class="p">})</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">createCheckoutProductWithVariant</span><span class="p">(</span><span class="nv">product</span><span class="p">:</span> <span class="kt">Product</span><span class="p">,</span> <span class="nv">qty</span><span class="p">:</span> <span class="kt">Decimal</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">CheckoutProduct</span> <span class="p">{</span>

        <span class="k">let</span> <span class="nv">configurableOptions</span> <span class="o">=</span> <span class="p">(</span><span class="n">product</span><span class="o">.</span><span class="n">optionAvailable</span><span class="o">.</span><span class="n">first</span><span class="p">?</span><span class="o">.</span><span class="n">combination</span><span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="nv">$0</span><span class="o">.</span><span class="nf">configurableOption</span><span class="p">()</span> <span class="p">})</span><span class="o">!</span>

        <span class="k">return</span> <span class="kt">CheckoutProduct</span><span class="p">(</span><span class="nv">id</span><span class="p">:</span> <span class="n">product</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="nv">qty</span><span class="p">:</span> <span class="n">qty</span><span class="p">,</span> <span class="nv">configurableOptions</span><span class="p">:</span> <span class="n">configurableOptions</span><span class="p">,</span> <span class="nv">customOptions</span><span class="p">:</span> <span class="p">[])</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight java tab-java"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Checkout</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="kd">implements</span> <span class="n">CheckoutInterface</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"your_api_key"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">ENVIRONMENT</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span><span class="o">;</span>

    <span class="n">String</span> <span class="n">addressId</span><span class="o">;</span>
    <span class="n">String</span> <span class="n">merchantId</span><span class="o">;</span>
    <span class="n">CheckoutProduct</span> <span class="n">checkoutProduct</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
        <span class="n">CheckoutManager</span> <span class="n">myCheckoutManager</span> <span class="o">=</span> <span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span>
        <span class="n">ENVIRONMENT</span><span class="o">).</span><span class="na">getRezolveSession</span><span class="o">().</span><span class="na">getCheckoutManager</span><span class="o">();</span>

        <span class="c1">// checkout product; returns an Order object with price breakdown</span>
        <span class="n">myCheckoutManager</span><span class="o">.</span><span class="na">checkoutProduct</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">merchantId</span><span class="o">,</span> <span class="n">checkoutProduct</span><span class="o">,</span> 
        <span class="n">addressId</span><span class="o">,</span> <span class="n">checkoutInterface</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCheckoutProductSuccess</span><span class="o">(</span><span class="n">Order</span> <span class="n">order</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// get properties of order array</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">PriceBreakdown</span><span class="o">&gt;</span> <span class="n">breakdowns</span> <span class="o">=</span> <span class="n">order</span><span class="o">.</span><span class="na">getBreakdowns</span><span class="o">();</span>
        <span class="kt">float</span> <span class="n">finalPrice</span> <span class="o">=</span> <span class="n">order</span><span class="o">.</span><span class="na">getFinalPrice</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">orderId</span> <span class="o">=</span> <span class="n">order</span><span class="o">.</span><span class="na">getOrderId</span><span class="o">();</span>

        <span class="c1">// get properties of PriceBreakdown array</span>
        <span class="k">for</span> <span class="o">(</span><span class="n">PriceBreakdown</span> <span class="n">priceBreakdown</span> <span class="o">:</span> <span class="n">breakdowns</span><span class="o">)</span> <span class="o">{</span>
            <span class="kt">float</span> <span class="n">breakdownAmount</span> <span class="o">=</span> <span class="n">priceBreakdown</span><span class="o">.</span><span class="na">getAmount</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">breakdownType</span> <span class="o">=</span> <span class="n">priceBreakdown</span><span class="o">.</span><span class="na">getType</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onFailure</span><span class="o">(</span><span class="n">HttpResponse</span> <span class="n">httpResponse</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// handle error</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>CheckoutProduct requests pricing, including shipping and tax, for a single product.</p>

<p>IOS Method signature: <code>session.CheckoutManager.checkoutProduct( MerchantId, CheckoutProduct, AddressId,  [callback or interface] )</code></p>

<p>Android Method signature: <code>session.CheckoutManager.checkoutProduct( Context, MerchantId, CheckoutProduct, AddressId,  [callback or interface] )</code></p>

<p>You must pass in a MerchantId string, a CheckoutProduct object, an AddressId string, and a CheckoutInterface (or callback).</p>

<p>The method returns an <code>Order</code> object with PriceBreakdown information.</p>
<h3 id='method-createpaymentrequest'>Method: createPaymentRequest</h3><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">UIKit</span>
<span class="kd">import</span> <span class="kt">RezolveSDK</span>

<span class="k">let</span> <span class="nv">MERCHANT_ID</span> <span class="o">=</span> <span class="s">"..."</span>
<span class="k">let</span> <span class="nv">CATEGORY_ID</span> <span class="o">=</span> <span class="kt">Int32</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">PRODUCT_ID</span> <span class="o">=</span> <span class="s">"..."</span>

<span class="kd">class</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>

        <span class="k">let</span> <span class="nv">sdk</span><span class="p">:</span> <span class="kt">RezolveSDK</span> <span class="o">=</span> <span class="kt">RezolveSDK</span><span class="p">(</span><span class="nv">apiKey</span><span class="p">:</span> <span class="kt">API_KEY</span><span class="p">,</span> <span class="nv">env</span><span class="p">:</span> <span class="kt">SDK_ENV</span><span class="p">)</span>

        <span class="k">let</span> <span class="nv">signUpRequest</span> <span class="o">=</span> <span class="nf">createSingUpRequest</span><span class="p">()</span>

        <span class="n">sdk</span><span class="o">.</span><span class="nf">registerUser</span><span class="p">(</span><span class="nv">request</span><span class="p">:</span> <span class="n">signUpRequest</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="nv">partnerId</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">entityId</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="k">in</span>

            <span class="n">sdk</span><span class="o">.</span><span class="nf">createSession</span><span class="p">(</span><span class="nv">entityId</span><span class="p">:</span> <span class="n">entityId</span><span class="p">,</span> <span class="nv">partnerId</span><span class="p">:</span> <span class="n">partnerId</span><span class="p">,</span> <span class="nv">device</span><span class="p">:</span> <span class="n">signUpRequest</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">session</span><span class="p">:</span> <span class="kt">RezolveSession</span><span class="p">)</span> <span class="k">in</span>

              <span class="k">let</span> <span class="nv">address</span><span class="p">:</span> <span class="kt">Address</span> <span class="o">=</span> <span class="nf">createAddress</span><span class="p">()</span>

              <span class="n">session</span><span class="o">.</span><span class="n">addressbookManager</span><span class="o">.</span><span class="nf">create</span><span class="p">(</span><span class="nv">address</span><span class="p">:</span> <span class="n">address</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="nv">remoteAddress</span><span class="p">:</span> <span class="kt">Address</span><span class="p">)</span> <span class="k">in</span>

                  <span class="k">let</span> <span class="nv">card</span><span class="p">:</span> <span class="kt">PaymentCard</span> <span class="o">=</span> <span class="nf">createPaymentCard</span><span class="p">(</span><span class="nv">addressId</span><span class="p">:</span> <span class="n">remoteAddress</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>

                  <span class="n">session</span><span class="o">.</span><span class="n">walletManager</span><span class="o">.</span><span class="nf">create</span><span class="p">(</span><span class="nv">paymentCard</span><span class="p">:</span> <span class="n">card</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">remoteCard</span><span class="p">:</span> <span class="kt">PaymentCard</span><span class="p">)</span> <span class="k">in</span>

                      <span class="k">let</span> <span class="nv">checkoutProduct</span> <span class="o">=</span> <span class="nf">createCheckoutProductWithVariant</span><span class="p">(</span><span class="nv">product</span><span class="p">:</span> <span class="n">remoteProduct</span><span class="p">)</span>
                      <span class="k">let</span> <span class="nv">paymentRequest</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">checkoutManager</span><span class="o">.</span><span class="nf">createPaymentRequest</span><span class="p">(</span><span class="nv">paymentCard</span><span class="p">:</span> <span class="n">remoteCard</span><span class="p">,</span> <span class="nv">cvv</span><span class="p">:</span> <span class="kt">CVV</span><span class="p">)</span>

                  <span class="p">},</span> <span class="nv">validationErrorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>
              <span class="p">}</span>

            <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>
        <span class="p">})</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight java tab-java"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Checkout</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="kd">implements</span> <span class="n">CheckoutInterface</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"your_api_key"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">ENVIRONMENT</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span><span class="o">;</span>

    <span class="n">String</span> <span class="n">addressId</span><span class="o">;</span>
    <span class="n">String</span> <span class="n">cartId</span><span class="o">;</span>
    <span class="n">String</span> <span class="n">cvv</span><span class="o">;</span>
    <span class="n">String</span> <span class="n">merchantId</span><span class="o">;</span>
    <span class="n">String</span> <span class="n">orderId</span><span class="o">;</span>
    <span class="n">RezolveLocation</span> <span class="n">rezolveLocation</span><span class="o">;</span>
    <span class="n">PaymentRequest</span> <span class="n">paymentRequest</span><span class="o">;</span>
    <span class="n">CheckoutInterface</span> <span class="n">checkoutInterface</span><span class="o">;</span>
    <span class="n">CheckoutProduct</span> <span class="n">checkoutProduct</span><span class="o">;</span>
    <span class="n">CheckoutProduct</span> <span class="n">checkoutProduct2</span><span class="o">;</span>
    <span class="n">PaymentCard</span> <span class="n">paymentCard</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
        <span class="n">CheckoutManager</span> <span class="n">myCheckoutManager</span> <span class="o">=</span> <span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span>
        <span class="n">ENVIRONMENT</span><span class="o">).</span><span class="na">getRezolveSession</span><span class="o">().</span><span class="na">getCheckoutManager</span><span class="o">();</span>

        <span class="c1">// create a payment request prior to buying product or cart</span>
        <span class="n">myCheckoutManager</span><span class="o">.</span><span class="na">createPaymentRequest</span><span class="o">(</span><span class="n">paymentCard</span><span class="o">,</span> <span class="n">cvv</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>CreatePaymentRequest is a utility method that creates a PaymentRequest object.</p>

<p>Method signature: <code>session.CheckoutManager.createPaymentRequest( PaymentCard, CVV, [callback or interface] )</code></p>

<p>You must pass in a <code>PaymentCard</code> object, and a <code>CVV</code> as a string.</p>

<p>The method returns an <code>PaymentRequest</code> object.</p>
<h3 id='method-getcartbyid'>Method: getCartById</h3><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">UIKit</span>
<span class="kd">import</span> <span class="kt">RezolveSDK</span>

<span class="k">let</span> <span class="nv">MERCHANT_ID</span> <span class="o">=</span> <span class="s">"..."</span>
<span class="k">let</span> <span class="nv">CATEGORY_ID</span> <span class="o">=</span> <span class="kt">Int32</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">PRODUCT_ID</span> <span class="o">=</span> <span class="s">"..."</span>

<span class="kd">class</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>

        <span class="k">let</span> <span class="nv">sdk</span><span class="p">:</span> <span class="kt">RezolveSDK</span> <span class="o">=</span> <span class="kt">RezolveSDK</span><span class="p">(</span><span class="nv">apiKey</span><span class="p">:</span> <span class="kt">API_KEY</span><span class="p">,</span> <span class="nv">env</span><span class="p">:</span> <span class="kt">SDK_ENV</span><span class="p">)</span>

        <span class="k">let</span> <span class="nv">signUpRequest</span> <span class="o">=</span> <span class="nf">createSingUpRequest</span><span class="p">()</span>

        <span class="n">sdk</span><span class="o">.</span><span class="nf">registerUser</span><span class="p">(</span><span class="nv">request</span><span class="p">:</span> <span class="n">signUpRequest</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="nv">partnerId</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">entityId</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="k">in</span>

            <span class="n">sdk</span><span class="o">.</span><span class="nf">createSession</span><span class="p">(</span><span class="nv">entityId</span><span class="p">:</span> <span class="n">entityId</span><span class="p">,</span> <span class="nv">partnerId</span><span class="p">:</span> <span class="n">partnerId</span><span class="p">,</span> <span class="nv">device</span><span class="p">:</span> <span class="n">signUpRequest</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">session</span><span class="p">:</span> <span class="kt">RezolveSession</span><span class="p">)</span> <span class="k">in</span>

              <span class="n">session</span><span class="o">.</span><span class="n">cartManager</span><span class="o">.</span><span class="nf">getCart</span><span class="p">(</span><span class="nv">merchantId</span><span class="p">:</span> <span class="kt">MERCHANT_ID</span><span class="p">,</span> <span class="nv">id</span><span class="p">:</span> <span class="n">cartDetails</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="n">remoteCart</span> <span class="k">in</span>


              <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>

            <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>
        <span class="p">})</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight java tab-java"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Checkout</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="kd">implements</span> <span class="n">CheckoutInterface</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"your_api_key"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">ENVIRONMENT</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span><span class="o">;</span>

    <span class="n">String</span> <span class="n">cartId</span><span class="o">;</span>
    <span class="n">String</span> <span class="n">merchantId</span><span class="o">;</span>
    <span class="n">CheckoutInterface</span> <span class="n">checkoutInterface</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
        <span class="n">CheckoutManager</span> <span class="n">myCheckoutManager</span> <span class="o">=</span> <span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span>
        <span class="n">ENVIRONMENT</span><span class="o">).</span><span class="na">getRezolveSession</span><span class="o">().</span><span class="na">getCheckoutManager</span><span class="o">();</span>

        <span class="c1">// get cart by id: returns a CartDetails object</span>
        <span class="n">myCheckoutManager</span><span class="o">.</span><span class="na">getCartById</span><span class="o">(</span><span class="n">cartId</span><span class="o">,</span> <span class="n">merchantId</span><span class="o">,</span> <span class="n">checkoutInterface</span><span class="o">);</span>
    <span class="o">}</span>


    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onGetCartByIdSuccess</span><span class="o">(</span><span class="n">CartDetails</span> <span class="n">cartDetails</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// get properties of cartDetails array</span>
        <span class="n">String</span> <span class="n">cartDateCreated</span> <span class="o">=</span> <span class="n">cartDetails</span><span class="o">.</span><span class="na">getDateCreated</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">cartDateUpdated</span> <span class="o">=</span> <span class="n">cartDetails</span><span class="o">.</span><span class="na">getDateUpdated</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">cartId</span> <span class="o">=</span> <span class="n">cartDetails</span><span class="o">.</span><span class="na">getId</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">cartMerchantId</span> <span class="o">=</span> <span class="n">cartDetails</span><span class="o">.</span><span class="na">getMerchantId</span><span class="o">();</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">CheckoutProduct</span><span class="o">&gt;</span> <span class="n">cartProducts</span> <span class="o">=</span> <span class="n">cartDetails</span><span class="o">.</span><span class="na">getProducts</span><span class="o">();</span>

        <span class="c1">// get properties of cartProducts array</span>
        <span class="k">for</span><span class="o">(</span><span class="n">CheckoutProduct</span> <span class="nl">checkoutProduct:</span><span class="n">cartProducts</span><span class="o">){</span>
            <span class="kt">int</span> <span class="n">checkoutProductId</span> <span class="o">=</span> <span class="n">checkoutProduct</span><span class="o">.</span><span class="na">getId</span><span class="o">();</span>
            <span class="n">List</span><span class="o">&lt;</span><span class="n">ConfigurableOption</span><span class="o">&gt;</span> <span class="n">configurableOptions</span> <span class="o">=</span> <span class="n">checkoutProduct</span><span class="o">.</span><span class="na">getConfigurableOptions</span><span class="o">();</span>
            <span class="kt">float</span> <span class="n">checkoutProductQty</span> <span class="o">=</span> <span class="n">checkoutProduct</span><span class="o">.</span><span class="na">getQty</span><span class="o">();</span>

            <span class="c1">// get properties of configurableOptions array</span>
            <span class="k">for</span><span class="o">(</span><span class="n">ConfigurableOption</span> <span class="nl">configurableOption:</span><span class="n">configurableOptions</span><span class="o">){</span>
                <span class="n">String</span> <span class="n">configurableOptionCode</span> <span class="o">=</span> <span class="n">configurableOption</span><span class="o">.</span><span class="na">getCode</span><span class="o">();</span>
                <span class="kt">int</span> <span class="n">configurableOptionValue</span> <span class="o">=</span> <span class="n">configurableOption</span><span class="o">.</span><span class="na">getValue</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onFailure</span><span class="o">(</span><span class="n">HttpResponse</span> <span class="n">httpResponse</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// handle error</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>GetCardById returns the contents of a cart, as specified by cartId.</p>

<p>Method signature: <code>session.CheckoutManager.getCartById( CartId, MerchantId, [callback or interface] )</code></p>

<p>You must pass in a <code>Cartid</code> string, a <code>MerchantId</code> string, and a CheckoutInterface (or callback).</p>

<p>The method returns an <code>CartDetails</code> object.</p>
<h3 id='method-getcarts'>Method: getCarts</h3><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">UIKit</span>
<span class="kd">import</span> <span class="kt">RezolveSDK</span>

<span class="k">let</span> <span class="nv">MERCHANT_ID</span> <span class="o">=</span> <span class="s">"..."</span>
<span class="k">let</span> <span class="nv">CATEGORY_ID</span> <span class="o">=</span> <span class="kt">Int32</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">PRODUCT_ID</span> <span class="o">=</span> <span class="s">"..."</span>

<span class="kd">class</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>

        <span class="k">let</span> <span class="nv">sdk</span><span class="p">:</span> <span class="kt">RezolveSDK</span> <span class="o">=</span> <span class="kt">RezolveSDK</span><span class="p">(</span><span class="nv">apiKey</span><span class="p">:</span> <span class="kt">API_KEY</span><span class="p">,</span> <span class="nv">env</span><span class="p">:</span> <span class="kt">SDK_ENV</span><span class="p">)</span>

        <span class="k">let</span> <span class="nv">signUpRequest</span> <span class="o">=</span> <span class="nf">createSingUpRequest</span><span class="p">()</span>

        <span class="n">sdk</span><span class="o">.</span><span class="nf">registerUser</span><span class="p">(</span><span class="nv">request</span><span class="p">:</span> <span class="n">signUpRequest</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="nv">partnerId</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">entityId</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="k">in</span>

            <span class="n">sdk</span><span class="o">.</span><span class="nf">createSession</span><span class="p">(</span><span class="nv">entityId</span><span class="p">:</span> <span class="n">entityId</span><span class="p">,</span> <span class="nv">partnerId</span><span class="p">:</span> <span class="n">partnerId</span><span class="p">,</span> <span class="nv">device</span><span class="p">:</span> <span class="n">signUpRequest</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">session</span><span class="p">:</span> <span class="kt">RezolveSession</span><span class="p">)</span> <span class="k">in</span>

                <span class="n">session</span><span class="o">.</span><span class="n">cartManager</span><span class="o">.</span><span class="nf">getCarts</span><span class="p">(</span><span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="n">carts</span> <span class="k">in</span>


                <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>

            <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>
        <span class="p">})</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight java tab-java"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Checkout</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="kd">implements</span> <span class="n">CheckoutInterface</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"your_api_key"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">ENVIRONMENT</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span><span class="o">;</span>

    <span class="n">CheckoutInterface</span> <span class="n">checkoutInterface</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
        <span class="n">CheckoutManager</span> <span class="n">myCheckoutManager</span> <span class="o">=</span> <span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span>
        <span class="n">ENVIRONMENT</span><span class="o">).</span><span class="na">getRezolveSession</span><span class="o">().</span><span class="na">getCheckoutManager</span><span class="o">();</span>

        <span class="c1">// gets carts for the current session: returns an array of CartDetail objects</span>
        <span class="n">myCheckoutManager</span><span class="o">.</span><span class="na">getCarts</span><span class="o">(</span><span class="n">checkoutInterface</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onGetCartsSuccess</span><span class="o">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">CartDetails</span><span class="o">&gt;</span> <span class="n">successCartDetails</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// get properties of successCartDetails array</span>
        <span class="k">for</span><span class="o">(</span><span class="n">CartDetails</span> <span class="nl">cartDetails:</span> <span class="n">successCartDetails</span><span class="o">){</span>
            <span class="n">String</span> <span class="n">cartDateCreated</span> <span class="o">=</span> <span class="n">cartDetails</span><span class="o">.</span><span class="na">getDateCreated</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">cartDateUpdated</span> <span class="o">=</span> <span class="n">cartDetails</span><span class="o">.</span><span class="na">getDateUpdated</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">cartId</span> <span class="o">=</span> <span class="n">cartDetails</span><span class="o">.</span><span class="na">getId</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">cartMerchantId</span> <span class="o">=</span> <span class="n">cartDetails</span><span class="o">.</span><span class="na">getMerchantId</span><span class="o">();</span>
            <span class="n">List</span><span class="o">&lt;</span><span class="n">CheckoutProduct</span><span class="o">&gt;</span> <span class="n">cartProducts</span> <span class="o">=</span> <span class="n">cartDetails</span><span class="o">.</span><span class="na">getProducts</span><span class="o">();</span>

            <span class="c1">// get properties of cartProducts array</span>
            <span class="k">for</span><span class="o">(</span><span class="n">CheckoutProduct</span> <span class="nl">checkoutProduct:</span><span class="n">cartProducts</span><span class="o">){</span>
                <span class="kt">int</span> <span class="n">checkoutProductId</span> <span class="o">=</span> <span class="n">checkoutProduct</span><span class="o">.</span><span class="na">getId</span><span class="o">();</span>
                <span class="n">List</span><span class="o">&lt;</span><span class="n">ConfigurableOption</span><span class="o">&gt;</span> <span class="n">configurableOptions</span> <span class="o">=</span> <span class="n">checkoutProduct</span><span class="o">.</span><span class="na">getConfigurableOptions</span><span class="o">();</span>
                <span class="kt">float</span> <span class="n">checkoutProductQty</span> <span class="o">=</span> <span class="n">checkoutProduct</span><span class="o">.</span><span class="na">getQty</span><span class="o">();</span>

                <span class="c1">// get properties of configurableOptions array</span>
                <span class="k">for</span><span class="o">(</span><span class="n">ConfigurableOption</span> <span class="nl">configurableOption:</span><span class="n">configurableOptions</span><span class="o">){</span>
                    <span class="n">String</span> <span class="n">configurableOptionCode</span> <span class="o">=</span> <span class="n">configurableOption</span><span class="o">.</span><span class="na">getCode</span><span class="o">();</span>
                    <span class="kt">int</span> <span class="n">configurableOptionValue</span> <span class="o">=</span> <span class="n">configurableOption</span><span class="o">.</span><span class="na">getValue</span><span class="o">();</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onFailure</span><span class="o">(</span><span class="n">HttpResponse</span> <span class="n">httpResponse</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// handle error</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>GetCarts gets a list of carts associated with the user.</p>

<p>Method signature: <code>session.CheckoutManager.getCarts( [callback or interface] )</code></p>

<p>You must pass in a <code>CheckoutInterface</code> (or callout).</p>

<p>The method returns an array of <code>CartDetail</code> objects.</p>
<h3 id='method-removeproductfromcart'>Method: removeProductFromCart</h3><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">UIKit</span>
<span class="kd">import</span> <span class="kt">RezolveSDK</span>

<span class="k">let</span> <span class="nv">MERCHANT_ID</span> <span class="o">=</span> <span class="s">"..."</span>
<span class="k">let</span> <span class="nv">CATEGORY_ID</span> <span class="o">=</span> <span class="kt">Int32</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">PRODUCT_ID</span> <span class="o">=</span> <span class="s">"..."</span>

<span class="kd">class</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>

        <span class="k">let</span> <span class="nv">sdk</span><span class="p">:</span> <span class="kt">RezolveSDK</span> <span class="o">=</span> <span class="kt">RezolveSDK</span><span class="p">(</span><span class="nv">apiKey</span><span class="p">:</span> <span class="kt">API_KEY</span><span class="p">,</span> <span class="nv">env</span><span class="p">:</span> <span class="kt">SDK_ENV</span><span class="p">)</span>

        <span class="k">let</span> <span class="nv">signUpRequest</span> <span class="o">=</span> <span class="nf">createSingUpRequest</span><span class="p">()</span>

        <span class="n">sdk</span><span class="o">.</span><span class="nf">registerUser</span><span class="p">(</span><span class="nv">request</span><span class="p">:</span> <span class="n">signUpRequest</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="nv">partnerId</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">entityId</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="k">in</span>

            <span class="n">sdk</span><span class="o">.</span><span class="nf">createSession</span><span class="p">(</span><span class="nv">entityId</span><span class="p">:</span> <span class="n">entityId</span><span class="p">,</span> <span class="nv">partnerId</span><span class="p">:</span> <span class="n">partnerId</span><span class="p">,</span> <span class="nv">device</span><span class="p">:</span> <span class="n">signUpRequest</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">session</span><span class="p">:</span> <span class="kt">RezolveSession</span><span class="p">)</span> <span class="k">in</span>

              <span class="n">session</span><span class="o">.</span><span class="n">productManager</span><span class="o">.</span><span class="nf">getProduct</span><span class="p">(</span><span class="nv">merchantId</span><span class="p">:</span> <span class="kt">MERCHANT_ID</span><span class="p">,</span> <span class="nv">categoryId</span><span class="p">:</span> <span class="kt">CATEGORY_ID</span><span class="p">,</span> <span class="nv">productId</span><span class="p">:</span> <span class="kt">PRODUCT_ID</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">remoteProduct</span><span class="p">:</span> <span class="kt">Product</span><span class="p">)</span> <span class="k">in</span>
                <span class="n">session</span><span class="o">.</span><span class="n">productManager</span><span class="o">.</span><span class="nf">getProduct</span><span class="p">(</span><span class="nv">merchantId</span><span class="p">:</span> <span class="kt">MERCHANT_ID</span><span class="p">,</span> <span class="nv">categoryId</span><span class="p">:</span> <span class="kt">CATEGORY_2</span><span class="p">,</span> <span class="nv">productId</span><span class="p">:</span> <span class="kt">PRODUCT_2</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">remoteProduct2</span><span class="p">:</span> <span class="kt">Product</span><span class="p">)</span> <span class="k">in</span>

                  <span class="k">let</span> <span class="nv">checkoutProduct1</span> <span class="o">=</span> <span class="nf">createCheckoutProductWithVariant</span><span class="p">(</span><span class="nv">product</span><span class="p">:</span> <span class="n">remoteProduct</span><span class="p">)</span>
                  <span class="k">let</span> <span class="nv">checkoutProduct2</span> <span class="o">=</span> <span class="nf">createCheckoutProductWithVariant</span><span class="p">(</span><span class="nv">product</span><span class="p">:</span> <span class="n">remoteProduct2</span><span class="p">)</span>

                  <span class="n">session</span><span class="o">.</span><span class="n">cartManager</span><span class="o">.</span><span class="nf">createCartWithProduct</span><span class="p">(</span><span class="nv">merchantId</span><span class="p">:</span> <span class="kt">MERCHANT_ID</span><span class="p">,</span> <span class="nv">product</span><span class="p">:</span> <span class="n">checkoutProduct1</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="n">cartDetails1</span> <span class="k">in</span>

                    <span class="n">session</span><span class="o">.</span><span class="n">cartManager</span><span class="o">.</span><span class="nf">addCartProduct</span><span class="p">(</span><span class="nv">merchantId</span><span class="p">:</span> <span class="kt">MERCHANT_ID</span><span class="p">,</span> <span class="nv">cart</span><span class="p">:</span> <span class="n">cartDetails1</span><span class="p">,</span> <span class="nv">product</span><span class="p">:</span> <span class="n">checkoutProduct2</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="n">cartDetails2</span> <span class="k">in</span>

                      <span class="n">session</span><span class="o">.</span><span class="n">cartManager</span><span class="o">.</span><span class="nf">removeCartProduct</span><span class="p">(</span><span class="nv">merchantId</span><span class="p">:</span> <span class="kt">MERCHANT_ID</span><span class="p">,</span> <span class="nv">cart</span><span class="p">:</span> <span class="n">cartDetails2</span><span class="p">,</span> <span class="nv">product</span><span class="p">:</span> <span class="n">checkoutProduct1</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="n">remoteCart</span> <span class="k">in</span>



                      <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>
                    <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>
                  <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>
                <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>
              <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>
            <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>
        <span class="p">})</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">createCheckoutProductWithVariant</span><span class="p">(</span><span class="nv">product</span><span class="p">:</span> <span class="kt">Product</span><span class="p">,</span> <span class="nv">qty</span><span class="p">:</span> <span class="kt">Decimal</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">CheckoutProduct</span> <span class="p">{</span>

        <span class="k">let</span> <span class="nv">configurableOptions</span> <span class="o">=</span> <span class="p">(</span><span class="n">product</span><span class="o">.</span><span class="n">optionAvailable</span><span class="o">.</span><span class="n">first</span><span class="p">?</span><span class="o">.</span><span class="n">combination</span><span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="nv">$0</span><span class="o">.</span><span class="nf">configurableOption</span><span class="p">()</span> <span class="p">})</span><span class="o">!</span>

        <span class="k">return</span> <span class="kt">CheckoutProduct</span><span class="p">(</span><span class="nv">id</span><span class="p">:</span> <span class="n">product</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="nv">qty</span><span class="p">:</span> <span class="n">qty</span><span class="p">,</span> <span class="nv">configurableOptions</span><span class="p">:</span> <span class="n">configurableOptions</span><span class="p">,</span> <span class="nv">customOptions</span><span class="p">:</span> <span class="p">[])</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight java tab-java"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Checkout</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="kd">implements</span> <span class="n">CheckoutInterface</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"your_api_key"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">ENVIRONMENT</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span><span class="o">;</span>

    <span class="n">String</span> <span class="n">addressId</span><span class="o">;</span>
    <span class="n">String</span> <span class="n">cartId</span><span class="o">;</span>
    <span class="n">String</span> <span class="n">merchantId</span><span class="o">;</span>
    <span class="n">CheckoutInterface</span> <span class="n">checkoutInterface</span><span class="o">;</span>
    <span class="n">CheckoutProduct</span> <span class="n">checkoutProduct</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
        <span class="n">CheckoutManager</span> <span class="n">myCheckoutManager</span> <span class="o">=</span> <span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span>
        <span class="n">ENVIRONMENT</span><span class="o">).</span><span class="na">getRezolveSession</span><span class="o">().</span><span class="na">getCheckoutManager</span><span class="o">();</span>

        <span class="c1">// removes a product from cart: returns a CartDetails object</span>
        <span class="n">myCheckoutManager</span><span class="o">.</span><span class="na">removeProductFromCart</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">cartId</span><span class="o">,</span> <span class="n">merchantId</span><span class="o">,</span>
        <span class="n">checkoutProduct</span><span class="o">,</span> <span class="n">checkoutInterface</span><span class="o">);</span>
    <span class="o">}</span>


    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onRemoveProductFromCartSuccess</span><span class="o">(</span><span class="n">CartDetails</span> <span class="n">cartDetails</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// get properties of cartDetails array</span>
        <span class="n">String</span> <span class="n">cartDateCreated</span> <span class="o">=</span> <span class="n">cartDetails</span><span class="o">.</span><span class="na">getDateCreated</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">cartDateUpdated</span> <span class="o">=</span> <span class="n">cartDetails</span><span class="o">.</span><span class="na">getDateUpdated</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">cartId</span> <span class="o">=</span> <span class="n">cartDetails</span><span class="o">.</span><span class="na">getId</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">cartMerchantId</span> <span class="o">=</span> <span class="n">cartDetails</span><span class="o">.</span><span class="na">getMerchantId</span><span class="o">();</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">CheckoutProduct</span><span class="o">&gt;</span> <span class="n">cartProducts</span> <span class="o">=</span> <span class="n">cartDetails</span><span class="o">.</span><span class="na">getProducts</span><span class="o">();</span>

        <span class="c1">// get properties of cartProducts array</span>
        <span class="k">for</span><span class="o">(</span><span class="n">CheckoutProduct</span> <span class="nl">checkoutProduct:</span><span class="n">cartProducts</span><span class="o">){</span>
            <span class="kt">int</span> <span class="n">checkoutProductId</span> <span class="o">=</span> <span class="n">checkoutProduct</span><span class="o">.</span><span class="na">getId</span><span class="o">();</span>
            <span class="n">List</span><span class="o">&lt;</span><span class="n">ConfigurableOption</span><span class="o">&gt;</span> <span class="n">configurableOptions</span> <span class="o">=</span> <span class="n">checkoutProduct</span><span class="o">.</span><span class="na">getConfigurableOptions</span><span class="o">();</span>
            <span class="kt">float</span> <span class="n">checkoutProductQty</span> <span class="o">=</span> <span class="n">checkoutProduct</span><span class="o">.</span><span class="na">getQty</span><span class="o">();</span>

            <span class="c1">// get properties of configurableOptions array</span>
            <span class="k">for</span><span class="o">(</span><span class="n">ConfigurableOption</span> <span class="nl">configurableOption:</span><span class="n">configurableOptions</span><span class="o">){</span>
                <span class="n">String</span> <span class="n">configurableOptionCode</span> <span class="o">=</span> <span class="n">configurableOption</span><span class="o">.</span><span class="na">getCode</span><span class="o">();</span>
                <span class="kt">int</span> <span class="n">configurableOptionValue</span> <span class="o">=</span> <span class="n">configurableOption</span><span class="o">.</span><span class="na">getValue</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onFailure</span><span class="o">(</span><span class="n">HttpResponse</span> <span class="n">httpResponse</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// handle error</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>RemoveProductFromCart removes a previously added product from the specified cart.</p>

<p>IOS Method signature: <code>session.CheckoutManager.removeProductFromCart( CartId, MerchantId, CheckoutProduct, [callback or interface] )</code></p>

<p>Android Method signature: <code>session.CheckoutManager.removeProductFromCart( Context, CartId, MerchantId, CheckoutProduct, [callback or interface] )</code></p>

<p>You must pass in CartId as a string, MerchantId as a string, the CheckoutProduct to remove, and a CheckoutInterface (or callback).</p>

<p>The method returns a <code>CartDetails</code> object.</p>
<h3 id='method-signorderupdates'>Method: signOrderUpdates</h3><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">UIKit</span>
<span class="kd">import</span> <span class="kt">RezolveSDK</span>

<span class="k">let</span> <span class="nv">MERCHANT_ID</span> <span class="o">=</span> <span class="s">"..."</span>
<span class="k">let</span> <span class="nv">CATEGORY_ID</span> <span class="o">=</span> <span class="kt">Int32</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">PRODUCT_ID</span> <span class="o">=</span> <span class="s">"..."</span>

<span class="kd">class</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>

        <span class="k">let</span> <span class="nv">sdk</span><span class="p">:</span> <span class="kt">RezolveSDK</span> <span class="o">=</span> <span class="kt">RezolveSDK</span><span class="p">(</span><span class="nv">apiKey</span><span class="p">:</span> <span class="kt">API_KEY</span><span class="p">,</span> <span class="nv">env</span><span class="p">:</span> <span class="kt">SDK_ENV</span><span class="p">)</span>

        <span class="k">let</span> <span class="nv">signUpRequest</span> <span class="o">=</span> <span class="nf">createSingUpRequest</span><span class="p">()</span>

        <span class="n">sdk</span><span class="o">.</span><span class="nf">registerUser</span><span class="p">(</span><span class="nv">request</span><span class="p">:</span> <span class="n">signUpRequest</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="nv">partnerId</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">entityId</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="k">in</span>

            <span class="n">sdk</span><span class="o">.</span><span class="nf">createSession</span><span class="p">(</span><span class="nv">entityId</span><span class="p">:</span> <span class="n">entityId</span><span class="p">,</span> <span class="nv">partnerId</span><span class="p">:</span> <span class="n">partnerId</span><span class="p">,</span> <span class="nv">device</span><span class="p">:</span> <span class="n">signUpRequest</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">session</span><span class="p">:</span> <span class="kt">RezolveSession</span><span class="p">)</span> <span class="k">in</span>

                <span class="k">let</span> <span class="nv">address</span><span class="p">:</span> <span class="kt">Address</span> <span class="o">=</span> <span class="nf">createAddress</span><span class="p">()</span>

                <span class="n">session</span><span class="o">.</span><span class="n">addressbookManager</span><span class="o">.</span><span class="nf">create</span><span class="p">(</span><span class="nv">address</span><span class="p">:</span> <span class="n">address</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="nv">remoteAddress</span><span class="p">:</span> <span class="kt">Address</span><span class="p">)</span> <span class="k">in</span>

                    <span class="k">let</span> <span class="nv">card</span><span class="p">:</span> <span class="kt">PaymentCard</span> <span class="o">=</span> <span class="nf">createPaymentCard</span><span class="p">(</span><span class="nv">addressId</span><span class="p">:</span> <span class="n">remoteAddress</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>

                    <span class="n">session</span><span class="o">.</span><span class="n">walletManager</span><span class="o">.</span><span class="nf">create</span><span class="p">(</span><span class="nv">paymentCard</span><span class="p">:</span> <span class="n">card</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">remoteCard</span><span class="p">:</span> <span class="kt">PaymentCard</span><span class="p">)</span> <span class="k">in</span>

                        <span class="k">let</span> <span class="nv">checkoutProduct</span> <span class="o">=</span> <span class="nf">createCheckoutProductWithVariant</span><span class="p">(</span><span class="nv">product</span><span class="p">:</span> <span class="n">remoteProduct</span><span class="p">)</span>
                        <span class="k">let</span> <span class="nv">paymentRequest</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">checkoutManager</span><span class="o">.</span><span class="nf">createPaymentRequest</span><span class="p">(</span><span class="nv">paymentCard</span><span class="p">:</span> <span class="n">remoteCard</span><span class="p">,</span> <span class="nv">cvv</span><span class="p">:</span> <span class="kt">CVV</span><span class="p">)</span>

                        <span class="n">session</span><span class="o">.</span><span class="n">cartManager</span><span class="o">.</span><span class="nf">createCartWithProduct</span><span class="p">(</span><span class="nv">merchantId</span><span class="p">:</span> <span class="kt">MERCHANT_ID</span><span class="p">,</span> <span class="nv">product</span><span class="p">:</span> <span class="n">checkoutProduct</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="n">cartDetails</span> <span class="k">in</span>

                            <span class="n">session</span><span class="o">.</span><span class="n">checkoutManager</span><span class="o">.</span><span class="nf">buyCart</span><span class="p">(</span><span class="nv">merchantId</span><span class="p">:</span> <span class="kt">MERCHANT_ID</span><span class="p">,</span> <span class="nv">cart</span><span class="p">:</span> <span class="n">cartDetails</span><span class="p">,</span> <span class="nv">address</span><span class="p">:</span> <span class="n">remoteAddress</span><span class="p">,</span> <span class="nv">paymentRequest</span><span class="p">:</span> <span class="n">paymentRequest</span><span class="p">,</span> <span class="nv">location</span><span class="p">:</span> <span class="kt">DEFAULT_LOCATIONS</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">order</span><span class="p">:</span> <span class="kt">CheckoutOrder</span><span class="p">)</span> <span class="k">in</span>

                                <span class="n">session</span><span class="o">.</span><span class="n">checkoutManager</span><span class="o">.</span><span class="nf">signOrderUpdate</span><span class="p">(</span><span class="nv">merchantId</span><span class="p">:</span> <span class="kt">MERCHANT_ID</span><span class="p">,</span> <span class="nv">order</span><span class="p">:</span> <span class="n">order</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="n">status</span><span class="p">,</span> <span class="n">transaction</span> <span class="k">in</span>

                                    <span class="nf">print</span><span class="p">(</span><span class="n">status</span><span class="p">)</span>

                                    <span class="k">if</span> <span class="n">status</span> <span class="o">==</span> <span class="o">.</span><span class="n">completed</span> <span class="p">{</span>


                                    <span class="p">}</span>
                                <span class="p">})</span>

                            <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>

                        <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>
                    <span class="p">})</span>
                <span class="p">}</span>

            <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>
        <span class="p">})</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">createCheckoutProductWithVariant</span><span class="p">(</span><span class="nv">product</span><span class="p">:</span> <span class="kt">Product</span><span class="p">,</span> <span class="nv">qty</span><span class="p">:</span> <span class="kt">Decimal</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">CheckoutProduct</span> <span class="p">{</span>

        <span class="k">let</span> <span class="nv">configurableOptions</span> <span class="o">=</span> <span class="p">(</span><span class="n">product</span><span class="o">.</span><span class="n">optionAvailable</span><span class="o">.</span><span class="n">first</span><span class="p">?</span><span class="o">.</span><span class="n">combination</span><span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="nv">$0</span><span class="o">.</span><span class="nf">configurableOption</span><span class="p">()</span> <span class="p">})</span><span class="o">!</span>

        <span class="k">return</span> <span class="kt">CheckoutProduct</span><span class="p">(</span><span class="nv">id</span><span class="p">:</span> <span class="n">product</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="nv">qty</span><span class="p">:</span> <span class="n">qty</span><span class="p">,</span> <span class="nv">configurableOptions</span><span class="p">:</span> <span class="n">configurableOptions</span><span class="p">,</span> <span class="nv">customOptions</span><span class="p">:</span> <span class="p">[])</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight java tab-java"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Checkout</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="kd">implements</span> <span class="n">CheckoutInterface</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"your_api_key"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">ENVIRONMENT</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span><span class="o">;</span>

    <span class="n">String</span> <span class="n">merchantId</span><span class="o">;</span>
    <span class="n">String</span> <span class="n">orderId</span><span class="o">;</span>
    <span class="n">CheckoutInterface</span> <span class="n">checkoutInterface</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
        <span class="n">CheckoutManager</span> <span class="n">myCheckoutManager</span> <span class="o">=</span> <span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span>
        <span class="n">ENVIRONMENT</span><span class="o">).</span><span class="na">getRezolveSession</span><span class="o">().</span><span class="na">getCheckoutManager</span><span class="o">();</span>

        <span class="c1">// sign order updates</span>
        <span class="n">myCheckoutManager</span><span class="o">.</span><span class="na">signOrderUpdates</span><span class="o">(</span><span class="n">orderId</span><span class="o">,</span> <span class="n">merchantId</span><span class="o">,</span> <span class="n">checkoutInterface</span><span class="o">);</span>
        <span class="c1">// this is done automatically when there's a success response to buyProduct or buyCart call.</span>
        <span class="c1">// this method is exposed in case the developer wants to listen for updates using a background service</span>


    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onOrderUpdateReceived</span><span class="o">(</span><span class="n">Transaction</span><span class="o">.</span><span class="na">Status</span> <span class="n">status</span><span class="o">,</span> <span class="n">Transaction</span> <span class="n">transaction</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// get properties of status object</span>
        <span class="n">String</span> <span class="n">statusLabel</span> <span class="o">=</span> <span class="n">status</span><span class="o">.</span><span class="na">getLabel</span><span class="o">();</span>   <span class="c1">// will return one of: completed, canceled, or processing</span>

        <span class="c1">// get properties of transaction object</span>
        <span class="n">String</span> <span class="n">transStatus</span> <span class="o">=</span> <span class="n">transaction</span><span class="o">.</span><span class="na">getStatus</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">transOrderId</span> <span class="o">=</span> <span class="n">transaction</span><span class="o">.</span><span class="na">getOrderId</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">transLastUpdated</span> <span class="o">=</span> <span class="n">transaction</span><span class="o">.</span><span class="na">getLastUpdated</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onFailure</span><span class="o">(</span><span class="n">HttpResponse</span> <span class="n">httpResponse</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// handle error</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>This method is called automatically if <code>buyCart</code> or <code>buyProduct</code> return successfully. SignOrderUpdates starts a listener on a socket, waiting for the server to return one of the following order status:
* completed
* canceled
* processing</p>

<p>If the orders status is &quot;completed&quot; or &quot;canceled&quot;, the listener will close. If the order status returns as &quot;processing&quot;, the listener will remain open until an update of either &quot;completed&quot; or &quot;canceled&quot; is received.</p>

<p>Method signature: <code>session.CheckoutManager.signOrderUpdates( OrderId, MerchantId, [callback or interface] )</code></p>

<p>You must pass in an OrderId as a string, a MerchantId as string, and a CheckoutInterface (or callback).</p>

<p>The method returns a <code>Transaction</code> object, and a <code>Transaction.Status</code> object.</p>
<h4 id='transaction-object'>Transaction object</h4>
<table><thead>
<tr>
<th>field</th>
<th>format</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td>transactionLastUpdated</td>
<td>date string in YYYY-MM-DD format</td>
<td>2017-10-31</td>
</tr>
<tr>
<td>transactionOrderId</td>
<td>string</td>
<td>abc123</td>
</tr>
<tr>
<td>transactionStatus</td>
<td>string</td>
<td>Complete</td>
</tr>
</tbody></table>
<h4 id='order-object-2'>Order object</h4>
<table><thead>
<tr>
<th>field</th>
<th>format</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td>orderFinalPriceOrderId</td>
<td>string</td>
<td>123</td>
</tr>
<tr>
<td>orderFinalPriceFinalPrice</td>
<td>float</td>
<td>123.45</td>
</tr>
<tr>
<td>orderFinalPriceBreakdowns</td>
<td>array of PriceBreakdown objects</td>
<td>&nbsp;</td>
</tr>
</tbody></table>
<h3 id='method-updateproductincart'>Method: updateProductInCart</h3><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">UIKit</span>
<span class="kd">import</span> <span class="kt">RezolveSDK</span>

<span class="k">let</span> <span class="nv">MERCHANT_ID</span> <span class="o">=</span> <span class="s">"..."</span>
<span class="k">let</span> <span class="nv">CATEGORY_ID</span> <span class="o">=</span> <span class="kt">Int32</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">PRODUCT_ID</span> <span class="o">=</span> <span class="s">"..."</span>

<span class="kd">class</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>

        <span class="k">let</span> <span class="nv">sdk</span><span class="p">:</span> <span class="kt">RezolveSDK</span> <span class="o">=</span> <span class="kt">RezolveSDK</span><span class="p">(</span><span class="nv">apiKey</span><span class="p">:</span> <span class="kt">API_KEY</span><span class="p">,</span> <span class="nv">env</span><span class="p">:</span> <span class="kt">SDK_ENV</span><span class="p">)</span>

        <span class="k">let</span> <span class="nv">signUpRequest</span> <span class="o">=</span> <span class="nf">createSingUpRequest</span><span class="p">()</span>

        <span class="n">sdk</span><span class="o">.</span><span class="nf">registerUser</span><span class="p">(</span><span class="nv">request</span><span class="p">:</span> <span class="n">signUpRequest</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="nv">partnerId</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">entityId</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="k">in</span>

            <span class="n">sdk</span><span class="o">.</span><span class="nf">createSession</span><span class="p">(</span><span class="nv">entityId</span><span class="p">:</span> <span class="n">entityId</span><span class="p">,</span> <span class="nv">partnerId</span><span class="p">:</span> <span class="n">partnerId</span><span class="p">,</span> <span class="nv">device</span><span class="p">:</span> <span class="n">signUpRequest</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">session</span><span class="p">:</span> <span class="kt">RezolveSession</span><span class="p">)</span> <span class="k">in</span>

              <span class="n">session</span><span class="o">.</span><span class="n">productManager</span><span class="o">.</span><span class="nf">getProduct</span><span class="p">(</span><span class="nv">merchantId</span><span class="p">:</span> <span class="kt">MERCHANT_ID</span><span class="p">,</span> <span class="nv">categoryId</span><span class="p">:</span> <span class="kt">CATEGORY_ID</span><span class="p">,</span> <span class="nv">productId</span><span class="p">:</span> <span class="kt">PRODUCT_ID</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">remoteProduct</span><span class="p">:</span> <span class="kt">Product</span><span class="p">)</span> <span class="k">in</span>
                <span class="n">session</span><span class="o">.</span><span class="n">productManager</span><span class="o">.</span><span class="nf">getProduct</span><span class="p">(</span><span class="nv">merchantId</span><span class="p">:</span> <span class="kt">MERCHANT_ID</span><span class="p">,</span> <span class="nv">categoryId</span><span class="p">:</span> <span class="kt">CATEGORY_2</span><span class="p">,</span> <span class="nv">productId</span><span class="p">:</span> <span class="kt">PRODUCT_2</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">remoteProduct2</span><span class="p">:</span> <span class="kt">Product</span><span class="p">)</span> <span class="k">in</span>

                  <span class="k">let</span> <span class="nv">checkoutProduct1</span> <span class="o">=</span> <span class="nf">createCheckoutProduct</span><span class="p">(</span><span class="nv">product</span><span class="p">:</span> <span class="n">remoteProduct</span><span class="p">)</span>
                  <span class="k">let</span> <span class="nv">checkoutProduct2</span> <span class="o">=</span> <span class="nf">createCheckoutProduct</span><span class="p">(</span><span class="nv">product</span><span class="p">:</span> <span class="n">remoteProduct2</span><span class="p">)</span>

                  <span class="n">session</span><span class="o">.</span><span class="n">cartManager</span><span class="o">.</span><span class="nf">createCartWithProduct</span><span class="p">(</span><span class="nv">merchantId</span><span class="p">:</span> <span class="kt">MERCHANT_ID</span><span class="p">,</span> <span class="nv">product</span><span class="p">:</span> <span class="n">checkoutProduct1</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="n">cartDetails1</span> <span class="k">in</span>

                    <span class="n">session</span><span class="o">.</span><span class="n">cartManager</span><span class="o">.</span><span class="nf">addCartProduct</span><span class="p">(</span><span class="nv">merchantId</span><span class="p">:</span> <span class="kt">MERCHANT_ID</span><span class="p">,</span> <span class="nv">cart</span><span class="p">:</span> <span class="n">cartDetails1</span><span class="p">,</span> <span class="nv">product</span><span class="p">:</span> <span class="n">checkoutProduct2</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="n">cartDetails2</span> <span class="k">in</span>

                      <span class="k">let</span> <span class="nv">newC</span> <span class="o">=</span> <span class="n">cartDetails2</span><span class="o">.</span><span class="n">products</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                      <span class="n">newC</span><span class="o">.</span><span class="n">qty</span> <span class="o">=</span> <span class="mi">20</span>
                      <span class="k">let</span> <span class="nv">newC2</span> <span class="o">=</span> <span class="n">cartDetails2</span><span class="o">.</span><span class="n">products</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                      <span class="n">newC2</span><span class="o">.</span><span class="n">qty</span> <span class="o">=</span> <span class="mi">40</span>

                      <span class="n">session</span><span class="o">.</span><span class="n">cartManager</span><span class="o">.</span><span class="nf">updateProductInCart</span><span class="p">(</span><span class="nv">merchantId</span><span class="p">:</span> <span class="kt">MERCHANT_ID</span><span class="p">,</span> <span class="nv">cart</span><span class="p">:</span> <span class="n">cartDetails2</span><span class="p">,</span> <span class="nv">oldProduct</span><span class="p">:</span> <span class="n">checkoutProduct1</span><span class="p">,</span> <span class="nv">newProduct</span><span class="p">:</span> <span class="n">newC</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="n">remoteCart</span> <span class="k">in</span>


                      <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>
                    <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>
                  <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>
                <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>
              <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>
            <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>
        <span class="p">})</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">createCheckoutProductWithVariant</span><span class="p">(</span><span class="nv">product</span><span class="p">:</span> <span class="kt">Product</span><span class="p">,</span> <span class="nv">qty</span><span class="p">:</span> <span class="kt">Decimal</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">CheckoutProduct</span> <span class="p">{</span>

        <span class="k">let</span> <span class="nv">configurableOptions</span> <span class="o">=</span> <span class="p">(</span><span class="n">product</span><span class="o">.</span><span class="n">optionAvailable</span><span class="o">.</span><span class="n">first</span><span class="p">?</span><span class="o">.</span><span class="n">combination</span><span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="nv">$0</span><span class="o">.</span><span class="nf">configurableOption</span><span class="p">()</span> <span class="p">})</span><span class="o">!</span>

        <span class="k">return</span> <span class="kt">CheckoutProduct</span><span class="p">(</span><span class="nv">id</span><span class="p">:</span> <span class="n">product</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="nv">qty</span><span class="p">:</span> <span class="n">qty</span><span class="p">,</span> <span class="nv">configurableOptions</span><span class="p">:</span> <span class="n">configurableOptions</span><span class="p">,</span> <span class="nv">customOptions</span><span class="p">:</span> <span class="p">[])</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight java tab-java"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Checkout</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="kd">implements</span> <span class="n">CheckoutInterface</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"your_api_key"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">ENVIRONMENT</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span><span class="o">;</span>

    <span class="n">String</span> <span class="n">addressId</span><span class="o">;</span>
    <span class="n">String</span> <span class="n">cartId</span><span class="o">;</span>
    <span class="n">String</span> <span class="n">cvv</span><span class="o">;</span>
    <span class="n">String</span> <span class="n">merchantId</span><span class="o">;</span>
    <span class="n">String</span> <span class="n">orderId</span><span class="o">;</span>
    <span class="n">RezolveLocation</span> <span class="n">rezolveLocation</span><span class="o">;</span>
    <span class="n">PaymentRequest</span> <span class="n">paymentRequest</span><span class="o">;</span>
    <span class="n">CheckoutInterface</span> <span class="n">checkoutInterface</span><span class="o">;</span>
    <span class="n">CheckoutProduct</span> <span class="n">checkoutProduct</span><span class="o">;</span>
    <span class="n">CheckoutProduct</span> <span class="n">checkoutProduct2</span><span class="o">;</span>
    <span class="n">PaymentCard</span> <span class="n">paymentCard</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
        <span class="n">CheckoutManager</span> <span class="n">myCheckoutManager</span> <span class="o">=</span> <span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span>
        <span class="n">ENVIRONMENT</span><span class="o">).</span><span class="na">getRezolveSession</span><span class="o">().</span><span class="na">getCheckoutManager</span><span class="o">();</span>

        <span class="c1">// update product(s) in cart: returns a CartDetails object</span>
        <span class="n">myCheckoutManager</span><span class="o">.</span><span class="na">updateProductInCart</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">cartId</span><span class="o">,</span> <span class="n">merchantId</span><span class="o">,</span> 
        <span class="n">checkoutProduct</span><span class="o">,</span> <span class="n">checkoutProduct2</span><span class="o">,</span> <span class="n">checkoutInterface</span><span class="o">);</span>
    <span class="o">}</span>


    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onUpdateProductInCartSuccess</span><span class="o">(</span><span class="n">CartDetails</span> <span class="n">cartDetails</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// get properties of cartDetails array</span>
        <span class="n">String</span> <span class="n">cartDateCreated</span> <span class="o">=</span> <span class="n">cartDetails</span><span class="o">.</span><span class="na">getDateCreated</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">cartDateUpdated</span> <span class="o">=</span> <span class="n">cartDetails</span><span class="o">.</span><span class="na">getDateUpdated</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">cartId</span> <span class="o">=</span> <span class="n">cartDetails</span><span class="o">.</span><span class="na">getId</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">cartMerchantId</span> <span class="o">=</span> <span class="n">cartDetails</span><span class="o">.</span><span class="na">getMerchantId</span><span class="o">();</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">CheckoutProduct</span><span class="o">&gt;</span> <span class="n">cartProducts</span> <span class="o">=</span> <span class="n">cartDetails</span><span class="o">.</span><span class="na">getProducts</span><span class="o">();</span>

        <span class="c1">// get properties of cartProducts array</span>
        <span class="k">for</span><span class="o">(</span><span class="n">CheckoutProduct</span> <span class="nl">checkoutProduct:</span><span class="n">cartProducts</span><span class="o">){</span>
            <span class="kt">int</span> <span class="n">checkoutProductId</span> <span class="o">=</span> <span class="n">checkoutProduct</span><span class="o">.</span><span class="na">getId</span><span class="o">();</span>
            <span class="n">List</span><span class="o">&lt;</span><span class="n">ConfigurableOption</span><span class="o">&gt;</span> <span class="n">configurableOptions</span> <span class="o">=</span> <span class="n">checkoutProduct</span><span class="o">.</span><span class="na">getConfigurableOptions</span><span class="o">();</span>
            <span class="kt">float</span> <span class="n">checkoutProductQty</span> <span class="o">=</span> <span class="n">checkoutProduct</span><span class="o">.</span><span class="na">getQty</span><span class="o">();</span>

            <span class="c1">// get properties of configurableOptions array</span>
            <span class="k">for</span><span class="o">(</span><span class="n">ConfigurableOption</span> <span class="nl">configurableOption:</span><span class="n">configurableOptions</span><span class="o">){</span>
                <span class="n">String</span> <span class="n">configurableOptionCode</span> <span class="o">=</span> <span class="n">configurableOption</span><span class="o">.</span><span class="na">getCode</span><span class="o">();</span>
                <span class="kt">int</span> <span class="n">configurableOptionValue</span> <span class="o">=</span> <span class="n">configurableOption</span><span class="o">.</span><span class="na">getValue</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onFailure</span><span class="o">(</span><span class="n">HttpResponse</span> <span class="n">httpResponse</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// handle error</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>UpdateProductInCart modifies a CheckoutProduct object that is already in the cart.</p>

<p>IOS Method signature: <code>session.CheckoutManager.updateProductInCart( CartId, MerchantId, CheckoutProduct, CheckoutProduct2, [callback or interface] )</code></p>

<p>Android Method signature: <code>session.CheckoutManager.updateProductInCart( Context, CartId, MerchantId, CheckoutProduct, CheckoutProduct2, [callback or interface] )</code></p>

<p>You must pass in a <code>Cartid</code> as a string, a <code>MerchantId</code> as a string, a CheckoutProduct object (representing the object you want to change), a second CheckoutProduct object (with the updated values), and a checkoutInterface (or callback).</p>

<p>The method returns a <code>CartDetails</code> object.</p>

          <h2 id='module-favoritemanager'>Module: FavoriteManager</h2>
<p>The FavoriteManager is an aggregate of Session.</p>

<p>This module provides CRUD functions for Favorites. The term &quot;Favorite&quot; refers to the target of a top up operation, in which money is added to a remote account associated with a device or service. The consumer may add one or more favorites to their account.</p>
<h3 id='method-favouritemanager-create'>Method: favouriteManager.create</h3><pre class="highlight swift tab-swift"><code><span class="kd">class</span> <span class="kt">FavouriteViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="k">let</span> <span class="nv">API_KEY</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">"your_api_key"</span>
    <span class="k">let</span> <span class="nv">ENVIRONMENT</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span>

    <span class="k">var</span> <span class="nv">mySession</span><span class="p">:</span> <span class="kt">RezolveSession</span><span class="p">?</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>

        <span class="c1">//self.mySession = ... // initialize session</span>

        <span class="k">let</span> <span class="nv">favourite</span><span class="p">:</span> <span class="kt">Favourite</span> <span class="o">=</span> <span class="kt">Favourite</span><span class="p">()</span>

        <span class="n">favourite</span><span class="o">.</span><span class="n">provider</span> <span class="o">=</span> <span class="s">"AT&amp;T"</span>
        <span class="n">favourite</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s">"phone"</span>
        <span class="n">favourite</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="s">"555499999999"</span>

        <span class="k">self</span><span class="o">.</span><span class="n">mySession</span><span class="p">?</span><span class="o">.</span><span class="n">favouriteManager</span><span class="o">.</span><span class="nf">create</span><span class="p">(</span>
            <span class="nv">favourite</span><span class="p">:</span> <span class="n">favourite</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="nv">remoteFavourite</span><span class="p">:</span> <span class="kt">Favourite</span><span class="p">)</span> <span class="k">in</span>

                <span class="k">let</span> <span class="nv">favouriteId</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="n">remoteFavourite</span><span class="o">.</span><span class="n">id</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight java tab-java"><code><span class="c1">// create favorite using FavouriteInterface</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Favorites</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="kd">implements</span> <span class="n">FavouriteInterface</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"your_api_key"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">ENVIRONMENT</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>

        <span class="n">FavouriteManager</span> <span class="n">myFavouriteManager</span> <span class="o">=</span> <span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span> 
        <span class="n">ENVIRONMENT</span><span class="o">).</span><span class="na">getRezolveSession</span><span class="o">().</span><span class="na">getFavouriteManager</span><span class="o">();</span>

        <span class="c1">// create a favourite</span>
        <span class="n">Favourite</span> <span class="n">favourite</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Favourite</span><span class="o">();</span>
        <span class="n">favourite</span><span class="o">.</span><span class="na">setProvider</span><span class="o">(</span><span class="s">"AT&amp;T"</span><span class="o">);</span>
        <span class="n">favourite</span><span class="o">.</span><span class="na">setType</span><span class="o">(</span><span class="s">"phone"</span><span class="o">);</span>
        <span class="n">favourite</span><span class="o">.</span><span class="na">setValue</span><span class="o">(</span><span class="s">"549912341234"</span><span class="o">);</span>
        <span class="n">myFavouriteManager</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">favourite</span><span class="o">,</span><span class="k">this</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onFavouriteCreateSuccess</span><span class="o">(</span><span class="n">Favourite</span> <span class="n">favourite</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// show favourite created message</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>Method signature: <code>session.favouriteManager.create( [callback or interface] )</code></p>

<p>You must pass in a <code>favourite</code> object with the <code>id</code> field blank.</p>

<p>The method returns the created <code>favourite</code> object with <code>id</code> upon success.</p>
<h4 id='favourite-object'>favourite Object</h4>
<table><thead>
<tr>
<th>field</th>
<th>format</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>auto-assigned string</td>
<td>new_id_123</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>549912341234</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>phone</td>
</tr>
<tr>
<td>provider</td>
<td>string</td>
<td>AT&amp;T</td>
</tr>
</tbody></table>
<h3 id='method-favouritemanager-update'>Method: favouriteManager.update</h3><pre class="highlight swift tab-swift"><code><span class="kd">class</span> <span class="kt">FavouriteViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="k">let</span> <span class="nv">API_KEY</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">"your_api_key"</span>
    <span class="k">let</span> <span class="nv">ENVIRONMENT</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span>

    <span class="k">var</span> <span class="nv">mySession</span><span class="p">:</span> <span class="kt">RezolveSession</span><span class="p">?</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>

        <span class="k">self</span><span class="o">.</span><span class="n">mySession</span> <span class="o">=</span> <span class="o">...</span> <span class="c1">// initialize session</span>

        <span class="k">self</span><span class="o">.</span><span class="n">mySession</span><span class="p">?</span><span class="o">.</span><span class="n">favouriteManager</span><span class="o">.</span><span class="nf">get</span><span class="p">(</span><span class="nv">id</span><span class="p">:</span> <span class="s">"123"</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="nv">remoteFavourite</span><span class="p">:</span> <span class="kt">Favourite</span><span class="p">)</span> <span class="k">in</span>

            <span class="n">remoteFavourite</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="s">"555488888888"</span>

            <span class="k">self</span><span class="o">.</span><span class="n">mySession</span><span class="p">?</span><span class="o">.</span><span class="n">favouriteManager</span><span class="o">.</span><span class="nf">update</span><span class="p">(</span><span class="nv">favourite</span><span class="p">:</span> <span class="n">remoteFavourite</span><span class="p">)</span> <span class="p">{</span>
             <span class="p">(</span><span class="nv">remoteFavourite2</span><span class="p">:</span> <span class="kt">Favourite</span><span class="p">)</span> <span class="k">in</span>

                <span class="c1">//handle result</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight java tab-java"><code><span class="c1">// update favorite using FavouriteInterface</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Favorites</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="kd">implements</span> <span class="n">FavouriteInterface</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"your_api_key"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">ENVIRONMENT</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>

        <span class="n">FavouriteManager</span> <span class="n">myFavouriteManager</span> <span class="o">=</span> <span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span> 
        <span class="n">ENVIRONMENT</span><span class="o">).</span><span class="na">getRezolveSession</span><span class="o">().</span><span class="na">getFavouriteManager</span><span class="o">();</span>

        <span class="c1">// update a favourite</span>
        <span class="n">Favourite</span> <span class="n">favourite</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Favourite</span><span class="o">();</span>
        <span class="n">favourite</span><span class="o">.</span><span class="na">setProvider</span><span class="o">(</span><span class="s">"AT&amp;T"</span><span class="o">);</span>
        <span class="n">favourite</span><span class="o">.</span><span class="na">setType</span><span class="o">(</span><span class="s">"phone"</span><span class="o">);</span>
        <span class="n">favourite</span><span class="o">.</span><span class="na">setValue</span><span class="o">(</span><span class="s">"549912341234"</span><span class="o">);</span>
        <span class="n">myFavouriteManager</span><span class="o">.</span><span class="na">update</span><span class="o">(</span><span class="n">favourite</span><span class="o">,</span><span class="k">this</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onFavouriteUpdateSuccess</span><span class="o">(</span><span class="n">Favourite</span> <span class="n">favourite</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// show favourite updated message</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>Method signature: <code>session.favouriteManager.update( favourite, [callback or interface] )</code></p>

<p>You must pass in a valid <code>favourite</code> object with <code>id</code> populated.</p>

<p>The method returns the updated <code>favourite</code> object upon success.</p>
<h3 id='method-favouritemanager-delete'>Method: favouriteManager.delete</h3><pre class="highlight swift tab-swift"><code><span class="kd">class</span> <span class="kt">FavouriteViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="k">let</span> <span class="nv">API_KEY</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">"your_api_key"</span>
    <span class="k">let</span> <span class="nv">ENVIRONMENT</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span>

    <span class="k">var</span> <span class="nv">mySession</span><span class="p">:</span> <span class="kt">RezolveSession</span><span class="p">?</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>

        <span class="k">self</span><span class="o">.</span><span class="n">mySession</span> <span class="o">=</span> <span class="o">...</span> <span class="c1">// initialize session</span>

        <span class="k">self</span><span class="o">.</span><span class="n">mySession</span><span class="p">?</span><span class="o">.</span><span class="n">favouriteManager</span><span class="o">.</span><span class="nf">get</span><span class="p">(</span><span class="nv">id</span><span class="p">:</span> <span class="s">"123"</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="nv">remoteFavourite</span><span class="p">:</span> <span class="kt">Favourite</span><span class="p">)</span> <span class="k">in</span>

            <span class="k">self</span><span class="o">.</span><span class="n">mySession</span><span class="p">?</span><span class="o">.</span><span class="n">favouriteManager</span><span class="o">.</span><span class="nf">delete</span><span class="p">(</span><span class="nv">favourite</span><span class="p">:</span> <span class="n">remoteFavourite</span><span class="p">)</span> <span class="p">{</span> <span class="p">()</span> <span class="k">in</span>

                <span class="c1">//handle callback</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight java tab-java"><code><span class="c1">// delete favorite using FavouriteInterface</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Favorites</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="kd">implements</span> <span class="n">FavouriteInterface</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"your_api_key"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">ENVIRONMENT</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>

        <span class="n">FavouriteManager</span> <span class="n">myFavouriteManager</span> <span class="o">=</span> <span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span> 
        <span class="n">ENVIRONMENT</span><span class="o">).</span><span class="na">getRezolveSession</span><span class="o">().</span><span class="na">getFavouriteManager</span><span class="o">();</span>

        <span class="c1">// delete a favourite</span>
        <span class="n">Favourite</span> <span class="n">favourite</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Favourite</span><span class="o">();</span>
        <span class="n">favourite</span><span class="o">.</span><span class="na">setProvider</span><span class="o">(</span><span class="s">"AT&amp;T"</span><span class="o">);</span>
        <span class="n">favourite</span><span class="o">.</span><span class="na">setType</span><span class="o">(</span><span class="s">"phone"</span><span class="o">);</span>
        <span class="n">favourite</span><span class="o">.</span><span class="na">setValue</span><span class="o">(</span><span class="s">"549912341234"</span><span class="o">);</span>
        <span class="n">myFavouriteManager</span><span class="o">.</span><span class="na">delete</span><span class="o">(</span><span class="n">favourite</span><span class="o">,</span><span class="k">this</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onFavouriteDeleteSuccess</span><span class="o">(</span><span class="n">HttpResponse</span> <span class="n">httpResponse</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// show favourite deleted message</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>Method signature: <code>session.favouriteManager.delete( id, [callback or interface] )</code></p>

<p>You must pass in the <code>favourite</code> object to delete.</p>
<h3 id='method-favouritemanager-get'>Method: favouriteManager.get</h3><pre class="highlight swift tab-swift"><code><span class="kd">class</span> <span class="kt">FavouriteViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="k">let</span> <span class="nv">API_KEY</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">"your_api_key"</span>
    <span class="k">let</span> <span class="nv">ENVIRONMENT</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span>

    <span class="k">var</span> <span class="nv">mySession</span><span class="p">:</span> <span class="kt">RezolveSession</span><span class="p">?</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>

        <span class="k">self</span><span class="o">.</span><span class="n">mySession</span> <span class="o">=</span> <span class="o">...</span> <span class="c1">// initialize session</span>

        <span class="k">self</span><span class="o">.</span><span class="n">mySession</span><span class="p">?</span><span class="o">.</span><span class="n">favouriteManager</span><span class="o">.</span><span class="nf">get</span><span class="p">(</span><span class="nv">id</span><span class="p">:</span> <span class="s">"123"</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="nv">remoteFavourite</span><span class="p">:</span> <span class="kt">Favourite</span><span class="p">)</span> <span class="k">in</span>

            <span class="k">let</span> <span class="nv">favouriteId</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="n">remoteFavourite</span><span class="o">.</span><span class="n">id</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight java tab-java"><code><span class="c1">// get a favorite using FavouriteInterface</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Favorites</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="kd">implements</span> <span class="n">FavouriteInterface</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"your_api_key"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">ENVIRONMENT</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>

        <span class="n">FavouriteManager</span> <span class="n">myFavouriteManager</span> <span class="o">=</span> <span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span> 
        <span class="n">ENVIRONMENT</span><span class="o">).</span><span class="na">getRezolveSession</span><span class="o">().</span><span class="na">getFavouriteManager</span><span class="o">();</span>

        <span class="c1">// get a single favourite</span>
        <span class="n">String</span> <span class="n">favourite_id</span> <span class="o">=</span> <span class="s">"123"</span><span class="o">;</span>
        <span class="n">myFavouriteManager</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">favourite_id</span><span class="o">,</span><span class="k">this</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onFavouriteGetSuccess</span><span class="o">(</span><span class="n">Favourite</span> <span class="n">favourite</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// get favourite info</span>
        <span class="n">String</span> <span class="n">id</span> <span class="o">=</span> <span class="n">favourite</span><span class="o">.</span><span class="na">getId</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">provider</span> <span class="o">=</span> <span class="n">favourite</span><span class="o">.</span><span class="na">getProvider</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">type</span><span class="o">=</span> <span class="n">favourite</span><span class="o">.</span><span class="na">getType</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">value</span> <span class="o">=</span> <span class="n">favourite</span><span class="o">.</span><span class="na">getValue</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>Method signature: <code>session.favouriteManager.get( id, [callback or interface] )</code></p>

<p>You must pass in the <code>id</code> of the <code>favourite</code> to get.</p>

<p>The method returns an <code>favourite</code> object.</p>
<h3 id='method-favouritemanager-getall'>Method: favouriteManager.getAll</h3><pre class="highlight swift tab-swift"><code><span class="kd">class</span> <span class="kt">FavouriteViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="k">let</span> <span class="nv">API_KEY</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">"your_api_key"</span>
    <span class="k">let</span> <span class="nv">ENVIRONMENT</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span>

    <span class="k">var</span> <span class="nv">mySession</span><span class="p">:</span> <span class="kt">RezolveSession</span><span class="p">?</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>

        <span class="k">self</span><span class="o">.</span><span class="n">mySession</span> <span class="o">=</span> <span class="o">...</span> <span class="c1">// initialize session</span>

        <span class="k">self</span><span class="o">.</span><span class="n">mySession</span><span class="p">?</span><span class="o">.</span><span class="n">favouriteManager</span><span class="o">.</span><span class="nf">getAll</span><span class="p">()</span> <span class="p">{</span> <span class="p">(</span><span class="nv">listOfFavourites</span><span class="p">:</span> <span class="kt">Array</span><span class="o">&lt;</span><span class="kt">Favourite</span><span class="o">&gt;</span><span class="p">)</span> <span class="k">in</span>

            <span class="c1">//handle the results</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight java tab-java"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Favorites</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="kd">implements</span> <span class="n">FavouriteInterface</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"your_api_key"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">ENVIRONMENT</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>

        <span class="n">FavouriteManager</span> <span class="n">myFavouriteManager</span> <span class="o">=</span> <span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span> 
        <span class="n">ENVIRONMENT</span><span class="o">).</span><span class="na">getRezolveSession</span><span class="o">().</span><span class="na">getFavouriteManager</span><span class="o">();</span>

        <span class="c1">// list all favourites</span>
        <span class="n">myFavouriteManager</span><span class="o">.</span><span class="na">getAll</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onFavouriteGetAllSuccess</span><span class="o">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">Favourite</span><span class="o">&gt;</span> <span class="n">list</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// get favourite list info</span>
        <span class="k">for</span><span class="o">(</span><span class="n">Favourite</span> <span class="n">favourite</span> <span class="o">:</span> <span class="n">list</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">String</span> <span class="n">id</span> <span class="o">=</span> <span class="n">favourite</span><span class="o">.</span><span class="na">getId</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">provider</span> <span class="o">=</span> <span class="n">favourite</span><span class="o">.</span><span class="na">getProvider</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">type</span><span class="o">=</span> <span class="n">favourite</span><span class="o">.</span><span class="na">getType</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">value</span> <span class="o">=</span> <span class="n">favourite</span><span class="o">.</span><span class="na">getValue</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>Method signature: <code>session.favouriteManager.getAll( [callback or interface] )</code></p>

<p>The method returns an array of <code>favourite</code> objects.</p>

          <h2 id='module-phonebookmanager'>Module: PhonebookManager</h2>
<p>The PhonebookManager is an aggregate of Session.</p>

<p>This module provides CRUD functions for consumer phone numbers. The consumer may add one or more phone numbers to their account.</p>
<h3 id='method-phonebookmanager-create'>Method: phonebookManager.create</h3><pre class="highlight swift tab-swift"><code><span class="kt">TODO</span>
</code></pre><pre class="highlight java tab-java"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">phoneBook</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="kd">implements</span> <span class="n">PhonebookInterface</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"your_api_key"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">ENVIRONMENT</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>

        <span class="n">PhonebookManager</span> <span class="n">myPhonebookManager</span> <span class="o">=</span> <span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span> 
        <span class="n">ENVIRONMENT</span><span class="o">).</span><span class="na">getRezolveSession</span><span class="o">().</span><span class="na">getPhonebookManager</span><span class="o">();</span>

        <span class="n">Phone</span> <span class="n">phone</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Phone</span><span class="o">();</span>
        <span class="n">phone</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">"Home phone"</span><span class="o">);</span>
        <span class="n">phone</span><span class="o">.</span><span class="na">setPhone</span><span class="o">(</span><span class="s">"555-555-1212"</span><span class="o">);</span>

        <span class="n">myPhonebookManager</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">phone</span><span class="o">,</span> <span class="k">this</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onPhonebookCreateSuccess</span><span class="o">(</span><span class="n">Phone</span> <span class="n">phone</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">String</span> <span class="n">phoneId</span> <span class="o">=</span> <span class="n">phone</span><span class="o">.</span><span class="na">getId</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">phoneName</span> <span class="o">=</span> <span class="n">phone</span><span class="o">.</span><span class="na">getName</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">phoneNumber</span> <span class="o">=</span> <span class="n">phone</span><span class="o">.</span><span class="na">getPhone</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onFailure</span><span class="o">(</span><span class="n">HttpResponse</span> <span class="n">httpResponse</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// handle error</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>Method signature: <code>session.phonebookManager.create( phone, [callback or interface] )</code></p>

<p>You must pass in a valid <code>phone</code> object with the <code>id</code> field blank.</p>

<p>The method returns the created <code>phone</code> object with <code>id</code> upon success.</p>
<h4 id='phone-object'>phone Object</h4>
<table><thead>
<tr>
<th>field</th>
<th>format</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td>phoneId</td>
<td>auto-assigned string</td>
<td>123abc</td>
</tr>
<tr>
<td>phoneName</td>
<td>string</td>
<td>Home phone</td>
</tr>
<tr>
<td>phonePhone</td>
<td>string</td>
<td>+1(555)555-1212</td>
</tr>
</tbody></table>
<h3 id='method-phonebookmanager-update'>Method: phonebookManager.update</h3><pre class="highlight swift tab-swift"><code><span class="kt">TODO</span>
</code></pre><pre class="highlight java tab-java"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">phoneBook</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="kd">implements</span> <span class="n">PhonebookInterface</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"your_api_key"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">ENVIRONMENT</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>

        <span class="n">PhonebookManager</span> <span class="n">myPhonebookManager</span> <span class="o">=</span> <span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span>
        <span class="n">ENVIRONMENT</span><span class="o">).</span><span class="na">getRezolveSession</span><span class="o">().</span><span class="na">getPhonebookManager</span><span class="o">();</span>

        <span class="n">String</span> <span class="n">newNumber</span> <span class="o">=</span> <span class="s">"555-555-1313"</span><span class="o">;</span>
        <span class="n">phone</span><span class="o">.</span><span class="na">setId</span><span class="o">(</span><span class="s">"123"</span><span class="o">);</span>
        <span class="n">phone</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">"HomePhone"</span><span class="o">);</span>
        <span class="n">phone</span><span class="o">.</span><span class="na">setPhone</span><span class="o">(</span><span class="n">newNumber</span><span class="o">);</span>
        <span class="n">myPhonebookManager</span><span class="o">.</span><span class="na">update</span><span class="o">(</span><span class="n">phone</span><span class="o">,</span><span class="k">this</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onPhonebookUpdateSuccess</span><span class="o">(</span><span class="n">Phone</span> <span class="n">phone</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">String</span> <span class="n">phoneId</span> <span class="o">=</span> <span class="n">phone</span><span class="o">.</span><span class="na">getId</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">phoneName</span> <span class="o">=</span> <span class="n">phone</span><span class="o">.</span><span class="na">getName</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">phoneNumber</span> <span class="o">=</span> <span class="n">phone</span><span class="o">.</span><span class="na">getPhone</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onFailure</span><span class="o">(</span><span class="n">HttpResponse</span> <span class="n">httpResponse</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// handle error</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>Method signature: <code>session.phonebookManager.update( phone, [callback or interface] )</code></p>

<p>You must pass in a valid <code>phone</code> object with <code>id</code> populated.</p>

<p>The method returns the updated <code>phone</code> object upon success.</p>
<h3 id='method-phonebookmanager-delete'>Method: phonebookManager.delete</h3><pre class="highlight swift tab-swift"><code><span class="kt">TODO</span>
</code></pre><pre class="highlight java tab-java"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">phoneBook</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="kd">implements</span> <span class="n">PhonebookInterface</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"your_api_key"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">ENVIRONMENT</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>

        <span class="n">PhonebookManager</span> <span class="n">myPhonebookManager</span> <span class="o">=</span> <span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span> 
        <span class="n">ENVIRONMENT</span><span class="o">).</span><span class="na">getRezolveSession</span><span class="o">().</span><span class="na">getPhonebookManager</span><span class="o">();</span>

        <span class="n">Phone</span> <span class="n">phone</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Phone</span><span class="o">();</span>
        <span class="n">phone</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">"Home phone"</span><span class="o">);</span>
        <span class="n">phone</span><span class="o">.</span><span class="na">setPhone</span><span class="o">(</span><span class="s">"555-555-1212"</span><span class="o">);</span>

        <span class="n">myPhonebookManager</span><span class="o">.</span><span class="na">delete</span><span class="o">(</span><span class="n">phone</span><span class="o">,</span><span class="k">this</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onPhonebookDeleteSuccess</span><span class="o">(</span><span class="n">HttpResponse</span> <span class="n">httpResponse</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// display post-deletion confirmation</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onFailure</span><span class="o">(</span><span class="n">HttpResponse</span> <span class="n">httpResponse</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// handle error</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre>
<p>Method signature: <code>session.phonebookManager.delete( phone, [callback or interface] )</code></p>

<p>You must pass in the <code>phone</code> object to delete.</p>
<h3 id='method-phonebookmanager-get'>Method: phonebookManager.get</h3><pre class="highlight swift tab-swift"><code><span class="kt">TODO</span>
</code></pre><pre class="highlight java tab-java"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">phoneBook</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="kd">implements</span> <span class="n">PhonebookInterface</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"your_api_key"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">ENVIRONMENT</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>

        <span class="n">PhonebookManager</span> <span class="n">myPhonebookManager</span> <span class="o">=</span> <span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span> 
        <span class="n">ENVIRONMENT</span><span class="o">).</span><span class="na">getRezolveSession</span><span class="o">().</span><span class="na">getPhonebookManager</span><span class="o">();</span>

        <span class="n">myPhonebookManager</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onPhonebookGetSuccess</span><span class="o">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">Phone</span><span class="o">&gt;</span> <span class="n">list</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">for</span> <span class="o">(</span><span class="n">Phone</span> <span class="nl">phone:</span><span class="n">list</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">String</span> <span class="n">phoneId</span> <span class="o">=</span> <span class="n">phone</span><span class="o">.</span><span class="na">getId</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">phoneName</span> <span class="o">=</span> <span class="n">phone</span><span class="o">.</span><span class="na">getName</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">phoneNumber</span> <span class="o">=</span> <span class="n">phone</span><span class="o">.</span><span class="na">getPhone</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onFailure</span><span class="o">(</span><span class="n">HttpResponse</span> <span class="n">httpResponse</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// handle error</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>Method signature: <code>session.phonebookManager.get( [callback or interface] )</code></p>

<p>The method takes no parameters.</p>

<p>The method returns an array of <code>Phone</code> objects.</p>

          <h2 id='module-productmanager'>Module: ProductManager</h2>
<p>Shop is an aggregate of Session.</p>

<p>The Shop module offers methods specific to e-commerce; getting catalogs, products, and creating orders.</p>
<h3 id='method-getmerchants'>Method: getMerchants</h3><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">UIKit</span>
<span class="kd">import</span> <span class="kt">RezolveSDK</span>

<span class="kd">class</span> <span class="kt">ProductViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="k">let</span> <span class="nv">API_KEY</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">"your_api_key"</span>
    <span class="k">let</span> <span class="nv">ENVIRONMENT</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span>

    <span class="k">var</span> <span class="nv">mySession</span><span class="p">:</span> <span class="kt">RezolveSession</span><span class="p">?</span>

  <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>

      <span class="k">self</span><span class="o">.</span><span class="n">mySession</span> <span class="o">=</span> <span class="o">...</span> <span class="c1">// initialize session</span>

      <span class="k">self</span><span class="o">.</span><span class="n">mySession</span><span class="p">?</span><span class="o">.</span><span class="n">productManager</span><span class="o">.</span><span class="nf">getMerchants</span><span class="p">()</span> <span class="p">{</span> <span class="p">(</span><span class="nv">listOfMerchant</span><span class="p">:</span> <span class="kt">Array</span><span class="o">&lt;</span><span class="kt">Merchant</span><span class="o">&gt;</span><span class="p">)</span> <span class="k">in</span>

          <span class="n">listOfMerchant</span><span class="o">.</span><span class="nf">forEach</span><span class="p">()</span> <span class="p">{</span> <span class="p">(</span><span class="nv">merchant</span><span class="p">:</span> <span class="kt">Merchant</span><span class="p">)</span> <span class="k">in</span>

              <span class="k">let</span> <span class="nv">merchantId</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="n">merchant</span><span class="o">.</span><span class="n">id</span>
              <span class="k">let</span> <span class="nv">title</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="n">merchant</span><span class="o">.</span><span class="n">title</span>
          <span class="p">}</span>
      <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>

</code></pre><pre class="highlight java tab-java"><code><span class="c1">// get merchants using ProductInterface</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Products</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="kd">implements</span> <span class="n">ProductInterface</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"your_api_key"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">ENVIRONMENT</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
        <span class="n">ProductInterface</span> <span class="n">productInterface</span><span class="o">;</span>

        <span class="n">ProductManager</span> <span class="n">myProductManager</span> <span class="o">=</span> <span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span>
        <span class="n">ENVIRONMENT</span><span class="o">).</span><span class="na">getRezolveSession</span><span class="o">().</span><span class="na">getProductManager</span><span class="o">();</span>

        <span class="c1">// get merchants</span>
        <span class="n">myProductManager</span><span class="o">.</span><span class="na">getMerchants</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="k">new</span> <span class="n">ProductCallback</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onGetMerchantsSuccess</span><span class="o">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">Merchant</span><span class="o">&gt;</span> <span class="n">list</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">for</span><span class="o">(</span><span class="n">Merchant</span> <span class="n">merchant</span> <span class="o">:</span> <span class="n">list</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">String</span> <span class="n">merchant_id</span> <span class="o">=</span> <span class="n">merchant</span><span class="o">.</span><span class="na">getId</span><span class="o">();</span>
                    <span class="n">String</span> <span class="n">name</span> <span class="o">=</span> <span class="n">merchant</span><span class="o">.</span><span class="na">getName</span><span class="o">();</span>
                    <span class="n">String</span> <span class="n">tagline</span> <span class="o">=</span> <span class="n">merchant</span><span class="o">.</span><span class="na">getTagline</span><span class="o">();</span>
                    <span class="n">String</span> <span class="n">banner</span> <span class="o">=</span> <span class="n">merchant</span><span class="o">.</span><span class="na">getBanner</span><span class="o">();</span>
                    <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">bannerThumb</span> <span class="o">=</span> <span class="n">merchant</span><span class="o">.</span><span class="na">getBannerThumbs</span><span class="o">();</span>
                    <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">logoThumbs</span> <span class="o">=</span> <span class="n">merchant</span><span class="o">.</span><span class="na">getLogoThumbs</span><span class="o">();</span>
                <span class="o">}</span>
            <span class="o">}</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onFailure</span><span class="o">(</span><span class="n">HttpResponse</span> <span class="n">httpResponse</span><span class="o">)</span> <span class="o">{</span>
                <span class="c1">//handle error</span>
            <span class="o">}</span>
        <span class="o">});</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre>
<p>When calling getMerchants(), you must provide an implementation of ProductCallback as a parameter.</p>

<p>IOS Method signature: <code>session.getMerchants( [ProductCallback] )</code></p>

<p>Android Method signature: <code>session.getMerchants( Context, [ProductCallback] )</code></p>

<p>The method returns an array of <code>merchant</code> objects.</p>
<h4 id='merchant-object'>merchant Object</h4>
<table><thead>
<tr>
<th>field</th>
<th>format</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>brookstone</td>
</tr>
<tr>
<td>title</td>
<td>string</td>
<td>Brookstone</td>
</tr>
<tr>
<td>logo_url</td>
<td>string</td>
<td>http://domain.com/path/logo.jpg</td>
</tr>
<tr>
<td>image_url</td>
<td>string</td>
<td>http://domain.com/path/image.jpg</td>
</tr>
</tbody></table>

<p>How to use the returned images: the <code>image_url</code> is typically used as a header background, and the image represented by <code>logo_url</code> is overlaid on top.</p>
<h3 id='method-getcatgories'>Method: getCatgories</h3><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">UIKit</span>
<span class="kd">import</span> <span class="kt">RezolveSDK</span>

<span class="k">let</span> <span class="nv">MERCHANT_ID</span> <span class="o">=</span> <span class="s">"12"</span>
<span class="k">let</span> <span class="nv">CATEGORY_ID</span> <span class="o">=</span> <span class="kt">Int32</span><span class="p">(</span><span class="mi">70</span><span class="p">)</span>

<span class="kd">class</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>

        <span class="k">let</span> <span class="nv">sdk</span><span class="p">:</span> <span class="kt">RezolveSDK</span> <span class="o">=</span> <span class="kt">RezolveSDK</span><span class="p">(</span><span class="nv">apiKey</span><span class="p">:</span> <span class="kt">API_KEY</span><span class="p">,</span> <span class="nv">env</span><span class="p">:</span> <span class="kt">SDK_ENV</span><span class="p">)</span>

        <span class="k">let</span> <span class="nv">signUpRequest</span> <span class="o">=</span> <span class="nf">createSingUpRequest</span><span class="p">()</span>

        <span class="n">sdk</span><span class="o">.</span><span class="nf">registerUser</span><span class="p">(</span><span class="nv">request</span><span class="p">:</span> <span class="n">signUpRequest</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="nv">partnerId</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">entityId</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="k">in</span>

            <span class="n">sdk</span><span class="o">.</span><span class="nf">createSession</span><span class="p">(</span><span class="nv">entityId</span><span class="p">:</span> <span class="n">entityId</span><span class="p">,</span> <span class="nv">partnerId</span><span class="p">:</span> <span class="n">partnerId</span><span class="p">,</span> <span class="nv">device</span><span class="p">:</span> <span class="n">signUpRequest</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">session</span><span class="p">:</span> <span class="kt">RezolveSession</span><span class="p">)</span> <span class="k">in</span>

                <span class="n">session</span><span class="o">.</span><span class="n">productManager</span><span class="o">.</span><span class="nf">getCategories</span><span class="p">(</span><span class="nv">merchantId</span><span class="p">:</span> <span class="kt">MERCHANT_ID</span><span class="p">,</span> <span class="nv">categoryId</span><span class="p">:</span> <span class="kc">nil</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span>  <span class="p">{</span> <span class="n">category</span> <span class="k">in</span>



                <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span>

                    <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="c1">// handle error</span>

                <span class="p">})</span>
            <span class="p">})</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight java tab-java"><code><span class="c1">// get root category and first level child categories using ProductInterface</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Products</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="kd">implements</span> <span class="n">ProductInterface</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"your_api_key"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">ENVIRONMENT</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>

        <span class="n">ProductManager</span> <span class="n">myProductManager</span> <span class="o">=</span> <span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span> 
        <span class="n">ENVIRONMENT</span><span class="o">).</span><span class="na">getRezolveSession</span><span class="o">().</span><span class="na">getProductManager</span><span class="o">();</span>

        <span class="c1">// get categories</span>
        <span class="n">String</span> <span class="n">merchantId</span> <span class="o">=</span> <span class="s">"123"</span><span class="o">;</span>
        <span class="n">myProductManager</span><span class="o">.</span><span class="na">getCategories</span><span class="o">(</span><span class="n">merchantId</span><span class="o">,</span> <span class="k">this</span><span class="o">);</span>  <span class="c1">// "this" is productInterface</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onGetCategoriesSuccess</span><span class="o">(</span><span class="n">Category</span> <span class="n">category</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">String</span> <span class="n">category_id</span> <span class="o">=</span> <span class="n">category</span><span class="o">.</span><span class="na">getId</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">parentId</span> <span class="o">=</span> <span class="n">category</span><span class="o">.</span><span class="na">getParentId</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">name</span> <span class="o">=</span> <span class="n">category</span><span class="o">.</span><span class="na">getName</span><span class="o">();</span>
        <span class="n">Boolean</span> <span class="n">hascategories</span> <span class="o">=</span> <span class="n">category</span><span class="o">.</span><span class="na">hasCategories</span><span class="o">();</span>
        <span class="n">Boolean</span> <span class="n">hasProduct</span> <span class="o">=</span> <span class="n">category</span><span class="o">.</span><span class="na">hasProducts</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">image</span> <span class="o">=</span> <span class="n">category</span><span class="o">.</span><span class="na">getImage</span><span class="o">();</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">imageThumbs</span> <span class="o">=</span> <span class="n">category</span><span class="o">.</span><span class="na">getImageThumbs</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">catparentId</span> <span class="o">=</span> <span class="n">category</span><span class="o">.</span><span class="na">getParentId</span><span class="o">();</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">Category</span><span class="o">&gt;</span> <span class="n">children</span> <span class="o">=</span> <span class="n">category</span><span class="o">.</span><span class="na">getCategories</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>Method signature: <code>session.getCategories( merchant_id, [callback or interface] )</code></p>

<p>You must pass in the <code>id</code> of the <code>merchant</code> to whose categories you wish to get.</p>

<p>The method returns an array of <code>category</code> objects owned by a specific merchant.</p>

<p>This method returns the <em>root category</em> and <em>first level of child categories</em>.</p>
<h4 id='category-object'>category Object</h4>
<table><thead>
<tr>
<th>field</th>
<th>format</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>2</td>
</tr>
<tr>
<td>parent_id</td>
<td>string</td>
<td>1</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>Fitness Wear</td>
</tr>
<tr>
<td>has_products</td>
<td>boolean</td>
<td>true</td>
</tr>
<tr>
<td>has_categories</td>
<td>boolean</td>
<td>false</td>
</tr>
<tr>
<td>image</td>
<td>string</td>
<td>http://domain.com/path/image.jpg</td>
</tr>
<tr>
<td>imageThumbs</td>
<td>array of url strings</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>categoryParentId</td>
<td>string</td>
<td>123</td>
</tr>
<tr>
<td>categories</td>
<td>array of category objects</td>
<td>&nbsp;</td>
</tr>
</tbody></table>

<p>Notes:</p>

<p>If <code>has_categories</code> is <code>false</code>, the <code>categories</code> array should be empty.</p>

<p>If <code>has_products</code> is <code>true</code>, call <code>getProducts</code> with the category <code>id</code> to get a product list.</p>

<p>This method takes a category id, and returns <em>that category</em>, and <em>all its child categories</em>.</p>
<h3 id='method-getcategory'>Method: getCategory</h3><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">UIKit</span>
<span class="kd">import</span> <span class="kt">RezolveSDK</span>

<span class="k">let</span> <span class="nv">MERCHANT_ID</span> <span class="o">=</span> <span class="s">"12"</span>
<span class="k">let</span> <span class="nv">CATEGORY_ID</span> <span class="o">=</span> <span class="kt">Int32</span><span class="p">(</span><span class="mi">70</span><span class="p">)</span>

<span class="kd">class</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>

        <span class="k">let</span> <span class="nv">sdk</span><span class="p">:</span> <span class="kt">RezolveSDK</span> <span class="o">=</span> <span class="kt">RezolveSDK</span><span class="p">(</span><span class="nv">apiKey</span><span class="p">:</span> <span class="kt">API_KEY</span><span class="p">,</span> <span class="nv">env</span><span class="p">:</span> <span class="kt">SDK_ENV</span><span class="p">)</span>

        <span class="k">let</span> <span class="nv">signUpRequest</span> <span class="o">=</span> <span class="nf">createSingUpRequest</span><span class="p">()</span>

        <span class="n">sdk</span><span class="o">.</span><span class="nf">registerUser</span><span class="p">(</span><span class="nv">request</span><span class="p">:</span> <span class="n">signUpRequest</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="nv">partnerId</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">entityId</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="k">in</span>

            <span class="n">sdk</span><span class="o">.</span><span class="nf">createSession</span><span class="p">(</span><span class="nv">entityId</span><span class="p">:</span> <span class="n">entityId</span><span class="p">,</span> <span class="nv">partnerId</span><span class="p">:</span> <span class="n">partnerId</span><span class="p">,</span> <span class="nv">device</span><span class="p">:</span> <span class="n">signUpRequest</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">session</span><span class="p">:</span> <span class="kt">RezolveSession</span><span class="p">)</span> <span class="k">in</span>

                <span class="n">session</span><span class="o">.</span><span class="n">productManager</span><span class="o">.</span><span class="nf">getCategories</span><span class="p">(</span><span class="nv">merchantId</span><span class="p">:</span> <span class="kt">MERCHANT_ID</span><span class="p">,</span> <span class="nv">categoryId</span><span class="p">:</span> <span class="kt">CATEGORY_ID</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="n">category</span> <span class="k">in</span>


                <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span>

                    <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="c1">// handle error</span>
                <span class="p">})</span>
            <span class="p">})</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight java tab-java"><code><span class="c1">// get a single category using ProductInterface</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Products</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="kd">implements</span> <span class="n">ProductInterface</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"your_api_key"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">ENVIRONMENT</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>

        <span class="n">ProductManager</span> <span class="n">myProductManager</span> <span class="o">=</span> <span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span> 
        <span class="n">ENVIRONMENT</span><span class="o">).</span><span class="na">getRezolveSession</span><span class="o">().</span><span class="na">getProductManager</span><span class="o">();</span>

        <span class="c1">// get single category</span>
        <span class="n">String</span> <span class="n">categoryId</span> <span class="o">=</span> <span class="s">"123"</span><span class="o">;</span>
        <span class="n">String</span> <span class="n">merchantId</span> <span class="o">=</span> <span class="s">"123"</span><span class="o">;</span>
        <span class="n">myProductManager</span><span class="o">.</span><span class="na">getCategory</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">merchantId</span><span class="o">,</span> <span class="n">categoryId</span><span class="o">,</span> <span class="k">this</span><span class="o">);</span> <span class="c1">//first this is context, second this is productInterface</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onGetCategorySuccess</span><span class="o">(</span><span class="n">Category</span> <span class="n">category</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">String</span> <span class="n">category_id</span> <span class="o">=</span> <span class="n">category</span><span class="o">.</span><span class="na">getId</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">parentId</span> <span class="o">=</span> <span class="n">category</span><span class="o">.</span><span class="na">getParentId</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">name</span> <span class="o">=</span> <span class="n">category</span><span class="o">.</span><span class="na">getName</span><span class="o">();</span>
        <span class="n">Boolean</span> <span class="n">hasCategories</span> <span class="o">=</span> <span class="n">category</span><span class="o">.</span><span class="na">hasCategories</span><span class="o">();</span>
        <span class="n">Boolean</span> <span class="n">hasProduct</span> <span class="o">=</span> <span class="n">category</span><span class="o">.</span><span class="na">hasProducts</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">image</span> <span class="o">=</span> <span class="n">category</span><span class="o">.</span><span class="na">getImage</span><span class="o">();</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">imageThumbs</span> <span class="o">=</span> <span class="n">category</span><span class="o">.</span><span class="na">getImageThumbs</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">catParentId</span> <span class="o">=</span> <span class="n">category</span><span class="o">.</span><span class="na">getParentId</span><span class="o">();</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">Category</span><span class="o">&gt;</span> <span class="n">children</span> <span class="o">=</span> <span class="n">category</span><span class="o">.</span><span class="na">getCategories</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>IOS Method signature: <code>session.getCategory( merchant_id, category_id, [callback or interface] )</code></p>

<p>Android Method signature: <code>session.getCategory( context, merchant_id, category_id, [callback or interface] )</code></p>

<p>The method returns a <code>category</code> object.</p>

<aside class="notice">
Note: IOS uses the `getCatalogs` method to fetch both singular and multiple catalogs. To get all catalogs, simply set the `catalogId` to `nil`. To get a singular catalog, specify a `catalogId`.
</aside>
<h3 id='method-getproducts'>Method: getProducts</h3><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">UIKit</span>
<span class="kd">import</span> <span class="kt">RezolveSDK</span>

<span class="k">let</span> <span class="nv">MERCHANT_ID</span> <span class="o">=</span> <span class="s">"12"</span>
<span class="k">let</span> <span class="nv">CATEGORY_ID</span> <span class="o">=</span> <span class="kt">Int32</span><span class="p">(</span><span class="mi">102</span><span class="p">)</span>

<span class="kd">class</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>

        <span class="k">let</span> <span class="nv">sdk</span><span class="p">:</span> <span class="kt">RezolveSDK</span> <span class="o">=</span> <span class="kt">RezolveSDK</span><span class="p">(</span><span class="nv">apiKey</span><span class="p">:</span> <span class="kt">API_KEY</span><span class="p">,</span> <span class="nv">env</span><span class="p">:</span> <span class="kt">SDK_ENV</span><span class="p">)</span>

        <span class="k">let</span> <span class="nv">signUpRequest</span> <span class="o">=</span> <span class="nf">createSingUpRequest</span><span class="p">()</span>

        <span class="n">sdk</span><span class="o">.</span><span class="nf">registerUser</span><span class="p">(</span><span class="nv">request</span><span class="p">:</span> <span class="n">signUpRequest</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="nv">partnerId</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">entityId</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="k">in</span>

            <span class="n">sdk</span><span class="o">.</span><span class="nf">createSession</span><span class="p">(</span><span class="nv">entityId</span><span class="p">:</span> <span class="n">entityId</span><span class="p">,</span> <span class="nv">partnerId</span><span class="p">:</span> <span class="n">partnerId</span><span class="p">,</span> <span class="nv">device</span><span class="p">:</span> <span class="n">signUpRequest</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">session</span><span class="p">:</span> <span class="kt">RezolveSession</span><span class="p">)</span> <span class="k">in</span>

                <span class="k">let</span> <span class="nv">pageNavigation</span><span class="p">:</span> <span class="kt">PageNavigation</span> <span class="o">=</span> <span class="kt">PageNavigation</span><span class="p">(</span><span class="nv">count</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="nv">pageIndex</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nv">sortBy</span><span class="p">:</span> <span class="kc">nil</span><span class="p">,</span> <span class="nv">sort</span><span class="p">:</span> <span class="kt">PageNavigationSort</span><span class="o">.</span><span class="kt">ASC</span><span class="p">)</span>

                <span class="n">session</span><span class="o">.</span><span class="n">productManager</span><span class="o">.</span><span class="nf">getProducts</span><span class="p">(</span><span class="nv">merchantId</span><span class="p">:</span> <span class="kt">MERCHANT_ID</span><span class="p">,</span> <span class="nv">categoryId</span><span class="p">:</span> <span class="kt">CATEGORY_ID</span><span class="p">,</span> <span class="nv">pageNavigation</span><span class="p">:</span> <span class="n">pageNavigation</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">pageResult</span><span class="p">:</span> <span class="kt">PageResult</span><span class="o">&lt;</span><span class="kt">DisplayProduct</span><span class="o">&gt;</span><span class="p">)</span> <span class="k">in</span>

                    <span class="nf">print</span><span class="p">(</span><span class="n">pageResult</span><span class="o">.</span><span class="n">embedded</span><span class="o">.</span><span class="n">count</span><span class="p">)</span>

                <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span>

                    <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="c1">// handle error</span>
                <span class="p">})</span>
            <span class="p">})</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight java tab-java"><code><span class="c1">// get products using ProductInterface</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Products</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="kd">implements</span> <span class="n">ProductInterface</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"your_api_key"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">ENVIRONMENT</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>

        <span class="n">ProductManager</span> <span class="n">myProductManager</span> <span class="o">=</span> <span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span> 
        <span class="n">ENVIRONMENT</span><span class="o">).</span><span class="na">getRezolveSession</span><span class="o">().</span><span class="na">getProductManager</span><span class="o">();</span>

        <span class="c1">// get products</span>
        <span class="n">Integer</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">16</span><span class="o">;</span>
        <span class="n">Integer</span> <span class="n">page</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
        <span class="n">String</span> <span class="n">sort_by_field</span> <span class="o">=</span> <span class="s">"title"</span><span class="o">;</span>
        <span class="n">String</span> <span class="n">sort_direction</span> <span class="o">=</span> <span class="s">"ASC"</span><span class="o">;</span>
        <span class="n">String</span> <span class="n">merchantId3</span> <span class="o">=</span> <span class="s">"123"</span><span class="o">;</span>
        <span class="n">String</span> <span class="n">categoryId</span> <span class="o">=</span> <span class="s">"123"</span><span class="o">;</span>
        <span class="n">myProductManager</span><span class="o">.</span><span class="na">getProducts</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">merchantId3</span><span class="o">,</span> <span class="n">categoryId</span><span class="o">,</span> <span class="n">count</span><span class="o">,</span> <span class="n">page</span><span class="o">,</span> 
        <span class="n">sort_by_field</span><span class="o">,</span> <span class="n">sort_direction</span><span class="o">,</span> <span class="k">this</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onGetProductsSuccess</span><span class="o">(</span><span class="n">PageResult</span><span class="o">&lt;</span><span class="n">DisplayProduct</span><span class="o">&gt;</span> <span class="n">pageResult</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">Integer</span> <span class="n">count</span> <span class="o">=</span> <span class="n">pageResult</span><span class="o">.</span><span class="na">getCount</span><span class="o">();</span>
        <span class="n">Integer</span> <span class="n">total</span> <span class="o">=</span> <span class="n">pageResult</span><span class="o">.</span><span class="na">getTotal</span><span class="o">();</span>
        <span class="n">Link</span><span class="o">[]</span> <span class="n">links</span> <span class="o">=</span> <span class="n">pageResult</span><span class="o">.</span><span class="na">getLinks</span><span class="o">();</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">DisplayProduct</span><span class="o">&gt;</span> <span class="n">products</span> <span class="o">=</span> <span class="n">pageResult</span><span class="o">.</span><span class="na">getProducts</span><span class="o">();</span>

        <span class="k">for</span> <span class="o">(</span><span class="n">Link</span> <span class="nl">link:</span> <span class="n">links</span><span class="o">){</span>
            <span class="n">Integer</span> <span class="n">linkcount</span> <span class="o">=</span> <span class="n">link</span><span class="o">.</span><span class="na">getCount</span><span class="o">();</span>
            <span class="n">Integer</span> <span class="n">page</span> <span class="o">=</span> <span class="n">link</span><span class="o">.</span><span class="na">getPage</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">sort</span> <span class="o">=</span> <span class="n">link</span><span class="o">.</span><span class="na">getSort</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">sortBy</span> <span class="o">=</span> <span class="n">link</span><span class="o">.</span><span class="na">getSortBy</span><span class="o">();</span>
        <span class="o">}</span>

        <span class="k">for</span> <span class="o">(</span><span class="n">DisplayProduct</span> <span class="n">displayProduct</span> <span class="o">:</span> <span class="n">products</span><span class="o">){</span>
            <span class="n">String</span> <span class="n">id</span> <span class="o">=</span> <span class="n">displayProduct</span><span class="o">.</span><span class="na">getId</span><span class="o">();</span>
            <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">imageThumbs</span> <span class="o">=</span> <span class="n">displayProduct</span><span class="o">.</span><span class="na">getImageThumbs</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">image</span> <span class="o">=</span> <span class="n">displayProduct</span><span class="o">.</span><span class="na">getImage</span><span class="o">();</span>
            <span class="kt">float</span> <span class="n">price</span> <span class="o">=</span> <span class="n">displayProduct</span><span class="o">.</span><span class="na">getPrice</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">name</span> <span class="o">=</span> <span class="n">displayProduct</span><span class="o">.</span><span class="na">getName</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">categoryId</span> <span class="o">=</span> <span class="n">displayProduct</span><span class="o">.</span><span class="na">getCategoryId</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>IOS Method signature: <code>session.getProducts( merchant_id, category_id, pageNavigation, [callback or interface] )</code></p>

<p>Android Method signature: <code>session.getProducts( context, merchant_id, category_id, pageNavigation, [callback or interface] )</code></p>

<p>You must pass a <code>merchant_id</code>, <code>category_id</code>, and a <code>pageNavivation</code> object.</p>

<p>The method returns a <code>pageResult</code> object.</p>
<h4 id='pageresult-object'>pageResult Object</h4>
<p>pageResult is a generic object used for combining pagination info with an array of returned objects. In the case of getProducts, this is an array of DisplayProducts.</p>

<table><thead>
<tr>
<th>field</th>
<th>format</th>
<th>example</th>
<th>explanation</th>
</tr>
</thead><tbody>
<tr>
<td>links</td>
<td>object</td>
<td></td>
<td>object containing First, Next, Previous, Last links</td>
</tr>
<tr>
<td>count</td>
<td>integer</td>
<td>10</td>
<td>items per page, as requested in pageNavigation.count</td>
</tr>
<tr>
<td>total</td>
<td>integer</td>
<td>50</td>
<td>total items in SDKEntity array</td>
</tr>
<tr>
<td>SDKEntity</td>
<td>array</td>
<td></td>
<td>array of DisplayProduct objects</td>
</tr>
</tbody></table>
<h4 id='links-object'>links Object</h4>
<p>The links object controls pagignation and sorting of paginated results.</p>

<table><thead>
<tr>
<th>field</th>
<th>format</th>
<th>example</th>
<th>explanation</th>
</tr>
</thead><tbody>
<tr>
<td>count</td>
<td>integer</td>
<td>10</td>
<td>number of items per page</td>
</tr>
<tr>
<td>page</td>
<td>integer</td>
<td>1</td>
<td>what page of results you are requesting</td>
</tr>
<tr>
<td>sortBy</td>
<td>string</td>
<td>productName</td>
<td>must be a field of the pageResult &gt; SDKEntity object array (see below)</td>
</tr>
<tr>
<td>sort</td>
<td>enum</td>
<td>one of: ASC, DESC</td>
<td></td>
</tr>
</tbody></table>
<h4 id='displayproduct-object'>displayProduct Object</h4>
<p>The displayProduct object is used when rending a series of products. It contains a subset of the product object, suitable for displaying so the user can choose a product to view.</p>

<table><thead>
<tr>
<th>field</th>
<th>format</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>auto-populated string</td>
<td>123</td>
</tr>
<tr>
<td>categoryId</td>
<td>string</td>
<td>123</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Fitbit Charge 2</td>
</tr>
<tr>
<td>price</td>
<td>decimal</td>
<td>129.00</td>
</tr>
<tr>
<td>imageThumbs</td>
<td>array of thumbnail image urls (as strings)</td>
<td>http://domain.com/path/image.jpg</td>
</tr>
<tr>
<td>image</td>
<td>main product image url (as a string)</td>
<td>http://domain.com/path/image.jpg</td>
</tr>
</tbody></table>
<h3 id='method-getproduct'>Method: getProduct</h3><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">UIKit</span>
<span class="kd">import</span> <span class="kt">RezolveSDK</span>

<span class="k">let</span> <span class="nv">MERCHANT_ID</span> <span class="o">=</span> <span class="s">"12"</span>
<span class="k">let</span> <span class="nv">CATEGORY_ID</span> <span class="o">=</span> <span class="kt">Int32</span><span class="p">(</span><span class="mi">102</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">PRODUCT_ID</span> <span class="o">=</span> <span class="s">"6"</span>

<span class="kd">class</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>

        <span class="k">let</span> <span class="nv">sdk</span><span class="p">:</span> <span class="kt">RezolveSDK</span> <span class="o">=</span> <span class="kt">RezolveSDK</span><span class="p">(</span><span class="nv">apiKey</span><span class="p">:</span> <span class="kt">API_KEY</span><span class="p">,</span> <span class="nv">env</span><span class="p">:</span> <span class="kt">SDK_ENV</span><span class="p">)</span>

        <span class="k">let</span> <span class="nv">signUpRequest</span> <span class="o">=</span> <span class="nf">createSingUpRequest</span><span class="p">()</span>

        <span class="n">sdk</span><span class="o">.</span><span class="nf">registerUser</span><span class="p">(</span><span class="nv">request</span><span class="p">:</span> <span class="n">signUpRequest</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="nv">partnerId</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">entityId</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="k">in</span>

            <span class="n">sdk</span><span class="o">.</span><span class="nf">createSession</span><span class="p">(</span><span class="nv">entityId</span><span class="p">:</span> <span class="n">entityId</span><span class="p">,</span> <span class="nv">partnerId</span><span class="p">:</span> <span class="n">partnerId</span><span class="p">,</span> <span class="nv">device</span><span class="p">:</span> <span class="n">signUpRequest</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">session</span><span class="p">:</span> <span class="kt">RezolveSession</span><span class="p">)</span> <span class="k">in</span>

                <span class="n">session</span><span class="o">.</span><span class="n">productManager</span><span class="o">.</span><span class="nf">getProduct</span><span class="p">(</span><span class="nv">merchantId</span><span class="p">:</span> <span class="kt">MERCHANT_ID</span><span class="p">,</span> <span class="nv">categoryId</span><span class="p">:</span> <span class="kt">CATEGORY_ID</span><span class="p">,</span> <span class="nv">productId</span><span class="p">:</span> <span class="kt">PRODUCT_ID</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span>  <span class="p">{</span> <span class="p">(</span><span class="nv">product</span><span class="p">:</span> <span class="kt">Product</span><span class="p">)</span> <span class="k">in</span>



                <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span>

                    <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="c1">// handle error</span>
                <span class="p">})</span>
            <span class="p">})</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight java tab-java"><code><span class="c1">// get a single product using ProductInterface</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Products</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="kd">implements</span> <span class="n">ProductInterface</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"your_api_key"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">ENVIRONMENT</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>

        <span class="n">ProductManager</span> <span class="n">myProductManager</span> <span class="o">=</span> <span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span> 
        <span class="n">ENVIRONMENT</span><span class="o">).</span><span class="na">getRezolveSession</span><span class="o">().</span><span class="na">getProductManager</span><span class="o">();</span>

        <span class="c1">// get single product</span>
        <span class="n">Product</span> <span class="n">product</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Product</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">productId</span> <span class="o">=</span> <span class="s">"123abc"</span><span class="o">;</span>
        <span class="n">String</span> <span class="n">merchantId</span> <span class="o">=</span> <span class="s">"123"</span><span class="o">;</span>
        <span class="n">String</span> <span class="n">categoryId</span> <span class="o">=</span> <span class="s">"123"</span><span class="o">;</span>
        <span class="n">myProductManager</span><span class="o">.</span><span class="na">getProduct</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">merchantId</span><span class="o">,</span> <span class="n">categoryId3</span><span class="o">,</span> <span class="n">productId</span><span class="o">,</span> <span class="k">this</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onGetProductSuccess</span><span class="o">(</span><span class="n">com</span><span class="o">.</span><span class="na">rezolve</span><span class="o">.</span><span class="na">sdk</span><span class="o">.</span><span class="na">model</span><span class="o">.</span><span class="na">shop</span><span class="o">.</span><span class="na">Product</span> <span class="n">product</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// get product info</span>
        <span class="n">String</span> <span class="n">product_id</span> <span class="o">=</span> <span class="n">product</span><span class="o">.</span><span class="na">getId</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">title</span> <span class="o">=</span> <span class="n">product</span><span class="o">.</span><span class="na">getTitle</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">subtitle</span> <span class="o">=</span> <span class="n">product</span><span class="o">.</span><span class="na">getSubtitle</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">description</span> <span class="o">=</span> <span class="n">product</span><span class="o">.</span><span class="na">getDescription</span><span class="o">();</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">images</span> <span class="o">=</span> <span class="n">product</span><span class="o">.</span><span class="na">getImages</span><span class="o">();</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">[]&gt;</span> <span class="n">thumbs</span> <span class="o">=</span> <span class="n">product</span><span class="o">.</span><span class="na">getImageThumbs</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">merchant_id</span> <span class="o">=</span> <span class="n">product</span><span class="o">.</span><span class="na">getMerchantId</span><span class="o">();</span>
        <span class="kt">float</span> <span class="n">price</span> <span class="o">=</span> <span class="n">product</span><span class="o">.</span><span class="na">getPrice</span><span class="o">();</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">Option</span><span class="o">&gt;</span> <span class="n">options</span> <span class="o">=</span> <span class="n">product</span><span class="o">.</span><span class="na">getOptions</span><span class="o">();</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">Variant</span><span class="o">&gt;</span> <span class="n">optionsAvail</span> <span class="o">=</span> <span class="n">product</span><span class="o">.</span><span class="na">getOptionsAvailable</span><span class="o">();</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">CustomOption</span><span class="o">&gt;</span> <span class="n">customOptions</span> <span class="o">=</span> <span class="n">product</span><span class="o">.</span><span class="na">getCustomOptions</span><span class="o">();</span>


        <span class="c1">// iterate to get values of options list</span>
        <span class="k">for</span> <span class="o">(</span><span class="n">Option</span> <span class="n">option</span> <span class="o">:</span> <span class="n">options</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">String</span> <span class="n">optionLabel</span> <span class="o">=</span> <span class="n">option</span><span class="o">.</span><span class="na">getLabel</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">extraInfo</span> <span class="o">=</span> <span class="n">option</span><span class="o">.</span><span class="na">getExtraInfo</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">optionCode</span> <span class="o">=</span> <span class="n">option</span><span class="o">.</span><span class="na">getCode</span><span class="o">();</span>
            <span class="n">List</span><span class="o">&lt;</span><span class="n">OptionValue</span><span class="o">&gt;</span> <span class="n">optionValues</span> <span class="o">=</span> <span class="n">option</span><span class="o">.</span><span class="na">getValues</span><span class="o">();</span>

            <span class="k">for</span><span class="o">(</span><span class="n">OptionValue</span> <span class="nl">optionValue:</span> <span class="n">optionValues</span><span class="o">){</span>
                <span class="n">String</span> <span class="n">value</span> <span class="o">=</span> <span class="n">optionValue</span><span class="o">.</span><span class="na">getValue</span><span class="o">();</span>
                <span class="n">String</span> <span class="n">label</span> <span class="o">=</span> <span class="n">optionValue</span><span class="o">.</span><span class="na">getLabel</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">}</span>

        <span class="c1">// iterate to get values of variant list</span>
        <span class="k">for</span> <span class="o">(</span><span class="n">Variant</span> <span class="n">variant</span> <span class="o">:</span> <span class="n">optionsAvail</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">List</span><span class="o">&lt;</span><span class="n">Combination</span><span class="o">&gt;</span> <span class="n">combinations</span> <span class="o">=</span> <span class="n">variant</span><span class="o">.</span><span class="na">getCombinations</span><span class="o">();</span>
            <span class="c1">// iterate to get values of composition hashmap</span>
            <span class="k">for</span> <span class="o">(</span><span class="n">Combination</span> <span class="n">combination</span> <span class="o">:</span> <span class="n">combinations</span> <span class="o">){</span>
                <span class="n">String</span> <span class="n">comboValue</span> <span class="o">=</span> <span class="n">combination</span><span class="o">.</span><span class="na">getValue</span><span class="o">();</span>
                <span class="n">String</span> <span class="n">comboCode</span> <span class="o">=</span> <span class="n">combination</span><span class="o">.</span><span class="na">getCode</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">}</span>

        <span class="c1">//iterate to get values of CustomOptions list</span>
        <span class="k">for</span> <span class="o">(</span><span class="n">CustomOption</span> <span class="n">customOption</span> <span class="o">:</span> <span class="n">customOptions</span><span class="o">){</span>
            <span class="n">List</span><span class="o">&lt;</span><span class="n">CustomOptionValue</span><span class="o">&gt;</span> <span class="n">customOptionValues</span> <span class="o">=</span> <span class="n">customOption</span><span class="o">.</span><span class="na">getValues</span><span class="o">();</span>
            <span class="kt">int</span> <span class="n">customOptionId</span> <span class="o">=</span> <span class="n">customOption</span><span class="o">.</span><span class="na">getOptionId</span><span class="o">();</span>
            <span class="kt">int</span> <span class="n">customOptionSortOrder</span> <span class="o">=</span> <span class="n">customOption</span><span class="o">.</span><span class="na">getSortOrder</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">customOptiontitle</span> <span class="o">=</span> <span class="n">customOption</span><span class="o">.</span><span class="na">getTitle</span><span class="o">();</span>
            <span class="n">Boolean</span> <span class="n">customOptionIsRequired</span> <span class="o">=</span> <span class="n">customOption</span><span class="o">.</span><span class="na">isRequired</span><span class="o">();</span>

            <span class="c1">// iterate to get values of customOptionValues</span>
            <span class="k">for</span><span class="o">(</span> <span class="n">CustomOptionValue</span> <span class="n">customOptionValue</span> <span class="o">:</span> <span class="n">customOptionValues</span> <span class="o">){</span>
                <span class="n">String</span> <span class="n">customOptionValueTitle</span> <span class="o">=</span> <span class="n">customOptionValue</span><span class="o">.</span><span class="na">getTitle</span><span class="o">();</span>
                <span class="kt">int</span> <span class="n">customOptionValuesSortOrder</span> <span class="o">=</span> <span class="n">customOptionValue</span><span class="o">.</span><span class="na">getSortOrder</span><span class="o">();</span>
                <span class="n">String</span> <span class="n">customOptionValueId</span> <span class="o">=</span> <span class="n">customOptionValue</span><span class="o">.</span><span class="na">getValueId</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">}</span>

    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>IOS Method signature: <code>session.getProduct( merchant_id, catalog_id, product_id, [callback or interface] )</code></p>

<p>Android Method signature: <code>session.getProduct( context, merchant_id, catalog_id, product_id, [callback or interface] )</code></p>

<p>You must pass a <code>merchant_id</code>, <code>catalog_id</code>, and a <code>product_id</code>.</p>

<p>The method returns a <a href="#product-object"><code>product object</code></a> .</p>
<h4 id='product-object'>product Object</h4>
<p>The displayProduct object is used when rending a series of products. It contains a subset of the product object, suitable for displaying so the user can choose a product to view.</p>

<table><thead>
<tr>
<th>field</th>
<th>format</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>auto-populated string</td>
<td>123</td>
</tr>
<tr>
<td>merchant_id</td>
<td>string</td>
<td>brookstone</td>
</tr>
<tr>
<td>title</td>
<td>string</td>
<td>Fitbit Charge 2</td>
</tr>
<tr>
<td>subtitle</td>
<td>string</td>
<td>Heart Rate and Fitness Wristband</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>Make every beat count with Fitbit Charge 2 - a heart rate and fitness wristband that tracks activity, exercise and sleep, includes advanced fitness features and displays real-time stats on a large display.</td>
</tr>
<tr>
<td>price</td>
<td>decimal</td>
<td>129.00</td>
</tr>
<tr>
<td>images</td>
<td>array of image urls</td>
<td>http://domain.com/path/image.jpg</td>
</tr>
<tr>
<td>thumbs</td>
<td>array of thumbnail image url arrays.</td>
<td>[ http://domain.com/path/thumb400.jpg, http://domain.com/path/thumb800.jpg, http://domain.com/path/thumb1600.jpg ]</td>
</tr>
<tr>
<td>options</td>
<td>array of Option objects</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>optionAvailable</td>
<td>array of Variant objects</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>customOptions</td>
<td>array of customOption objects</td>
<td>&nbsp;</td>
</tr>
</tbody></table>
<h4 id='option-object'>option Object</h4>
<p>An option represents a choice. For example, Color or Size on a clothing item.</p>

<table><thead>
<tr>
<th>field</th>
<th>format</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td>label</td>
<td>string</td>
<td>Color</td>
</tr>
<tr>
<td>optionCode</td>
<td>string</td>
<td>color</td>
</tr>
<tr>
<td>extraInfo</td>
<td>string displayed to the user, provides additional info about the option</td>
<td>Color may differ from shown.</td>
</tr>
<tr>
<td>optionValues</td>
<td>array of optionValue objects</td>
<td>&nbsp;</td>
</tr>
</tbody></table>
<h4 id='optionvalue-object'>optionValue Object</h4>
<p>OptionValue objects are key/value pairs, each describing one choice within an option. For example, if the option is Color, you might have three optionValue objects, one for the red option, one for blue, and one for green.</p>

<table><thead>
<tr>
<th>field</th>
<th>format</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td>label</td>
<td>string</td>
<td>Red</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>5</td>
</tr>
</tbody></table>
<h4 id='variant-object'>variant Object</h4>
<table><thead>
<tr>
<th>field</th>
<th>format</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td>array of Combination objects</td>
<td>array</td>
<td>&nbsp;</td>
</tr>
</tbody></table>
<h4 id='combination-object'>combination Object</h4>
<p>A combination object represents one unique combination of options for this product. For example, if a shirt has 4 sizes, and 3 colors, it should have 12 combination objects (assuming all combinations are available). The number of key/value pairs in a combination object will vary, and is dependent upon the number of options in the product. A product with size, color, and pattern, would have three key/value pairs in each combination.</p>

<table><thead>
<tr>
<th>field</th>
<th>format</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>string</td>
<td>color</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>Red</td>
</tr>
</tbody></table>

<blockquote>
<p>Example data for a product with three sizes, one color:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"options_available"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"combination"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"colour"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Indigo"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"size"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"S"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"combination"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"colour"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Indigo"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"size"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XS"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"combination"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"colour"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Indigo"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"size"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"L"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span></code></pre><h4 id='customoption-object'>customOption Object</h4>
<table><thead>
<tr>
<th>field</th>
<th>format</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>123</td>
</tr>
<tr>
<td>sortOrder</td>
<td>integer</td>
<td>Items will be sorted sequentially by this integer. Example: 1 would come first, 2 next, etc.</td>
</tr>
<tr>
<td>title</td>
<td>string</td>
<td>Ring Size</td>
</tr>
<tr>
<td>isRequired</td>
<td>boolean</td>
<td>TRUE</td>
</tr>
<tr>
<td>customOptionValues</td>
<td>array of customOptionValue objects</td>
<td>&amp;nbsp:</td>
</tr>
</tbody></table>
<h4 id='customoptionvalue-object'>customOptionValue Object</h4>
<table><thead>
<tr>
<th>field</th>
<th>format</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>123</td>
</tr>
<tr>
<td>title</td>
<td>string</td>
<td>Size 7</td>
</tr>
<tr>
<td>sortOrder</td>
<td>integer</td>
<td>Items will be sorted sequentially by this integer. Exaple: 1 would come first, 2 next, etc.</td>
</tr>
</tbody></table>

          <h2 id='module-profilemanager'>Module: ProfileManager</h2>
<p>The ProfileManager is an aggregate of Session.</p>

<p>This module handles maintaining the consumer&#39;s contact information and device info.</p>
<h3 id='method-customerprofilemanager-get'>Method: customerProfileManager.get</h3><pre class="highlight swift tab-swift"><code>  <span class="kd">import</span> <span class="kt">UIKit</span>
  <span class="kd">import</span> <span class="kt">RezolveSDK</span>

  <span class="kd">class</span> <span class="kt">CustomerProfilerViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="k">let</span> <span class="nv">API_KEY</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">"your_api_key"</span>
    <span class="k">let</span> <span class="nv">ENVIRONMENT</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span>

    <span class="k">var</span> <span class="nv">mySession</span><span class="p">:</span> <span class="kt">RezolveSession</span><span class="p">?</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>

        <span class="k">self</span><span class="o">.</span><span class="n">mySession</span> <span class="o">=</span> <span class="o">...</span> <span class="c1">// initialize session</span>

        <span class="k">self</span><span class="o">.</span><span class="n">mySession</span><span class="p">?</span><span class="o">.</span><span class="n">customerProfileManager</span><span class="o">.</span><span class="nf">get</span><span class="p">(</span><span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> 
          <span class="p">(</span><span class="nv">customerProfile</span><span class="p">:</span><span class="kt">CustomerProfile</span><span class="p">)</span> <span class="k">in</span>

            <span class="k">let</span> <span class="nv">dateCreated</span><span class="p">:</span> <span class="kt">Date</span><span class="p">?</span>  <span class="o">=</span> <span class="n">customerProfile</span><span class="o">.</span><span class="n">dateCreated</span>
            <span class="k">let</span> <span class="nv">dateUpdated</span><span class="p">:</span> <span class="kt">Date</span><span class="p">?</span>  <span class="o">=</span> <span class="n">customerProfile</span><span class="o">.</span><span class="n">dateUpdated</span>
            <span class="k">let</span> <span class="nv">devices</span><span class="p">:</span> <span class="kt">Array</span><span class="o">&lt;</span><span class="kt">DeviceProfile</span><span class="o">&gt;</span><span class="p">?</span>  <span class="o">=</span> <span class="n">customerProfile</span><span class="o">.</span><span class="n">devices</span>
            <span class="k">let</span> <span class="nv">email</span><span class="p">:</span> <span class="kt">String</span>  <span class="o">=</span> <span class="n">customerProfile</span><span class="o">.</span><span class="n">email</span>
            <span class="k">let</span> <span class="nv">entityId</span><span class="p">:</span> <span class="kt">String</span>  <span class="o">=</span> <span class="n">customerProfile</span><span class="o">.</span><span class="n">entityId</span>
            <span class="k">let</span> <span class="nv">firstName</span><span class="p">:</span> <span class="kt">String</span><span class="p">?</span>  <span class="o">=</span> <span class="n">customerProfile</span><span class="o">.</span><span class="n">firstName</span>
            <span class="k">let</span> <span class="nv">lastName</span><span class="p">:</span> <span class="kt">String</span>  <span class="o">=</span> <span class="n">customerProfile</span><span class="o">.</span><span class="n">lastName</span>

            <span class="k">let</span> <span class="nv">name</span><span class="p">:</span> <span class="kt">String</span>  <span class="o">=</span> <span class="n">customerProfile</span><span class="o">.</span><span class="n">name</span>
            <span class="k">let</span> <span class="nv">timezone</span><span class="p">:</span> <span class="kt">String</span>  <span class="o">=</span> <span class="n">customerProfile</span><span class="o">.</span><span class="n">timezone</span>
            <span class="k">let</span> <span class="nv">title</span><span class="p">:</span> <span class="kt">String</span>  <span class="o">=</span> <span class="n">customerProfile</span><span class="o">.</span><span class="n">title</span>

        <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">errors</span><span class="p">:</span> <span class="kt">Array</span><span class="o">&lt;</span><span class="kt">HttpRequestError</span><span class="o">&gt;</span><span class="p">)</span> <span class="k">in</span>
            <span class="c1">// handle error</span>
        <span class="p">})</span>
    <span class="p">}</span>
  <span class="p">}</span>
</code></pre><pre class="highlight java tab-java"><code><span class="c1">// get using CustomerProfileInterface</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Profile</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="kd">implements</span> <span class="n">CustomerProfileInterface</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"your_api_key"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">ENVIRONMENT</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>

        <span class="n">CustomerProfileManager</span> <span class="n">myProfileManager</span> <span class="o">=</span> <span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span> 
        <span class="n">ENVIRONMENT</span><span class="o">).</span><span class="na">getRezolveSession</span><span class="o">().</span><span class="na">getCustomerProfileManager</span><span class="o">();</span>

        <span class="n">List</span><span class="o">&lt;</span><span class="n">DeviceProfile</span><span class="o">&gt;</span> <span class="n">devices</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">DeviceProfile</span><span class="o">&gt;();</span>

        <span class="c1">// get customer profile</span>
        <span class="n">myProfileManager</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onGetSuccess</span><span class="o">(</span><span class="n">CustomerProfile</span> <span class="n">customerProfile</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// access profile info</span>
        <span class="n">String</span> <span class="n">dateCreated</span> <span class="o">=</span> <span class="n">customerProfile</span><span class="o">.</span><span class="na">getDateCreated</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">dateUpdated</span> <span class="o">=</span> <span class="n">customerProfile</span><span class="o">.</span><span class="na">getDateUpdated</span><span class="o">();</span>
        <span class="n">List</span> <span class="n">devices</span> <span class="o">=</span> <span class="n">customerProfile</span><span class="o">.</span><span class="na">getDevices</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">email</span> <span class="o">=</span> <span class="n">customerProfile</span><span class="o">.</span><span class="na">getEmail</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">entityId</span> <span class="o">=</span> <span class="n">customerProfile</span><span class="o">.</span><span class="na">getEntityId</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">firstName</span> <span class="o">=</span> <span class="n">customerProfile</span><span class="o">.</span><span class="na">getFirstName</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">lastName</span> <span class="o">=</span> <span class="n">customerProfile</span><span class="o">.</span><span class="na">getLastName</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">locale</span> <span class="o">=</span> <span class="n">customerProfile</span><span class="o">.</span><span class="na">getLocale</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">name</span> <span class="o">=</span> <span class="n">customerProfile</span><span class="o">.</span><span class="na">getName</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">timezone</span> <span class="o">=</span> <span class="n">customerProfile</span><span class="o">.</span><span class="na">getTimezone</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">title</span> <span class="o">=</span> <span class="n">customerProfile</span><span class="o">.</span><span class="na">getTitle</span><span class="o">();</span>

        <span class="c1">// access device profile info</span>
        <span class="n">String</span> <span class="n">deviceId</span> <span class="o">=</span> <span class="n">customerProfile</span><span class="o">.</span><span class="na">getDevices</span><span class="o">().</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">).</span><span class="na">getDeviceId</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">make</span> <span class="o">=</span> <span class="n">customerProfile</span><span class="o">.</span><span class="na">getDevices</span><span class="o">().</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">).</span><span class="na">getMake</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">osType</span> <span class="o">=</span> <span class="n">customerProfile</span><span class="o">.</span><span class="na">getDevices</span><span class="o">().</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">).</span><span class="na">getOsType</span><span class="o">();</span>
        <span class="n">Integer</span> <span class="n">osVersion</span> <span class="o">=</span> <span class="n">customerProfile</span><span class="o">.</span><span class="na">getDevices</span><span class="o">().</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">).</span><span class="na">getOsVersion</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>


</code></pre>
<p>Method signature: <code>session.customerProfileManager.get( [callback or interface] )</code></p>

<p>No parameters are required to be passed in. The method always fetches the profile for the authenticated consumer.</p>

<p>The method returns a <code>customerProfile</code> object.</p>
<h4 id='customerprofile-object'>customerProfile Object</h4>
<table><thead>
<tr>
<th>field</th>
<th>format</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>auto-assigned string</td>
<td>123abc</td>
</tr>
<tr>
<td>entity_id</td>
<td>string</td>
<td>9310c880695c</td>
</tr>
<tr>
<td>title</td>
<td>string</td>
<td>Mr.</td>
</tr>
<tr>
<td>first_name</td>
<td>string</td>
<td>John</td>
</tr>
<tr>
<td>last_name</td>
<td>string</td>
<td>Doe</td>
</tr>
<tr>
<td>email</td>
<td>string</td>
<td>user@domain.com</td>
</tr>
<tr>
<td>timezone</td>
<td>string</td>
<td>Europe/London</td>
</tr>
<tr>
<td>date_created</td>
<td>long (unix timestamp)</td>
<td>1492805827</td>
</tr>
<tr>
<td>date_updated</td>
<td>long (unix timestamp)</td>
<td>1492805827</td>
</tr>
<tr>
<td>devices</td>
<td>array of deviceProfile objects</td>
<td></td>
</tr>
</tbody></table>
<h4 id='deviceprofile-object'>deviceProfile Object</h4>
<table><thead>
<tr>
<th>field</th>
<th>format</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>auto-assigned string</td>
<td>123abc</td>
</tr>
<tr>
<td>device_id</td>
<td>string</td>
<td>bd17391f9561</td>
</tr>
<tr>
<td>make</td>
<td>string</td>
<td>apple</td>
</tr>
<tr>
<td>os_type</td>
<td>string</td>
<td>iOS</td>
</tr>
<tr>
<td>os_version</td>
<td>int</td>
<td>10.3</td>
</tr>
<tr>
<td>locale</td>
<td>locale as a combination of ISO 639-1 language code and ISO 3166-1 country code</td>
<td>en_GB</td>
</tr>
</tbody></table>
<h3 id='method-customerprofilemanager-update'>Method: customerProfileManager.update</h3><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">UIKit</span>
<span class="kd">import</span> <span class="kt">RezolveSDK</span>

<span class="kd">class</span> <span class="kt">CustomerProfilerViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="k">let</span> <span class="nv">API_KEY</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">"your_api_key"</span>
    <span class="k">let</span> <span class="nv">ENVIRONMENT</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span>

    <span class="k">var</span> <span class="nv">mySession</span><span class="p">:</span> <span class="kt">RezolveSession</span><span class="p">?</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>

        <span class="c1">//self.mySession = ... // initialize session</span>

        <span class="k">self</span><span class="o">.</span><span class="n">mySession</span><span class="p">?</span><span class="o">.</span><span class="n">customerProfileManager</span><span class="o">.</span><span class="nf">get</span><span class="p">(</span><span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> 
         <span class="p">(</span><span class="nv">customerProfile</span><span class="p">:</span><span class="kt">CustomerProfile</span><span class="p">)</span> <span class="k">in</span>

            <span class="n">customerProfile</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">"Mary Doe"</span>

            <span class="k">self</span><span class="o">.</span><span class="n">mySession</span><span class="p">?</span><span class="o">.</span><span class="n">customerProfileManager</span><span class="o">.</span><span class="nf">update</span><span class="p">(</span> <span class="nv">customerProfile</span><span class="p">:</span> 
             <span class="n">customerProfile</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">remoteCustomerProfile</span><span class="p">:</span> <span class="kt">CustomerProfile</span><span class="p">)</span> <span class="k">in</span>

                <span class="c1">// handle result</span>
            <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">errors</span><span class="p">:</span> <span class="kt">Array</span><span class="o">&lt;</span><span class="kt">HttpRequestError</span><span class="o">&gt;</span><span class="p">)</span> <span class="k">in</span>

                <span class="c1">// handle errors</span>
            <span class="p">})</span>

        <span class="p">},</span> <span class="nv">errorCallback</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">errors</span><span class="p">:</span> <span class="kt">Array</span><span class="o">&lt;</span><span class="kt">HttpRequestError</span><span class="o">&gt;</span><span class="p">)</span> <span class="k">in</span>

            <span class="c1">// handle error</span>
        <span class="p">})</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight java tab-java"><code><span class="c1">// update using CustomerProfileInterface</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Profile</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="kd">implements</span> <span class="n">CustomerProfileInterface</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"your_api_key"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">ENVIRONMENT</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>

        <span class="n">CustomerProfileManager</span> <span class="n">myProfileManager</span> <span class="o">=</span> <span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span> 
         <span class="n">ENVIRONMENT</span><span class="o">).</span><span class="na">getRezolveSession</span><span class="o">().</span><span class="na">getCustomerProfileManager</span><span class="o">();</span>


        <span class="c1">//update customer profile</span>
        <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"1234567890"</span><span class="o">;</span>
        <span class="n">String</span> <span class="n">deviceId</span> <span class="o">=</span> <span class="s">"62c7c7042511c086"</span><span class="o">;</span>
        <span class="n">String</span> <span class="n">deviceManufacturer</span> <span class="o">=</span> <span class="s">"HTC"</span><span class="o">;</span>
        <span class="n">String</span> <span class="n">locale</span> <span class="o">=</span> <span class="s">"en-US"</span><span class="o">;</span>
        <span class="n">DeviceProfile</span> <span class="n">deviceProfile</span> <span class="o">=</span> <span class="k">new</span> <span class="n">DeviceProfile</span><span class="o">(</span><span class="n">deviceId</span><span class="o">,</span> <span class="n">deviceManufacturer</span><span class="o">,</span> <span class="n">locale</span><span class="o">);</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">DeviceProfile</span><span class="o">&gt;</span> <span class="n">devices</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">DeviceProfile</span><span class="o">&gt;();</span>
        <span class="n">devices</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">deviceProfile</span><span class="o">);</span>

        <span class="n">CustomerProfile</span> <span class="n">profile</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CustomerProfile</span><span class="o">();</span>
        <span class="n">profile</span><span class="o">.</span><span class="na">setDevices</span><span class="o">(</span><span class="n">devices</span><span class="o">);</span>
        <span class="n">profile</span><span class="o">.</span><span class="na">setEmail</span><span class="o">(</span><span class="s">"johndoe@gmail.com"</span><span class="o">);</span>
        <span class="n">profile</span><span class="o">.</span><span class="na">setEntityId</span><span class="o">(</span><span class="s">"123"</span><span class="o">);</span>
        <span class="n">profile</span><span class="o">.</span><span class="na">setFirstName</span><span class="o">(</span><span class="s">"John"</span><span class="o">);</span>
        <span class="n">profile</span><span class="o">.</span><span class="na">setLastName</span><span class="o">(</span><span class="s">"Doe"</span><span class="o">);</span>
        <span class="n">profile</span><span class="o">.</span><span class="na">setLocale</span><span class="o">(</span><span class="s">"en-US"</span><span class="o">);</span>
        <span class="n">profile</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">"John Doe"</span><span class="o">);</span>
        <span class="n">profile</span><span class="o">.</span><span class="na">setTimezone</span><span class="o">(</span><span class="s">"America/New_York"</span><span class="o">);</span>
        <span class="n">profile</span><span class="o">.</span><span class="na">setTitle</span><span class="o">(</span><span class="s">"Mr."</span><span class="o">);</span>

        <span class="n">myProfileManager</span><span class="o">.</span><span class="na">update</span><span class="o">(</span><span class="n">profile</span><span class="o">,</span> <span class="k">this</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onUpdateSuccess</span><span class="o">(</span><span class="n">CustomerProfile</span> <span class="n">customerProfile</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// show success message</span>
    <span class="o">}</span>

<span class="o">}</span>

</code></pre>
<p>Method signature: <code>session.customerProfileManager.update( customerProfile, [callback or interface] )</code></p>

<p>The profile update method works only for the updating of consumer personal data. Device profiles and date stamps are not editable.</p>

<p>A full <code>customerProfile</code> object must be supplied.</p>

<p>The modified <code>customerProfile</code> object is returned upon success.</p>

          <h2 id='module-scanmanager'>Module: ScanManager</h2><pre class="highlight java tab-java"><code><span class="c1">//</span>
<span class="c1">// contents of scan_activity.xml</span>
<span class="c1">//</span>

<span class="o">&lt;?</span><span class="n">xml</span> <span class="n">version</span><span class="o">=</span><span class="s">"1.0"</span> <span class="n">encoding</span><span class="o">=</span><span class="s">"utf-8"</span><span class="o">?&gt;</span>
<span class="o">&lt;</span><span class="n">RelativeLayout</span>
    <span class="nl">xmlns:</span><span class="n">android</span><span class="o">=</span><span class="s">"http://schemas.android.com/apk/res/android"</span>
    <span class="nl">xmlns:</span><span class="n">tools</span><span class="o">=</span><span class="s">"http://schemas.android.com/tools"</span>
    <span class="nl">android:</span><span class="n">layout_width</span><span class="o">=</span><span class="s">"match_parent"</span>
    <span class="nl">android:</span><span class="n">layout_height</span><span class="o">=</span><span class="s">"match_parent"</span>
    <span class="nl">tools:</span><span class="n">context</span><span class="o">=</span><span class="s">".ScanActivity"</span>
    <span class="nl">android:</span><span class="n">padding</span><span class="o">=</span><span class="s">"10dp"</span><span class="o">&gt;</span>

    <span class="c1">//this is the video scan UI component</span>
    <span class="o">&lt;</span><span class="n">com</span><span class="o">.</span><span class="na">rezolve</span><span class="o">.</span><span class="na">sdk</span><span class="o">.</span><span class="na">views</span><span class="o">.</span><span class="na">RezolveScanView</span>
        <span class="nl">android:</span><span class="n">id</span><span class="o">=</span><span class="s">"@+id/scan_view"</span>
        <span class="nl">android:</span><span class="n">layout_width</span><span class="o">=</span><span class="s">"300dp"</span>
        <span class="nl">android:</span><span class="n">layout_height</span><span class="o">=</span><span class="s">"300dp"</span>
        <span class="nl">android:</span><span class="n">layout_centerHorizontal</span><span class="o">=</span><span class="s">"true"</span>
        <span class="nl">android:</span><span class="n">layout_below</span><span class="o">=</span><span class="s">"@id/start_video_scan"</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">com</span><span class="o">.</span><span class="na">rezolve</span><span class="o">.</span><span class="na">sdk</span><span class="o">.</span><span class="na">views</span><span class="o">.</span><span class="na">RezolveScanView</span><span class="o">&gt;</span>

    <span class="c1">// this is the audio scan UI component</span>
    <span class="o">&lt;</span><span class="n">com</span><span class="o">.</span><span class="na">rezolve</span><span class="o">.</span><span class="na">sdk</span><span class="o">.</span><span class="na">views</span><span class="o">.</span><span class="na">RezolveAudioVizualizationView</span>
        <span class="nl">android:</span><span class="n">id</span><span class="o">=</span><span class="s">"@+id/visualizer"</span>
        <span class="nl">android:</span><span class="n">layout_width</span><span class="o">=</span><span class="s">"match_parent"</span>
        <span class="nl">android:</span><span class="n">layout_height</span><span class="o">=</span><span class="s">"60dp"</span>
        <span class="nl">android:</span><span class="n">layout_below</span><span class="o">=</span><span class="s">"@+id/scan_view"</span>
        <span class="nl">android:</span><span class="n">layout_marginTop</span><span class="o">=</span><span class="s">"1dp"</span>
        <span class="nl">android:</span><span class="n">background</span><span class="o">=</span><span class="s">"#000000"</span>
        <span class="nl">android:</span><span class="n">layerType</span><span class="o">=</span><span class="s">"hardware"</span> <span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">com</span><span class="o">.</span><span class="na">rezolve</span><span class="o">.</span><span class="na">sdk</span><span class="o">.</span><span class="na">views</span><span class="o">.</span><span class="na">RezolveAudioVizualizationView</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">RelativeLayout</span><span class="o">&gt;</span>

</code></pre>
<p>ScanManager is different than other Managers as it relies on a user interface component.</p>
<h3 id='methods-startvideoscan-stopvideoscan'>Methods: startVideoScan, stopVideoScan</h3><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">UIKit</span>
<span class="kd">import</span> <span class="kt">RezolveSDK</span>

<span class="kd">class</span> <span class="kt">ScanManagerViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>
    <span class="kd">@IBOutlet</span> <span class="k">var</span> <span class="nv">scanCameraView</span><span class="p">:</span> <span class="kt">ScanCameraView</span><span class="p">?</span>
    <span class="k">var</span> <span class="nv">mySession</span><span class="p">:</span> <span class="kt">RezolveSession</span><span class="p">?</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>
        <span class="c1">//self.mySession = ... // initialize session</span>
        <span class="k">let</span> <span class="nv">scanManager</span> <span class="o">=</span> <span class="k">self</span><span class="o">.</span><span class="n">mySession</span><span class="p">?</span><span class="o">.</span><span class="nf">getScanManager</span><span class="p">()</span>
        <span class="n">scanManager</span><span class="p">?</span><span class="o">.</span><span class="n">productResultDelegate</span> <span class="o">=</span> <span class="k">self</span>
        <span class="n">scanManager</span><span class="p">?</span><span class="o">.</span><span class="n">rezolveScanResultDelegate</span> <span class="o">=</span> <span class="k">self</span>

        <span class="n">scanManager</span><span class="p">?</span><span class="o">.</span><span class="nf">startVideoScan</span><span class="p">(</span><span class="nv">scanCameraView</span><span class="p">:</span> <span class="k">self</span><span class="o">.</span><span class="n">scanCameraView</span><span class="o">!</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">override</span> <span class="kd">func</span> <span class="nf">didReceiveMemoryWarning</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">didReceiveMemoryWarning</span><span class="p">()</span>
        <span class="n">scanManager</span><span class="p">?</span><span class="o">.</span><span class="nf">stop</span><span class="p">()</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">extension</span> <span class="kt">ScanManagerViewController</span> <span class="p">:</span> <span class="kt">ProductDelegate</span><span class="p">,</span> <span class="kt">RezolveScanResultDelegate</span> <span class="p">{</span>

    <span class="c1">// in response to a scan, the following methods may be called:</span>
    <span class="c1">//</span>
    <span class="c1">// resultDidFetched   - fires when a scannable asset has been recognized.</span>
    <span class="c1">// productDidFetched  - fires if the asset is recognized as a product link</span>
    <span class="c1">// errorHappened      - fires if asset is recognized, but cannot be decoded (for</span>
    <span class="c1">//                      example, due to network error)</span>
    <span class="c1">//</span>

    <span class="kd">public</span> <span class="kd">func</span> <span class="nf">resultDidFetched</span><span class="p">(</span><span class="nv">result</span><span class="p">:</span> <span class="kt">RezolveScanResult</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// handle valid scan result</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="kd">func</span> <span class="nf">productDidFetched</span><span class="p">(</span><span class="nv">product</span><span class="p">:</span> <span class="kt">Product</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// handle product</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="kd">func</span> <span class="nf">errorHappened</span><span class="p">(</span><span class="nv">error</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// handle error result</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight java tab-java"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">ScanActivity</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="kd">implements</span> <span class="n">ScanManagerInterface</span><span class="o">,</span> <span class="n">View</span><span class="o">.</span><span class="na">OnClickListener</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"your_api_key"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">ENVIRONMENT</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span><span class="o">;</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">TAG</span> <span class="o">=</span> <span class="n">ScanActivity</span><span class="o">.</span><span class="na">class</span><span class="o">.</span><span class="na">getSimpleName</span><span class="o">();</span>
    <span class="kd">private</span> <span class="n">ScanManager</span> <span class="n">scanManager</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">RezolveScanView</span> <span class="n">rezolveScanView</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">RezolveAudioVizualizationView</span> <span class="n">rezolveAudioVizualizationView</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
        <span class="c1">// set the content view</span>
        <span class="n">setContentView</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">scan_activity</span><span class="o">);</span>
        <span class="c1">// reference our scan_view</span>
        <span class="n">rezolveScanView</span> <span class="o">=</span> <span class="o">(</span><span class="n">RezolveScanView</span><span class="o">)</span><span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">scan_view</span><span class="o">);</span>
        <span class="c1">// initialize scan manager</span>
        <span class="n">scanManager</span> <span class="o">=</span> <span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span> <span class="n">ENVIRONMENT</span><span class="o">)</span>
            <span class="o">.</span><span class="na">getRezolveSession</span><span class="o">().</span><span class="na">getScanManager</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>

        <span class="c1">// use startVideo to begin watching for scannable media</span>
        <span class="n">scanManager</span><span class="o">.</span><span class="na">startVideoScan</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">rezolveScanView</span><span class="o">);</span>
        <span class="c1">// when done, call stopVideoScan</span>
        <span class="n">scanManager</span><span class="o">.</span><span class="na">stopVideoScan</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="c1">// in response to a scan, the following methods may be called:</span>
    <span class="c1">//</span>
    <span class="c1">// processingStarted  - fires when a scannable asset has been recognized.</span>
    <span class="c1">// onProductResult    - fires if the asset is recognized as a product link</span>
    <span class="c1">// onRezolveResult    - fires if the asset is some other type the SDK can handle,</span>
    <span class="c1">//                      like a tollway transponder barcode</span>
    <span class="c1">// onScanError        - fires if asset is recognized, but cannot be decoded (for</span>
    <span class="c1">//                      example, due to network error)</span>
    <span class="c1">// processingFinished - fires when asset recognition is finished</span>
    <span class="c1">//</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">processingStarted</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">Log</span><span class="o">.</span><span class="na">d</span><span class="o">(</span><span class="n">TAG</span><span class="o">,</span> <span class="s">"processingStarted"</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="c1">// if scan media contains a product link, onProductResult fires and</span>
    <span class="c1">// returns a Product object</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onProductResult</span><span class="o">(</span><span class="n">Product</span> <span class="n">product</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// get product info</span>
        <span class="n">String</span> <span class="n">product_id</span> <span class="o">=</span> <span class="n">product</span><span class="o">.</span><span class="na">getId</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">title</span> <span class="o">=</span> <span class="n">product</span><span class="o">.</span><span class="na">getTitle</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">subtitle</span> <span class="o">=</span> <span class="n">product</span><span class="o">.</span><span class="na">getSubtitle</span><span class="o">();</span>
        <span class="c1">// ... etc</span>
    <span class="o">}</span>

    <span class="c1">// if scan media contains a category link, onCategoryResult fires and</span>
    <span class="c1">// returns a Category object</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCategoryResult</span><span class="o">(</span><span class="n">Category</span> <span class="n">category</span><span class="o">,</span> <span class="n">String</span> <span class="n">s</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">String</span> <span class="n">categoryId</span> <span class="o">=</span> <span class="n">category</span><span class="o">.</span><span class="na">getId</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">categoryParentId</span> <span class="o">=</span> <span class="n">category</span><span class="o">.</span><span class="na">getParentId</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">categoryName</span> <span class="o">=</span> <span class="n">category</span><span class="o">.</span><span class="na">getName</span><span class="o">();</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">categoryImageThumbs</span> <span class="o">=</span> <span class="n">category</span><span class="o">.</span><span class="na">getImageThumbs</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">categoryImage</span> <span class="o">=</span> <span class="n">category</span><span class="o">.</span><span class="na">getImage</span><span class="o">();</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">Category</span><span class="o">&gt;</span> <span class="n">categoryChildren</span> <span class="o">=</span> <span class="n">category</span><span class="o">.</span><span class="na">getCategories</span><span class="o">();</span>
        <span class="n">Boolean</span> <span class="n">hasCategories</span> <span class="o">=</span> <span class="n">category</span><span class="o">.</span><span class="na">hasCategories</span><span class="o">();</span>
        <span class="n">Boolean</span> <span class="n">hasProduct</span> <span class="o">=</span> <span class="n">category</span><span class="o">.</span><span class="na">hasProducts</span><span class="o">();</span>
    <span class="o">}</span>


    <span class="c1">// if scan media is another recognized format, onRezolveResult fires and</span>
    <span class="c1">// returns a RezolveScanResult object. Inspect the object to get the</span>
    <span class="c1">// payload.</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onRezolveResult</span><span class="o">(</span><span class="n">RezolveScanResult</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">Log</span><span class="o">.</span><span class="na">d</span><span class="o">(</span><span class="n">TAG</span><span class="o">,</span> <span class="s">"Scan success! "</span><span class="o">+</span><span class="n">result</span><span class="o">.</span><span class="na">mContent</span><span class="o">);</span>
        <span class="n">String</span> <span class="n">content</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="na">mContent</span><span class="o">;</span>
        <span class="n">String</span> <span class="n">description</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="na">mDescription</span><span class="o">;</span>
        <span class="n">Bitmap</span> <span class="n">bitmap</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="na">mBitmap</span><span class="o">;</span>
        <span class="n">String</span> <span class="n">payloadId</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="na">mPayloadId</span><span class="o">;</span>
        <span class="n">String</span> <span class="n">reportActionToken</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="na">mReportActionToken</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onScanError</span><span class="o">(</span><span class="n">String</span> <span class="n">errorTitle</span><span class="o">,</span> <span class="n">String</span> <span class="n">errorMsg</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// display scan error notification</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">processingFinished</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">Log</span><span class="o">.</span><span class="na">d</span><span class="o">(</span><span class="n">TAG</span><span class="o">,</span> <span class="s">"processingFinished"</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>Starts/stops watching the camera video stream to look for tagged media, qr codes, and barcodes.</p>

<p>Method signature: <code>session.scanManager.startVideoScan()</code></p>

<p>Method signature: <code>session.scanManager.stopVideoScan()</code></p>
<h3 id='methods-startaudioscan-stopaudioscan'>Methods: startAudioScan, stopAudioScan</h3><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">UIKit</span>
<span class="kd">import</span> <span class="kt">RezolveSDK</span>

<span class="kd">class</span> <span class="kt">ScanManagerViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">mySession</span><span class="p">:</span> <span class="kt">RezolveSession</span><span class="p">?</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>
        <span class="c1">//self.mySession = ... // initialize session</span>
        <span class="k">let</span> <span class="nv">scanManager</span> <span class="o">=</span> <span class="k">self</span><span class="o">.</span><span class="n">mySession</span><span class="p">?</span><span class="o">.</span><span class="nf">getScanManager</span><span class="p">()</span>
        <span class="n">scanManager</span><span class="p">?</span><span class="o">.</span><span class="n">productResultDelegate</span> <span class="o">=</span> <span class="k">self</span>
        <span class="n">scanManager</span><span class="p">?</span><span class="o">.</span><span class="n">rezolveScanResultDelegate</span> <span class="o">=</span> <span class="k">self</span>

        <span class="n">scanManager</span><span class="p">?</span><span class="o">.</span><span class="nf">startAudioScan</span><span class="p">()</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">extension</span> <span class="kt">ScanManagerViewController</span> <span class="p">:</span> <span class="kt">ProductDelegate</span><span class="p">,</span> <span class="kt">RezolveScanResultDelegate</span> <span class="p">{</span>
    <span class="c1">// in response to a scan, the same methods may be called as with .startVideoScan</span>
<span class="p">}</span>
</code></pre><pre class="highlight java tab-java"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">ScanActivity</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="kd">implements</span> <span class="n">ScanManagerInterface</span> <span class="o">{</span>
    <span class="c1">// same vars as above</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
        <span class="c1">// set the content view</span>
        <span class="n">setContentView</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">scan_activity</span><span class="o">);</span>
        <span class="c1">// reference our scan_view</span>
        <span class="n">rezolveScanView</span> <span class="o">=</span> <span class="o">(</span><span class="n">RezolveScanView</span><span class="o">)</span><span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">scan_view</span><span class="o">);</span>
        <span class="c1">// initialize scan manager</span>
        <span class="n">scanManager</span> <span class="o">=</span> <span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span> <span class="n">RezolveSDK</span><span class="o">.</span><span class="na">Env</span><span class="o">.</span><span class="na">SANDBOX</span><span class="o">)</span>
                <span class="o">.</span><span class="na">getRezolveSession</span><span class="o">().</span><span class="na">getScanManager</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>

        <span class="c1">// use startAudioScan to being listening for watermarked media</span>
        <span class="n">scanManager</span><span class="o">.</span><span class="na">startAudioScan</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">rezolveAudioVizualizationView</span><span class="o">);</span>
        <span class="c1">// use stopAudioScan to cease listening.</span>
        <span class="n">scanManager</span><span class="o">.</span><span class="na">stopAudioScan</span><span class="o">();</span>
    <span class="o">}</span>
    <span class="c1">// the same response methods apply to AudioScan as VideoScan. See above.</span>
<span class="o">}</span>
</code></pre>
<p>Starts/stops listening to microphone audio stream for tagged media.</p>

<p>Method signature: <code>session.scanManager.startAudioScan()</code></p>

<p>Method signature: <code>session.scanManager.stopAudioScan()</code></p>
<h3 id='method-destroy'>Method: destroy</h3><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">UIKit</span>
<span class="kd">import</span> <span class="kt">RezolveSDK</span>

<span class="kd">class</span> <span class="kt">ScanManagerViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>
    <span class="c1">// ...</span>
    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// ...</span>
        <span class="n">scanManager</span><span class="p">?</span><span class="o">.</span><span class="nf">destroy</span><span class="p">()</span>
    <span class="p">}</span>

<span class="p">}</span>
</code></pre><pre class="highlight java tab-java"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">ScanActivity</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="kd">implements</span> <span class="n">ScanManagerInterface</span> <span class="o">{</span>
    <span class="c1">// same vars as above</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
        <span class="c1">// set the content view</span>
        <span class="n">setContentView</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">scan_activity</span><span class="o">);</span>
        <span class="c1">// reference our scan_view</span>
        <span class="n">rezolveScanView</span> <span class="o">=</span> <span class="o">(</span><span class="n">RezolveScanView</span><span class="o">)</span><span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">scan_view</span><span class="o">);</span>
        <span class="c1">// initialize scan manager</span>
        <span class="n">scanManager</span> <span class="o">=</span> <span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span> <span class="n">RezolveSDK</span><span class="o">.</span><span class="na">Env</span><span class="o">.</span><span class="na">SANDBOX</span><span class="o">)</span>
                <span class="o">.</span><span class="na">getRezolveSession</span><span class="o">().</span><span class="na">getScanManager</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>

        <span class="c1">// use stopAudioScan to cease listening.</span>
        <span class="n">scanManager</span><span class="o">.</span><span class="na">destroy</span><span class="o">();</span>
    <span class="o">}</span>
    <span class="c1">// destroy has no response methods</span>
<span class="o">}</span>
</code></pre>
<p>The destroy() method should always be called when done with scanning. The method destroys the initialized scan manager, and frees the resources it was consuming.</p>

<p>Method signature: <code>session.scanManager.destroy()</code></p>

          <h2 id='module-useractivitymanager'>Module: UserActivityManager</h2>
<p>Activity is an aggregate of Session.</p>

<p>The user activity module handles order history and other historical data.</p>

<p>Note that this module contains some functions reserved for future functionality, namely:</p>

<ul>
<li>getActsHistory()</li>
<li>getActById()</li>
<li>getScansHistory()</li>
<li>getScanById()</li>
</ul>

<p>These functions are NOT implemented server-side, and should not be used at this time.</p>
<h3 id='method-getorders'>Method: getOrders</h3><pre class="highlight swift tab-swift"><code><span class="kt">TODO</span>
</code></pre><pre class="highlight java tab-java"><code><span class="c1">// get orders using UserActivityManager</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">userActivity</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="kd">implements</span> <span class="n">UserActivityInterface</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"your_api_key"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">ENVIRONMENT</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
        <span class="n">UserActivityManager</span> <span class="n">myActivityManager</span> <span class="o">=</span> <span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span>
        <span class="n">ENVIRONMENT</span><span class="o">).</span><span class="na">getRezolveSession</span><span class="o">().</span><span class="na">getUserActivityManager</span><span class="o">();</span>

        <span class="c1">// these strings represent dates in yyyy-MM-dd format. Both are nullable.</span>
        <span class="n">String</span> <span class="n">from</span> <span class="o">=</span> <span class="s">"2016-09-30"</span><span class="o">;</span>
        <span class="n">String</span> <span class="n">to</span> <span class="o">=</span> <span class="s">"2016-12-30"</span><span class="o">;</span>

        <span class="c1">// get transactions from User Activity Manager</span>
        <span class="n">myActivityManager</span><span class="o">.</span><span class="na">getOrders</span><span class="o">(</span> <span class="k">this</span><span class="o">,</span> <span class="n">from</span><span class="o">,</span> <span class="n">to</span><span class="o">);</span>

        <span class="c1">// The following are reserved for future functionality:</span>
        <span class="c1">// myActivityManager.getActsHistory();</span>
        <span class="c1">// myActivityManager.getActById();</span>
        <span class="c1">// myActivityManager.getScansHistory();</span>
        <span class="c1">// myActivityManager.getScanById();</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onGetOrdersSuccess</span><span class="o">(</span><span class="n">OrderHistoryObject</span> <span class="n">orderHistoryObject</span><span class="o">)</span> <span class="o">{</span>

        <span class="n">String</span> <span class="n">orderHistoryCount</span> <span class="o">=</span> <span class="n">orderHistoryObject</span><span class="o">.</span><span class="na">getCount</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">orderHistoryFrom</span> <span class="o">=</span> <span class="n">orderHistoryObject</span><span class="o">.</span><span class="na">getFrom</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">orderHistoryTo</span> <span class="o">=</span> <span class="n">orderHistoryObject</span><span class="o">.</span><span class="na">getTo</span><span class="o">();</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">OrderDetails</span><span class="o">&gt;</span> <span class="n">orderHistoryOrders</span> <span class="o">=</span> <span class="n">orderHistoryObject</span><span class="o">.</span><span class="na">getOrders</span><span class="o">();</span>

        <span class="c1">// get properties of orderDetails array</span>
        <span class="k">for</span> <span class="o">(</span><span class="n">OrderDetails</span> <span class="n">orderDetails</span> <span class="o">:</span> <span class="n">orderHistoryOrders</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">String</span> <span class="n">orderMerchantId</span> <span class="o">=</span> <span class="n">orderDetails</span><span class="o">.</span><span class="na">getMerchantId</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">orderId</span> <span class="o">=</span> <span class="n">orderDetails</span><span class="o">.</span><span class="na">getOrderId</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">orderPan4</span> <span class="o">=</span> <span class="n">orderDetails</span><span class="o">.</span><span class="na">getPan4</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">orderPayWith</span> <span class="o">=</span> <span class="n">orderDetails</span><span class="o">.</span><span class="na">getPayWith</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">orderStatus</span> <span class="o">=</span> <span class="n">orderDetails</span><span class="o">.</span><span class="na">getStatus</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">orderTimestamp</span> <span class="o">=</span> <span class="n">orderDetails</span><span class="o">.</span><span class="na">getTimestamp</span><span class="o">();</span>
            <span class="n">RezolveLocation</span> <span class="n">orderLocation</span> <span class="o">=</span> <span class="n">orderDetails</span><span class="o">.</span><span class="na">getGeoloc</span><span class="o">();</span>
            <span class="n">List</span><span class="o">&lt;</span><span class="n">OrderProduct</span><span class="o">&gt;</span> <span class="n">orderItems</span> <span class="o">=</span> <span class="n">orderDetails</span><span class="o">.</span><span class="na">getItems</span><span class="o">();</span>

            <span class="n">Order</span> <span class="n">price</span> <span class="o">=</span> <span class="n">orderDetails</span><span class="o">.</span><span class="na">getPrice</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">partnerId</span> <span class="o">=</span> <span class="n">orderDetails</span><span class="o">.</span><span class="na">getPartnerId</span><span class="o">();</span>
            <span class="n">Address</span> <span class="n">billingAddress</span> <span class="o">=</span> <span class="n">orderDetails</span><span class="o">.</span><span class="na">getBillingAddressDetails</span><span class="o">();</span>
            <span class="n">Address</span> <span class="n">shippingAddress</span> <span class="o">=</span> <span class="n">orderDetails</span><span class="o">.</span><span class="na">getShippingAddressDetails</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">email</span> <span class="o">=</span> <span class="n">orderDetails</span><span class="o">.</span><span class="na">getEmail</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">firstName</span> <span class="o">=</span> <span class="n">orderDetails</span><span class="o">.</span><span class="na">getFirstName</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">lastName</span> <span class="o">=</span> <span class="n">orderDetails</span><span class="o">.</span><span class="na">getLastName</span><span class="o">();</span>
            <span class="n">Phone</span> <span class="n">phone</span> <span class="o">=</span> <span class="n">orderDetails</span><span class="o">.</span><span class="na">getPhone</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">merchantEmail</span> <span class="o">=</span> <span class="n">orderDetails</span><span class="o">.</span><span class="na">getMerchantEmail</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">merchantName</span> <span class="o">=</span> <span class="n">orderDetails</span><span class="o">.</span><span class="na">getMerchantName</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">merchantPhone</span> <span class="o">=</span> <span class="n">orderDetails</span><span class="o">.</span><span class="na">getMerchantPhone</span><span class="o">();</span>




            <span class="c1">// get properties of finalPrice object</span>
            <span class="n">String</span> <span class="n">orderFinalPriceOrderId</span> <span class="o">=</span> <span class="n">price</span><span class="o">.</span><span class="na">getOrderId</span><span class="o">();</span>
            <span class="kt">float</span> <span class="n">orderFinalPriceFinalPrice</span> <span class="o">=</span> <span class="n">price</span><span class="o">.</span><span class="na">getFinalPrice</span><span class="o">();</span>
            <span class="n">List</span><span class="o">&lt;</span><span class="n">PriceBreakdown</span><span class="o">&gt;</span> <span class="n">orderFinalPriceBreakdowns</span> <span class="o">=</span> <span class="n">price</span><span class="o">.</span><span class="na">getBreakdowns</span><span class="o">();</span>

            <span class="c1">// get properties of PriceBreakdown array</span>
            <span class="k">for</span> <span class="o">(</span><span class="n">PriceBreakdown</span> <span class="n">priceBreakdown</span> <span class="o">:</span> <span class="n">orderFinalPriceBreakdowns</span><span class="o">)</span> <span class="o">{</span>
                <span class="kt">float</span> <span class="n">breakdownAmount</span> <span class="o">=</span> <span class="n">priceBreakdown</span><span class="o">.</span><span class="na">getAmount</span><span class="o">();</span>
                <span class="n">String</span> <span class="n">breakdownType</span> <span class="o">=</span> <span class="n">priceBreakdown</span><span class="o">.</span><span class="na">getType</span><span class="o">();</span>
            <span class="o">}</span>

            <span class="c1">// get properties of orderLocation  object</span>
            <span class="kt">double</span> <span class="n">orderLatitude</span> <span class="o">=</span> <span class="n">orderLocation</span><span class="o">.</span><span class="na">getLatitude</span><span class="o">();</span>
            <span class="kt">double</span> <span class="n">orderLongitude</span> <span class="o">=</span> <span class="n">orderLocation</span><span class="o">.</span><span class="na">getLongitude</span><span class="o">();</span>

            <span class="c1">// get properties of orderItems array</span>
            <span class="k">for</span> <span class="o">(</span><span class="n">OrderProduct</span> <span class="n">orderProduct</span> <span class="o">:</span> <span class="n">orderItems</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">List</span><span class="o">&lt;</span><span class="n">ConfigurableOptionValue</span><span class="o">&gt;</span> <span class="n">configurableOptionValues</span> <span class="o">=</span> <span class="n">orderProduct</span><span class="o">.</span><span class="na">getConfigurableOptionValues</span><span class="o">();</span>
                <span class="kt">int</span> <span class="n">quantity</span> <span class="o">=</span> <span class="n">orderProduct</span><span class="o">.</span><span class="na">getQuantity</span><span class="o">();</span>

                <span class="k">for</span> <span class="o">(</span><span class="n">ConfigurableOptionValue</span> <span class="n">configurableOptionValue</span> <span class="o">:</span> <span class="n">configurableOptionValues</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">String</span> <span class="n">configurableOptionValueCode</span> <span class="o">=</span> <span class="n">configurableOptionValue</span><span class="o">.</span><span class="na">getCode</span><span class="o">();</span>
                    <span class="n">String</span> <span class="n">configurableOptionValueLabel</span> <span class="o">=</span> <span class="n">configurableOptionValue</span><span class="o">.</span><span class="na">getLabel</span><span class="o">();</span>
                    <span class="n">String</span> <span class="n">configurableOptionValueValue</span> <span class="o">=</span> <span class="n">configurableOptionValue</span><span class="o">.</span><span class="na">getValue</span><span class="o">();</span>
                    <span class="kt">int</span> <span class="n">configurableOptionValueValueId</span> <span class="o">=</span> <span class="n">configurableOptionValue</span><span class="o">.</span><span class="na">getValueId</span><span class="o">();</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onGetScansSuccess</span><span class="o">(</span><span class="n">RezolveHistoryObject</span> <span class="n">rezolveHistoryObject</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// reserved for future functionality</span>
        <span class="c1">// not implemented server-side</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onGetScanByIdSuccess</span><span class="o">(</span><span class="n">RezolveScanObject</span> <span class="n">rezolveScanObject</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// reserved for future functionality</span>
        <span class="c1">// not implemented server-side</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onPostHistoryItemSuccess</span><span class="o">(</span><span class="n">RezolveScanObject</span> <span class="n">rezolveScanObject</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// reserved for future functionality</span>
        <span class="c1">// not implemented server-side</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onGetActsSuccess</span><span class="o">(</span><span class="n">RezolveHistoryObject</span> <span class="n">rezolveHistoryObject</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// reserved for future functionality</span>
        <span class="c1">// not implemented server-side</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onGetActByIdSuccess</span><span class="o">(</span><span class="n">RezolveHistoryObject</span> <span class="n">rezolveHistoryObject</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// reserved for future functionality</span>
        <span class="c1">// not implemented server-side</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onFailure</span><span class="o">(</span><span class="n">HttpResponse</span> <span class="n">httpResponse</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// handle error</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>Method signature: <code>session.getOrders( [callback or interface] )</code></p>

<p>The method returns a <code>orderHistory object</code>.</p>
<h4 id='orderhistoryobject-object'>OrderHistoryObject Object</h4>
<table><thead>
<tr>
<th>field</th>
<th>format</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td>orderHistoryCount</td>
<td>string</td>
<td>15</td>
</tr>
<tr>
<td>orderHistoryFrom</td>
<td>date string in format YYYY-MM-DD</td>
<td>2017-12-01</td>
</tr>
<tr>
<td>orderHistoryTo</td>
<td>date string in format YYYY-MM-DD</td>
<td>2018-01-01</td>
</tr>
<tr>
<td>orderHistoryOrders</td>
<td>array of OrderDetails objects</td>
<td>&nbsp;</td>
</tr>
</tbody></table>
<h4 id='orderdetails-object'>OrderDetails object</h4>
<table><thead>
<tr>
<th>field</th>
<th>format</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td>orderMerchantId</td>
<td>string</td>
<td>123</td>
</tr>
<tr>
<td>orderId</td>
<td>string</td>
<td>123</td>
</tr>
<tr>
<td>orderPan4</td>
<td>string</td>
<td>5546</td>
</tr>
<tr>
<td>orderPayWith</td>
<td>string</td>
<td>VISA</td>
</tr>
<tr>
<td>orderStatus</td>
<td>string</td>
<td>Complete</td>
</tr>
<tr>
<td>orderTimestamp</td>
<td>string (unix timestamp)</td>
<td>1493130773</td>
</tr>
<tr>
<td>orderLocation</td>
<td>RezolveLocation object</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>partnerId</td>
<td>string</td>
<td>123</td>
</tr>
<tr>
<td>billingAddress</td>
<td>Address object</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>shippingAddress</td>
<td>Address object</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>email</td>
<td>string</td>
<td>user@example.com</td>
</tr>
<tr>
<td>firstName</td>
<td>string</td>
<td>John</td>
</tr>
<tr>
<td>lastName</td>
<td>string</td>
<td>Everyman</td>
</tr>
<tr>
<td>phone</td>
<td>Phone object</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>merchantEmail</td>
<td>string</td>
<td>merchant@email.com</td>
</tr>
<tr>
<td>merchantName</td>
<td>string</td>
<td>Adam&#39;s Apples</td>
</tr>
<tr>
<td>merchantPhone</td>
<td>string</td>
<td>555-555-1212</td>
</tr>
<tr>
<td>price</td>
<td>Order object</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>orderItems</td>
<td>array of OrderProduct objects</td>
<td>&nbsp;</td>
</tr>
</tbody></table>
<h4 id='phone-object'>Phone Object</h4>
<table><thead>
<tr>
<th>field</th>
<th>format</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td>phoneId</td>
<td>string</td>
<td>123abc</td>
</tr>
<tr>
<td>phoneName</td>
<td>string</td>
<td>Home phone</td>
</tr>
<tr>
<td>phoneNumber</td>
<td>string</td>
<td>555-555-1212</td>
</tr>
</tbody></table>
<h4 id='address-object'>Address Object</h4>
<table><thead>
<tr>
<th>field</th>
<th>format</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>auto-assigned string</td>
<td>123abc</td>
</tr>
<tr>
<td>short_name</td>
<td>string</td>
<td>My house</td>
</tr>
<tr>
<td>line1</td>
<td>string</td>
<td>Theodore Lowe</td>
</tr>
<tr>
<td>line2</td>
<td>string</td>
<td>Ap #867-859 Sit Rd.</td>
</tr>
<tr>
<td>city</td>
<td>string</td>
<td>New York</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>NY</td>
</tr>
<tr>
<td>zip</td>
<td>string</td>
<td>39531</td>
</tr>
<tr>
<td>country</td>
<td>string</td>
<td>USA</td>
</tr>
</tbody></table>
<h4 id='order-object'>Order object</h4>
<table><thead>
<tr>
<th>field</th>
<th>format</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td>orderFinalPriceOrderId</td>
<td>string</td>
<td>123</td>
</tr>
<tr>
<td>orderFinalPriceFinalPrice</td>
<td>float</td>
<td>123.45</td>
</tr>
<tr>
<td>orderFinalPriceBreakdowns</td>
<td>array of PriceBreakdown objects</td>
<td>&nbsp;</td>
</tr>
</tbody></table>
<h4 id='pricebreakdown-object'>PriceBreakdown object</h4>
<table><thead>
<tr>
<th>field</th>
<th>format</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td>breakdownAmount</td>
<td>float</td>
<td>123.45</td>
</tr>
<tr>
<td>breakdownType</td>
<td>string</td>
<td>Subtotal</td>
</tr>
</tbody></table>
<h4 id='rezolvelocation-object'>RezolveLocation object</h4>
<table><thead>
<tr>
<th>field</th>
<th>format</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td>orderLatitude</td>
<td>double</td>
<td>66.123</td>
</tr>
<tr>
<td>orderLongitude</td>
<td>double</td>
<td>-140.889</td>
</tr>
</tbody></table>
<h4 id='orderproduct-object'>OrderProduct object</h4>
<table><thead>
<tr>
<th>field</th>
<th>format</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td>configurableOptionValues</td>
<td>array of ConfigurableOptionValue objects</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>quantity</td>
<td>integer</td>
<td>1</td>
</tr>
</tbody></table>
<h4 id='configurableoptionvalue-object'>ConfigurableOptionValue object</h4>
<table><thead>
<tr>
<th>field</th>
<th>format</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td>configurableOptionValueCode</td>
<td>string</td>
<td>pl123</td>
</tr>
<tr>
<td>configurableOptionValueLabel</td>
<td>string</td>
<td>Pattern</td>
</tr>
<tr>
<td>configurableOptionValueValue</td>
<td>string</td>
<td>plaid</td>
</tr>
<tr>
<td>configurableOptionValueValueId</td>
<td>integer</td>
<td>123</td>
</tr>
</tbody></table>

          <h2 id='module-walletmanager'>Module: WalletManager</h2>
<p>The WalletManager is an aggregate of Session.</p>

<p>This module provides CRUD functions for payment cards.  The consumer may add one or more payment cards to their account.</p>
<h3 id='method-walletmanager-create'>Method: walletManager.create</h3><pre class="highlight swift tab-swift"><code><span class="kd">class</span> <span class="kt">WalletViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="k">let</span> <span class="nv">API_KEY</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">"your_api_key"</span>
    <span class="k">let</span> <span class="nv">ENVIRONMENT</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span>

    <span class="k">var</span> <span class="nv">mySession</span><span class="p">:</span> <span class="kt">RezolveSession</span><span class="p">?</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>

        <span class="k">self</span><span class="o">.</span><span class="n">mySession</span> <span class="o">=</span> <span class="o">...</span> <span class="c1">// initialize session</span>

        <span class="k">let</span> <span class="nv">paymentCard</span> <span class="o">=</span> <span class="kt">PaymentCard</span><span class="p">()</span>

        <span class="n">paymentCard</span><span class="o">.</span><span class="n">brand</span> <span class="o">=</span> <span class="s">"MASTER"</span>
        <span class="n">paymentCard</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s">"credit"</span>
        <span class="n">paymentCard</span><span class="o">.</span><span class="n">cardHolderName</span> <span class="o">=</span> <span class="s">"John Doe"</span>
        <span class="n">paymentCard</span><span class="o">.</span><span class="n">expiresOn</span> <span class="o">=</span> <span class="s">"12/18"</span>
        <span class="n">paymentCard</span><span class="o">.</span><span class="n">pan</span> <span class="o">=</span> <span class="s">"9999999999999999"</span>
        <span class="n">paymentCard</span><span class="o">.</span><span class="n">addressId</span> <span class="o">=</span> <span class="s">"123"</span> <span class="c1">// address.id</span>
        <span class="n">paymentCard</span><span class="o">.</span><span class="n">shortName</span> <span class="o">=</span> <span class="s">"My Mastercard"</span>

        <span class="k">self</span><span class="o">.</span><span class="n">mySession</span><span class="p">?</span><span class="o">.</span><span class="n">walletManager</span><span class="o">.</span><span class="nf">create</span><span class="p">(</span>
            <span class="nv">paymentCard</span><span class="p">:</span> <span class="n">paymentCard</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="nv">remotePaymentCard</span><span class="p">:</span> <span class="kt">PaymentCard</span><span class="p">)</span> <span class="k">in</span>

                <span class="k">let</span> <span class="nv">paymentCardId</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="n">remotePaymentCard</span><span class="o">.</span><span class="n">id</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight java tab-java"><code><span class="c1">// create payment card using WalletInterface</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Wallet</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="kd">implements</span> <span class="n">WalletInterface</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"your_api_key"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">ENVIRONMENT</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>

        <span class="n">WalletManager</span> <span class="n">myWalletManager</span> <span class="o">=</span> <span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span> 
        <span class="n">ENVIRONMENT</span><span class="o">).</span><span class="na">getRezolveSession</span><span class="o">().</span><span class="na">getWalletManager</span><span class="o">();</span>

        <span class="c1">// create a new payment card</span>
        <span class="n">PaymentCard</span> <span class="n">myCard</span> <span class="o">=</span> <span class="k">new</span> <span class="n">PaymentCard</span><span class="o">();</span>
        <span class="n">myCard</span><span class="o">.</span><span class="na">setAddressId</span><span class="o">(</span><span class="s">"123"</span><span class="o">);</span>
        <span class="n">myCard</span><span class="o">.</span><span class="na">setBrand</span><span class="o">(</span><span class="s">"Bank of America"</span><span class="o">);</span>
        <span class="n">myCard</span><span class="o">.</span><span class="na">setExpiresOn</span><span class="o">(</span><span class="s">"08/19"</span><span class="o">);</span>
        <span class="n">myCard</span><span class="o">.</span><span class="na">setNameOnCard</span><span class="o">(</span><span class="s">"John Doe"</span><span class="o">);</span>
        <span class="n">myCard</span><span class="o">.</span><span class="na">setPan</span><span class="o">(</span><span class="s">"4111111111111111"</span><span class="o">);</span>
        <span class="n">myCard</span><span class="o">.</span><span class="na">setShortName</span><span class="o">(</span><span class="s">"My Amex"</span><span class="o">);</span>
        <span class="n">myCard</span><span class="o">.</span><span class="na">setType</span><span class="o">(</span><span class="s">"Amex"</span><span class="o">);</span>
        <span class="n">myCard</span><span class="o">.</span><span class="na">setValidFrom</span><span class="o">(</span><span class="s">"08/16"</span><span class="o">);</span>
        <span class="n">myWalletManager</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">myCard</span><span class="o">,</span> <span class="k">this</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onWalletCreateSuccess</span><span class="o">(</span><span class="n">PaymentCard</span> <span class="n">paymentCard</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// display success message</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>Method signature: <code>session.walletManager.create( [callback or interface] )</code></p>

<p>You must pass in a <code>paymentCard</code> object with the <code>id</code> field blank.</p>

<p>The SDK will encrypt the PAN (payment account number) using the session public key before transmission.</p>

<p>The method returns the created <code>paymentCard</code> object with <code>id</code> upon success.</p>
<h4 id='paymentcard-object'>paymentCard Object</h4>
<table><thead>
<tr>
<th>field</th>
<th>format</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>auto-assigned string</td>
<td>123</td>
</tr>
<tr>
<td>short_name</td>
<td>string</td>
<td>black amex</td>
</tr>
<tr>
<td>pan</td>
<td>string</td>
<td>gWkxi0kiMJnEagRpm5dXmggWOrblj9+wsasm8Ysjp</td>
</tr>
<tr>
<td>pan6</td>
<td>string</td>
<td>123456</td>
</tr>
<tr>
<td>pan4</td>
<td>string</td>
<td>1234</td>
</tr>
<tr>
<td>brand</td>
<td>string</td>
<td>visa</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>debit</td>
</tr>
<tr>
<td>name_on_card</td>
<td>string</td>
<td>John Curtis</td>
</tr>
<tr>
<td>expires_on</td>
<td>string</td>
<td>08/17</td>
</tr>
<tr>
<td>valid_from</td>
<td>string</td>
<td>08/14</td>
</tr>
<tr>
<td>address_id</td>
<td>string</td>
<td>123</td>
</tr>
</tbody></table>
<h3 id='method-walletmanager-update'>Method: walletManager.update</h3><pre class="highlight swift tab-swift"><code><span class="kd">class</span> <span class="kt">WalletViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="k">let</span> <span class="nv">API_KEY</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">"your_api_key"</span>
    <span class="k">let</span> <span class="nv">ENVIRONMENT</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span>

    <span class="k">var</span> <span class="nv">mySession</span><span class="p">:</span> <span class="kt">RezolveSession</span><span class="p">?</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>

        <span class="k">self</span><span class="o">.</span><span class="n">mySession</span> <span class="o">=</span> <span class="o">...</span> <span class="c1">// initialize session</span>

        <span class="k">self</span><span class="o">.</span><span class="n">mySession</span><span class="p">?</span><span class="o">.</span><span class="n">walletManager</span><span class="o">.</span><span class="nf">get</span><span class="p">(</span><span class="nv">id</span><span class="p">:</span> <span class="s">"123"</span><span class="p">)</span> <span class="p">{</span> 
         <span class="p">(</span><span class="nv">remotePaymentCard</span><span class="p">:</span> <span class="kt">PaymentCard</span><span class="p">)</span> <span class="k">in</span>

            <span class="n">remotePaymentCard</span><span class="o">.</span><span class="n">shortName</span> <span class="o">=</span> <span class="s">"My Visa"</span>

            <span class="k">self</span><span class="o">.</span><span class="n">mySession</span><span class="p">?</span><span class="o">.</span><span class="n">walletManager</span><span class="o">.</span><span class="nf">update</span><span class="p">(</span><span class="nv">paymentCard</span><span class="p">:</span> <span class="n">remotePaymentCard</span><span class="p">)</span> <span class="p">{</span>
             <span class="p">(</span><span class="nv">remotePaymentCard2</span><span class="p">:</span> <span class="kt">PaymentCard</span><span class="p">)</span> <span class="k">in</span>

                <span class="c1">//handle result</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight java tab-java"><code><span class="c1">// update payment card using WalletInterface</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Wallet</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="kd">implements</span> <span class="n">WalletInterface</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"your_api_key"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">ENVIRONMENT</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>

        <span class="n">WalletManager</span> <span class="n">myWalletManager</span> <span class="o">=</span> <span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span> 
        <span class="n">ENVIRONMENT</span><span class="o">).</span><span class="na">getRezolveSession</span><span class="o">().</span><span class="na">getWalletManager</span><span class="o">();</span>

        <span class="c1">// update a payment card</span>
        <span class="n">PaymentCard</span> <span class="n">myCard2</span> <span class="o">=</span> <span class="k">new</span> <span class="n">PaymentCard</span><span class="o">();</span>
        <span class="n">myCard</span><span class="o">.</span><span class="na">setAddressId</span><span class="o">(</span><span class="s">"123"</span><span class="o">);</span>
        <span class="n">myCard</span><span class="o">.</span><span class="na">setBrand</span><span class="o">(</span><span class="s">"Bank of America"</span><span class="o">);</span>
        <span class="n">myCard</span><span class="o">.</span><span class="na">setExpiresOn</span><span class="o">(</span><span class="s">"08/19"</span><span class="o">);</span>
        <span class="n">myCard</span><span class="o">.</span><span class="na">setNameOnCard</span><span class="o">(</span><span class="s">"John Doe"</span><span class="o">);</span>
        <span class="n">myCard</span><span class="o">.</span><span class="na">setPan</span><span class="o">(</span><span class="s">"4111111111111111"</span><span class="o">);</span>
        <span class="n">myCard</span><span class="o">.</span><span class="na">setShortName</span><span class="o">(</span><span class="s">"My Amex"</span><span class="o">);</span>
        <span class="n">myCard</span><span class="o">.</span><span class="na">setType</span><span class="o">(</span><span class="s">"Amex"</span><span class="o">);</span>
        <span class="n">myCard</span><span class="o">.</span><span class="na">setValidFrom</span><span class="o">(</span><span class="s">"08/16"</span><span class="o">);</span>
        <span class="n">myWalletManager</span><span class="o">.</span><span class="na">update</span><span class="o">(</span><span class="n">myCard</span><span class="o">,</span> <span class="k">this</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onWalletUpdateSuccess</span><span class="o">(</span><span class="n">PaymentCard</span> <span class="n">paymentCard</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// display success message</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>Method signature: <code>session.walletManager.update( paymentCard, [callback or interface] )</code></p>

<p>You must pass in a valid <code>paymentCard</code> object with <code>id</code> populated.</p>

<p>The method returns the updated <code>paymentCard</code> object upon success.</p>
<h3 id='method-walletmanager-delete'>Method: walletManager.delete</h3><pre class="highlight swift tab-swift"><code><span class="kd">class</span> <span class="kt">WalletViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="k">let</span> <span class="nv">API_KEY</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">"your_api_key"</span>
    <span class="k">let</span> <span class="nv">ENVIRONMENT</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span>

    <span class="k">var</span> <span class="nv">mySession</span><span class="p">:</span> <span class="kt">RezolveSession</span><span class="p">?</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>

        <span class="k">self</span><span class="o">.</span><span class="n">mySession</span> <span class="o">=</span> <span class="o">...</span> <span class="c1">// initialize session</span>

        <span class="k">self</span><span class="o">.</span><span class="n">mySession</span><span class="p">?</span><span class="o">.</span><span class="n">walletManager</span><span class="o">.</span><span class="nf">get</span><span class="p">(</span><span class="nv">id</span><span class="p">:</span> <span class="s">"123"</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="nv">remotePaymentCard</span><span class="p">:</span> <span class="kt">PaymentCard</span><span class="p">)</span> <span class="k">in</span>

            <span class="k">self</span><span class="o">.</span><span class="n">mySession</span><span class="p">?</span><span class="o">.</span><span class="n">walletManager</span><span class="o">.</span><span class="nf">delete</span><span class="p">(</span><span class="nv">paymentCard</span><span class="p">:</span> <span class="n">remotePaymentCard</span><span class="p">)</span> <span class="p">{</span> <span class="p">()</span> <span class="k">in</span>

                <span class="c1">//handle callback</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight java tab-java"><code><span class="c1">// delete payment card using WalletInterface</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Wallet</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="kd">implements</span> <span class="n">WalletInterface</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"your_api_key"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">ENVIRONMENT</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>

        <span class="n">WalletManager</span> <span class="n">myWalletManager</span> <span class="o">=</span> <span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span> 
        <span class="n">ENVIRONMENT</span><span class="o">).</span><span class="na">getRezolveSession</span><span class="o">().</span><span class="na">getWalletManager</span><span class="o">();</span>

        <span class="c1">// delete a payment card</span>
        <span class="n">PaymentCard</span> <span class="n">myCard3</span> <span class="o">=</span> <span class="k">new</span> <span class="n">PaymentCard</span><span class="o">();</span>
        <span class="n">myCard</span><span class="o">.</span><span class="na">setAddressId</span><span class="o">(</span><span class="s">"123"</span><span class="o">);</span>
        <span class="n">myCard</span><span class="o">.</span><span class="na">setBrand</span><span class="o">(</span><span class="s">"Bank of America"</span><span class="o">);</span>
        <span class="n">myCard</span><span class="o">.</span><span class="na">setExpiresOn</span><span class="o">(</span><span class="s">"08/19"</span><span class="o">);</span>
        <span class="n">myCard</span><span class="o">.</span><span class="na">setNameOnCard</span><span class="o">(</span><span class="s">"John Doe"</span><span class="o">);</span>
        <span class="n">myCard</span><span class="o">.</span><span class="na">setPan</span><span class="o">(</span><span class="s">"4111111111111111"</span><span class="o">);</span>
        <span class="n">myCard</span><span class="o">.</span><span class="na">setShortName</span><span class="o">(</span><span class="s">"My Amex"</span><span class="o">);</span>
        <span class="n">myCard</span><span class="o">.</span><span class="na">setType</span><span class="o">(</span><span class="s">"Amex"</span><span class="o">);</span>
        <span class="n">myCard</span><span class="o">.</span><span class="na">setValidFrom</span><span class="o">(</span><span class="s">"08/16"</span><span class="o">);</span>
        <span class="n">myWalletManager</span><span class="o">.</span><span class="na">delete</span><span class="o">(</span><span class="n">myCard</span><span class="o">,</span> <span class="k">this</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onWalletDeleteSuccess</span><span class="o">(</span><span class="n">HttpResponse</span> <span class="n">httpResponse</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// display success message</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>Method signature: <code>session.walletManager.delete( id, [callback or interface] )</code></p>

<p>You must pass in the <code>paymentCard</code> object to delete.</p>
<h3 id='method-walletmanager-get'>Method: walletManager.get</h3><pre class="highlight swift tab-swift"><code><span class="kd">class</span> <span class="kt">WalletViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="k">let</span> <span class="nv">API_KEY</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">"your_api_key"</span>
    <span class="k">let</span> <span class="nv">ENVIRONMENT</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span>

    <span class="k">var</span> <span class="nv">mySession</span><span class="p">:</span> <span class="kt">RezolveSession</span><span class="p">?</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>

        <span class="k">self</span><span class="o">.</span><span class="n">mySession</span> <span class="o">=</span> <span class="o">...</span> <span class="c1">// initialize session</span>

        <span class="k">self</span><span class="o">.</span><span class="n">mySession</span><span class="p">?</span><span class="o">.</span><span class="n">walletManager</span><span class="o">.</span><span class="nf">get</span><span class="p">(</span><span class="nv">id</span><span class="p">:</span> <span class="s">"123"</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="nv">remotePaymentCard</span><span class="p">:</span> <span class="kt">PaymentCard</span><span class="p">)</span> <span class="k">in</span>

            <span class="k">let</span> <span class="nv">paymentCardId</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="n">remotePaymentCard</span><span class="o">.</span><span class="n">id</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight java tab-java"><code><span class="c1">// get a payment card using WalletInterface</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Wallet</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="kd">implements</span> <span class="n">WalletInterface</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"your_api_key"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">ENVIRONMENT</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>

        <span class="n">WalletManager</span> <span class="n">myWalletManager</span> <span class="o">=</span> <span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span> 
        <span class="n">ENVIRONMENT</span><span class="o">).</span><span class="na">getRezolveSession</span><span class="o">().</span><span class="na">getWalletManager</span><span class="o">();</span>

        <span class="c1">// list a single payment card</span>
        <span class="n">String</span> <span class="n">card_id</span> <span class="o">=</span> <span class="s">"123"</span><span class="o">;</span>
        <span class="n">myWalletManager</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">card_id</span><span class="o">,</span><span class="k">this</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onWalletGetSuccess</span><span class="o">(</span><span class="n">PaymentCard</span> <span class="n">paymentCard</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// show Card info</span>
        <span class="n">String</span> <span class="n">cardId</span> <span class="o">=</span> <span class="n">paymentCard</span><span class="o">.</span><span class="na">getId</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">addressId</span> <span class="o">=</span> <span class="n">paymentCard</span><span class="o">.</span><span class="na">getAddressId</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">brand</span> <span class="o">=</span> <span class="n">paymentCard</span><span class="o">.</span><span class="na">getBrand</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">expiresOn</span> <span class="o">=</span> <span class="n">paymentCard</span><span class="o">.</span><span class="na">getExpiresOn</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">nameOnCard</span> <span class="o">=</span> <span class="n">paymentCard</span><span class="o">.</span><span class="na">getNameOnCard</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">pan4</span> <span class="o">=</span> <span class="n">paymentCard</span><span class="o">.</span><span class="na">getPan4</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">pan6</span> <span class="o">=</span> <span class="n">paymentCard</span><span class="o">.</span><span class="na">getPan6</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">shortName</span> <span class="o">=</span> <span class="n">paymentCard</span><span class="o">.</span><span class="na">getShortName</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">type</span> <span class="o">=</span> <span class="n">paymentCard</span><span class="o">.</span><span class="na">getType</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">validFrom</span> <span class="o">=</span> <span class="n">paymentCard</span><span class="o">.</span><span class="na">getValidFrom</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>Method signature: <code>session.walletManager.get( id, [callback or interface] )</code></p>

<p>You must pass in the <code>id</code> of the <code>paymentCard</code> to get.</p>

<p>The method returns a <code>paymentCard</code> object.</p>
<h3 id='method-walletmanager-getall'>Method: walletManager.getAll</h3><pre class="highlight swift tab-swift"><code><span class="kd">class</span> <span class="kt">WalletViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="k">let</span> <span class="nv">API_KEY</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">"your_api_key"</span>
    <span class="k">let</span> <span class="nv">ENVIRONMENT</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span>

    <span class="k">var</span> <span class="nv">mySession</span><span class="p">:</span> <span class="kt">RezolveSession</span><span class="p">?</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>

        <span class="k">self</span><span class="o">.</span><span class="n">mySession</span> <span class="o">=</span> <span class="o">...</span> <span class="c1">// initialize session</span>

        <span class="k">self</span><span class="o">.</span><span class="n">mySession</span><span class="p">?</span><span class="o">.</span><span class="n">walletManager</span><span class="o">.</span><span class="nf">getAll</span><span class="p">()</span> <span class="p">{</span> 
         <span class="p">(</span><span class="nv">listOfPaymentCard</span><span class="p">:</span> <span class="kt">Array</span><span class="o">&lt;</span><span class="kt">PaymentCard</span><span class="o">&gt;</span><span class="p">)</span> <span class="k">in</span>

            <span class="c1">//handle the results</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight java tab-java"><code><span class="c1">// get all payment cards using WalletInterface</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Wallet</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="kd">implements</span> <span class="n">WalletInterface</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"your_api_key"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">ENVIRONMENT</span> <span class="o">=</span> <span class="s">"https://sandbox-api-tw.rzlvtest.co"</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>

        <span class="n">WalletManager</span> <span class="n">myWalletManager</span> <span class="o">=</span> <span class="n">RezolveSDK</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">API_KEY</span><span class="o">,</span> 
         <span class="n">ENVIRONMENT</span><span class="o">).</span><span class="na">getRezolveSession</span><span class="o">().</span><span class="na">getWalletManager</span><span class="o">();</span>

        <span class="c1">// list all payment cards</span>
        <span class="n">myWalletManager</span><span class="o">.</span><span class="na">getAll</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onWalletGetAllSuccess</span><span class="o">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">PaymentCard</span><span class="o">&gt;</span> <span class="n">list</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// handle getAll response here</span>
        <span class="k">for</span><span class="o">(</span><span class="n">PaymentCard</span> <span class="n">paymentCard</span> <span class="o">:</span> <span class="n">list</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">String</span> <span class="n">cardId</span> <span class="o">=</span> <span class="n">paymentCard</span><span class="o">.</span><span class="na">getId</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">addressId</span> <span class="o">=</span> <span class="n">paymentCard</span><span class="o">.</span><span class="na">getAddressId</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">brand</span> <span class="o">=</span> <span class="n">paymentCard</span><span class="o">.</span><span class="na">getBrand</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">expiresOn</span> <span class="o">=</span> <span class="n">paymentCard</span><span class="o">.</span><span class="na">getExpiresOn</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">nameOnCard</span> <span class="o">=</span> <span class="n">paymentCard</span><span class="o">.</span><span class="na">getNameOnCard</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">pan4</span> <span class="o">=</span> <span class="n">paymentCard</span><span class="o">.</span><span class="na">getPan4</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">pan6</span> <span class="o">=</span> <span class="n">paymentCard</span><span class="o">.</span><span class="na">getPan6</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">shortName</span> <span class="o">=</span> <span class="n">paymentCard</span><span class="o">.</span><span class="na">getShortName</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">type</span> <span class="o">=</span> <span class="n">paymentCard</span><span class="o">.</span><span class="na">getType</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">validFrom</span> <span class="o">=</span> <span class="n">paymentCard</span><span class="o">.</span><span class="na">getValidFrom</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>Method signature: <code>session.walletManager.getAll( [callback or interface] )</code></p>

<p>The method returns an array of <code>paymentCard</code> objects.</p>

          <h2 id='module-api-check'>Module: API Check</h2>
<p>API Check is an aggregate of SDK.</p>

<p>The <em>API Check</em> module assists the developer with app lifecycle management.</p>

<p>This module is reserved for future functionality.</p>
<h3 id='method-checkversion'>Method: checkVersion</h3>
<p>Reserved for future functionality.</p>
<h3 id='method-getstatus'>Method: getStatus</h3>
<p>Reserved for future functionality.</p>
<h3 id='method-checkupgrade'>Method: checkUpgrade</h3>
<p>Reserved for future functionality.</p>

          <h1 id='changelog'>Changelog</h1>
<p>All notable changes to the project will be documented in this log.</p>
<h2 id='android-v1-6-0-ios-v1-6-0-march-5-2018'>Android v1.6.0, IOS v1.6.0 - March 5, 2018</h2><h3 id='added'>Added</h3>
<ul>
<li>New section on Generic JWT Authentication, with sequence diagram.</li>
<li>AuthenticationManager.createSession, v2, added.</li>
</ul>
<h3 id='changed'>Changed</h3>
<ul>
<li>Instancing the SDK via <code>RezolveSDK.getInstance</code> used to take an enum to specify environment. This is now takes a string.  <code>RezolveSDK.getInstance(String API_KEY, String ENVIRONMENT)</code>. For the Sandbox, ENVIRONMENT should equal <code>https://sandbox-api-tw.rzlvtest.co</code>. Changed in many code samples.<br></li>
<li>Updated all sequence diagrams for v2 authentication, using JWT.</li>
<li>Product Scan, Instant Buy Flow - updated code samples for <code>CheckoutManager</code> changes</li>
<li>Product Scan, Cart Flow - updated code samples for <code>CheckoutManager</code> changes</li>
<li>Mall flow - updated <code>getMerchants</code> method, and add <code>context</code> to <code>getProducts</code> params. </li>
<li><code>AuthenticationManager.register</code>, v1 <code>.createSession</code> and <code>.logout</code> methods have been deprecated.  V2 <code>.createSession</code> has been added, using JWT accessToken, and removing deviceProfile. CreateSession change made to all sequence diagrams.</li>
<li>Android <code>CheckoutManager</code> - the methods <code>.addProductToCart</code>, `<code>.buyProduct</code>, <code>.checkoutProduct</code>, <code>.removeProductFromCart</code>, and <code>.updateProductInCart</code> now require Android <code>context</code> as their first parameter.</li>
<li><code>ProductManager</code> - change format of <code>getMerchants</code> to require an implementation of <code>ProductCallback</code> as a parameter. Add <code>this</code> context as first parameter to <code>.getCategory</code>, <code>.getProducts</code>, and <code>.getProduct</code>.</li>
</ul>
<h3 id='deleted'>Deleted</h3>
<ul>
<li>The enum to represent the target Rezolve environment <code>RezolveSDK.Env.EvironmentName</code> is removed.</li>
<li>DeviceProfile object removed from createSession. </li>
</ul>
<h2 id='android-v1-5-37-ios-v1-5-40-dec-19-2017'>Android v1.5.37, IOS v1.5.40 - Dec 19 2017</h2><h3 id='added-2'>Added</h3>
<ul>
<li>PhonebookManager Class</li>
</ul>
<h3 id='changed-2'>Changed</h3>
<ul>
<li>Product Scan, Cart Flow example - updated code samples to reflect changes in CheckoutManager, rezolveLocation object</li>
<li>Product Scan, Cart Flow example - updated sequence diagram and narrative to better describe role of signOrderUpdates call.</li>
<li>Product Scan, Instant Buy flow example - updated code samples to reflect chnges in CheckoutManager, rezolveLocation object</li>
<li>Product Scan, Instant Buy flow example - updated sequence diagram and narrative to better describe role of signOrderUpdates call.</li>
<li>CheckoutManager.buyCart - added phonebookId to method parameters. Removed &quot;Type&quot; from RezolveLocation object.</li>
<li>CheckoutManager.buyProduct - added phonebookId to method parameters. Removed &quot;Type&quot; from RezolveLocation object.</li>
<li>CheckoutManager.signOrderUpdates - remove from response:

<ul>
<li>Transaction.transactionAmount (Order object)</li>
<li>Transaction.transactionItems list</li>
<li>remove Transaction.Timestamp from response</li>
</ul></li>
<li>CheckoutManager.signOrderUpdates - clarified narrative describing socket listener behavior.</li>
<li>ProductManager.getProduct - change method name from product.getOptionAvailable() product.getOptionsAvailable()  (plural)</li>
<li>UserActivityManager.getOrders request - add &quot;from&quot; and &quot;to&quot; date parameters to request parameters</li>
<li>UserActivityManager.getOrders response - orderDetails.getItems() now returns a list of OrderProduct objects, instead of HistoryItem objects</li>
<li>UserActivityManager.getOrders response - remove from the OrderDetails object: 

<ul>
<li>Type</li>
<li>RezolveLocation.Type</li>
</ul></li>
<li>UserActivityManager.getOrders response - rename object FinalPrice to Price</li>
<li>UserActivityManager.getOrders response - add to the OrderDetails object:

<ul>
<li>Partner Id</li>
<li>Billing Address</li>
<li>Shipping Address</li>
<li>Email</li>
<li>First Name</li>
<li>Last Name</li>
<li>Phone</li>
<li>Merchant Email</li>
<li>Merchant Name</li>
<li>Merchant Phone</li>
</ul></li>
</ul>
<h3 id='deleted-2'>Deleted</h3>
<ul>
<li>none</li>
</ul>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="swift">IOS</a>
                <a href="#" data-language-name="java">Android</a>
          </div>
      </div>
    </div>
  </body>
</html>
